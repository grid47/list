<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 951: Flip Equivalent Binary Trees | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 951: Flip Equivalent Binary Trees">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 951: Flip Equivalent Binary Trees in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-951-flip-equivalent-binary-trees/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 951: Flip Equivalent Binary Trees">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 951: Flip Equivalent Binary Trees in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 951: Flip Equivalent Binary Trees</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1411s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> flipEquiv(TreeNode<span style="color:#666">*</span> root1, TreeNode<span style="color:#666">*</span> root2) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(root1 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">||</span> root2 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) 
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> root1 <span style="color:#666">==</span> root2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> (root1<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> root2<span style="color:#666">-&gt;</span>val) <span style="color:#666">&amp;&amp;</span> 
</span></span><span style="display:flex;"><span>(flipEquiv(root1<span style="color:#666">-&gt;</span>left, root2<span style="color:#666">-&gt;</span>left) <span style="color:#666">&amp;&amp;</span> flipEquiv(root1<span style="color:#666">-&gt;</span>right, root2<span style="color:#666">-&gt;</span>right) <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>flipEquiv(root1<span style="color:#666">-&gt;</span>left, root2<span style="color:#666">-&gt;</span>right) <span style="color:#666">&amp;&amp;</span> flipEquiv(root1<span style="color:#666">-&gt;</span>right, root2<span style="color:#666">-&gt;</span>left));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to determine whether two binary trees are equivalent when considering a special form of equivalence, known as <strong>flip equivalence</strong>. In this problem, two binary trees are considered equivalent if they can be made identical by flipping the children of any number of nodes. A flip operation at a node means swapping its left and right children. The goal is to return <code>true</code> if the two binary trees are flip equivalent, and <code>false</code> otherwise.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we use a recursive approach to check the equivalence between two binary trees under the allowed flip operations. The idea is that for each pair of corresponding nodes in the two trees, we check if their values are the same, and then check recursively whether the subtrees rooted at those nodes are equivalent either in the original or flipped orientation.</p>
<p>There are two possible ways to check the equivalence of the subtrees:</p>
<ol>
<li>The left child of <code>root1</code> is equivalent to the left child of <code>root2</code> and the right child of <code>root1</code> is equivalent to the right child of <code>root2</code>.</li>
<li>The left child of <code>root1</code> is equivalent to the right child of <code>root2</code> and the right child of <code>root1</code> is equivalent to the left child of <code>root2</code>.</li>
</ol>
<p>If either of these conditions hold true for each pair of nodes, the trees are flip equivalent.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Base Case</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(root1 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">||</span> root2 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) 
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> root1 <span style="color:#666">==</span> root2;
</span></span></code></pre></div><ul>
<li>The base case checks whether either of the trees is <code>NULL</code>. If both are <code>NULL</code>, they are considered equivalent, so we return <code>true</code>. If only one of them is <code>NULL</code>, they are not equivalent, so we return <code>false</code>.</li>
</ul>
</li>
<li>
<p><strong>Recursion for Node Values</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> (root1<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> root2<span style="color:#666">-&gt;</span>val) <span style="color:#666">&amp;&amp;</span> 
</span></span><span style="display:flex;"><span>(flipEquiv(root1<span style="color:#666">-&gt;</span>left, root2<span style="color:#666">-&gt;</span>left) <span style="color:#666">&amp;&amp;</span> flipEquiv(root1<span style="color:#666">-&gt;</span>right, root2<span style="color:#666">-&gt;</span>right) <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>flipEquiv(root1<span style="color:#666">-&gt;</span>left, root2<span style="color:#666">-&gt;</span>right) <span style="color:#666">&amp;&amp;</span> flipEquiv(root1<span style="color:#666">-&gt;</span>right, root2<span style="color:#666">-&gt;</span>left));
</span></span></code></pre></div><ul>
<li>After ensuring that neither of the nodes is <code>NULL</code>, we check if their values are the same. If they are not, we return <code>false</code> immediately.</li>
<li>If the values are the same, we proceed to check the two recursive conditions:
<ol>
<li>The left child of <code>root1</code> is flip equivalent to the left child of <code>root2</code> and the right child of <code>root1</code> is flip equivalent to the right child of <code>root2</code>.</li>
<li>The left child of <code>root1</code> is flip equivalent to the right child of <code>root2</code> and the right child of <code>root1</code> is flip equivalent to the left child of <code>root2</code>.</li>
</ol>
</li>
<li>If either of these conditions is true, we return <code>true</code>; otherwise, we return <code>false</code>.</li>
</ul>
</li>
<li>
<p><strong>Flip Equivalence Check</strong>:</p>
<ul>
<li>The recursive function <code>flipEquiv()</code> is called for all the child nodes, checking whether the trees rooted at these child nodes are equivalent in either the original or flipped configuration.</li>
<li>The recursive calls are structured such that both configurations (original and flipped) are checked for each pair of corresponding child nodes.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity of this solution depends on the number of nodes in the binary trees. Since we visit each node once and perform constant-time operations for each node (i.e., comparing values and recursively checking child nodes), the time complexity is <strong>O(N)</strong>, where <code>N</code> is the number of nodes in the trees.</li>
<li>The recursion depth is also O(N) in the worst case (i.e., when the tree is skewed).</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is primarily due to the recursive stack used for traversing the tree. In the worst case (i.e., a skewed tree), the recursion depth will be O(N). Thus, the space complexity is <strong>O(N)</strong>.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>The solution uses a recursive approach to check if two binary trees are flip equivalent. The key idea is to recursively check the equivalence of the left and right subtrees, both in the original and flipped configurations, at each level of the tree. This approach ensures that we correctly handle cases where a flip at a node might be necessary to achieve equivalence. The time and space complexity of the solution are both O(N), making it efficient for solving this problem within the constraints typically given in competitive programming contexts.</p>
<p><a href="https://leetcode.com/problems/flip-equivalent-binary-trees/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/izRDc1il9Pk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
