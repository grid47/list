<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2640: Find the Score of All Prefixes of an Array | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2640: Find the Score of All Prefixes of an Array">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2640: Find the Score of All Prefixes of an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2640-find-the-score-of-all-prefixes-of-an-array/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2640: Find the Score of All Prefixes of an Array">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2640: Find the Score of All Prefixes of an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-17T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2640: Find the Score of All Prefixes of an Array</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode879s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> findPrefixScore(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> mx <span style="color:#666">=</span> nums[<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            mx <span style="color:#666">=</span> max(mx, nums[i]);
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> scr <span style="color:#666">=</span> nums[i] <span style="color:#666">+</span> mx;
</span></span><span style="display:flex;"><span>            ans[i] <span style="color:#666">=</span> i <span style="color:#666">==</span> <span style="color:#666">0</span><span style="color:#666">?</span> <span style="color:#a0a000">scr</span>: ans[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> scr;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to calculate the prefix scores for a given array <code>nums</code>. The prefix score at index <code>i</code> is defined as the sum of all elements from index <code>0</code> to <code>i</code>, where each element in the range contributes the sum of the element and the maximum value from index <code>0</code> to <code>i</code>. We need to return a vector where each element represents the prefix score at the corresponding index.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem efficiently, the approach leverages a running maximum for the elements from the start up to the current index and calculates the prefix scores progressively as we traverse through the array. Here&rsquo;s the breakdown of the approach:</p>
<ol>
<li>
<p><strong>Initialize the Required Variables</strong>:</p>
<ul>
<li>We start by initializing <code>mx</code>, which keeps track of the maximum element encountered so far. This helps us compute the score for each element.</li>
<li><code>sum</code> keeps a running total of the prefix scores.</li>
<li>An array <code>ans</code> of the same size as <code>nums</code> is used to store the prefix scores for each index.</li>
</ul>
</li>
<li>
<p><strong>Iterate Over the Array</strong>:</p>
<ul>
<li>
<p>For each element <code>nums[i]</code>, we update <code>mx</code> to be the maximum between the current <code>mx</code> and <code>nums[i]</code>. This ensures that <code>mx</code> always holds the largest number seen up to the current index.</p>
</li>
<li>
<p>For each element <code>nums[i]</code>, calculate the score <code>scr</code> as <code>nums[i] + mx</code>. This represents the contribution of the current element and the maximum value encountered up to that point.</p>
</li>
<li>
<p>The prefix score at index <code>i</code> is the sum of the current score and the prefix score at the previous index, except for the first index where it is just the score at that index.</p>
</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<ul>
<li>After iterating through the entire array, the <code>ans</code> vector contains the prefix scores for all indices, which is then returned.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-initialization-of-variables">1. <strong>Initialization of Variables</strong></h4>
<p>We first initialize the necessary variables:</p>
<ul>
<li><code>mx</code>: This variable stores the maximum element encountered so far. It is initialized to <code>nums[0]</code>, the first element of the array, because the first element will be the maximum for the first index.</li>
<li><code>sum</code>: This variable is used to accumulate the scores as we calculate the prefix scores, although itâ€™s not directly used here.</li>
<li><code>ans</code>: This vector holds the final result, initialized to store <code>n</code> values, each set to zero initially.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> mx <span style="color:#666">=</span> nums[<span style="color:#666">0</span>];  <span style="color:#080;font-style:italic">// Initialize max to the first element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Initialize sum to 0 (not directly used)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();  <span style="color:#080;font-style:italic">// Size of the input array
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">0</span>);  <span style="color:#080;font-style:italic">// Initialize result vector to store prefix scores
</span></span></span></code></pre></div><h4 id="2-iterate-over-the-array">2. <strong>Iterate Over the Array</strong></h4>
<p>Next, we loop through each element in the array <code>nums</code>:</p>
<ul>
<li><strong>Updating the maximum</strong>: For each element, we update <code>mx</code> to the larger of the current <code>mx</code> and the current element <code>nums[i]</code>.</li>
<li><strong>Calculating the score</strong>: We calculate the score for the current element as the sum of the element and the current <code>mx</code>. This is the contribution of <code>nums[i]</code> to the prefix score.</li>
<li><strong>Storing the prefix score</strong>: For the first element (<code>i == 0</code>), the prefix score is just the score of the current element. For subsequent elements, the prefix score is the cumulative sum of scores up to the previous element plus the score of the current element.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    mx <span style="color:#666">=</span> max(mx, nums[i]);  <span style="color:#080;font-style:italic">// Update max value encountered so far
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">int</span> scr <span style="color:#666">=</span> nums[i] <span style="color:#666">+</span> mx;  <span style="color:#080;font-style:italic">// Calculate score for the current element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    ans[i] <span style="color:#666">=</span> i <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">?</span> <span style="color:#a0a000">scr</span> : ans[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> scr;  <span style="color:#080;font-style:italic">// Compute prefix score
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><h4 id="3-return-the-result">3. <strong>Return the Result</strong></h4>
<p>Once the loop finishes, the <code>ans</code> vector contains the prefix scores for all indices. We then return the vector.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Looping through the array</strong>: The solution involves a single loop over the array <code>nums</code>, iterating <code>n</code> times (where <code>n</code> is the size of the input array).</li>
<li><strong>Each iteration</strong> performs constant-time operations such as calculating the maximum and the score for the current element.</li>
</ul>
<p>Thus, the overall time complexity is (O(n)), where (n) is the number of elements in the input array.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>We use a vector <code>ans</code> of size <code>n</code> to store the prefix scores, so the space complexity is (O(n)).</li>
<li>Other variables like <code>mx</code>, <code>sum</code>, and <code>scr</code> use constant space, so they do not affect the space complexity.</li>
</ul>
<p>Thus, the overall space complexity is (O(n)), where (n) is the number of elements in the input array.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently computes the prefix scores by maintaining a running maximum of the elements and progressively calculating the scores. By using a single loop to process the array and updating the prefix scores on-the-fly, the approach ensures an optimal (O(n)) time complexity, making it suitable for large input arrays. The space complexity is also linear, as we only store the result vector and a few auxiliary variables. This method is both time-efficient and space-efficient for the problem at hand.</p>
<p><a href="https://leetcode.com/problems/find-the-score-of-all-prefixes-of-an-array/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Xp413jTlTNk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
