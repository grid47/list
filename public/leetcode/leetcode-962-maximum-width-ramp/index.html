<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 962: Maximum Width Ramp | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 962: Maximum Width Ramp">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 962: Maximum Width Ramp in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-962-maximum-width-ramp/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 962: Maximum Width Ramp">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 962: Maximum Width Ramp in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Stack">
    <meta property="article:tag" content="Monotonic Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 962: Maximum Width Ramp</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1417s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxWidthRamp(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(s.empty() <span style="color:#666">||</span> nums[s.top()] <span style="color:#666">&gt;</span> nums[i])
</span></span><span style="display:flex;"><span>                s.push(i);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>s.empty() <span style="color:#666">&amp;&amp;</span> nums[s.top()] <span style="color:#666">&lt;=</span> nums[i])
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> max(res, i <span style="color:#666">-</span> s.top()), s.pop();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find the <strong>maximum width ramp</strong> in an array <code>nums</code>. A ramp is defined as a pair of indices <code>(i, j)</code> such that <code>i &lt; j</code> and <code>nums[i] &lt;= nums[j]</code>. The goal is to return the maximum difference <code>j - i</code> for which the above condition holds. This essentially involves finding the widest subarray where the value at the start of the subarray is smaller than or equal to the value at the end.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can use the <strong>monotonic stack</strong> technique. Here&rsquo;s a step-by-step breakdown of the approach:</p>
<ol>
<li>
<p><strong>Initial Observations</strong>:</p>
<ul>
<li>The problem asks to find pairs of indices <code>(i, j)</code> such that <code>nums[i] &lt;= nums[j]</code> and <code>i &lt; j</code>.</li>
<li>We want to maximize <code>j - i</code>, meaning we need to find the farthest pair of indices where the condition <code>nums[i] &lt;= nums[j]</code> holds.</li>
</ul>
</li>
<li>
<p><strong>Using a Stack</strong>:</p>
<ul>
<li>A <strong>monotonic stack</strong> helps efficiently track indices of the array in a way that we can always find the smallest value in the stack.</li>
<li>We can use the stack to store indices of the array in increasing order of values (so that <code>nums[s.top()] &lt;= nums[i]</code> when comparing).</li>
</ul>
</li>
<li>
<p><strong>First Pass</strong> (Populate the Stack):</p>
<ul>
<li>Traverse the array from left to right. For each element, push its index into the stack if it is smaller than the element at the top of the stack. This ensures the stack only contains indices of values that are in increasing order.</li>
<li>This first pass helps us store indices of potential starting points (<code>i</code>) of valid ramps, as those indices are smaller than the elements that come after them.</li>
</ul>
</li>
<li>
<p><strong>Second Pass</strong> (Find the Maximum Ramp Width):</p>
<ul>
<li>Traverse the array from right to left. For each element, check if the value at the current index <code>nums[i]</code> can form a valid ramp with an element from the stack (<code>nums[s.top()]</code>).</li>
<li>If <code>nums[s.top()] &lt;= nums[i]</code>, pop the stack and calculate the width <code>i - s.top()</code>. Track the maximum width of all valid ramps.</li>
</ul>
</li>
<li>
<p><strong>Efficiency</strong>:</p>
<ul>
<li>This approach ensures that we process each index exactly once, with stack operations (push and pop) taking constant time. Thus, the overall time complexity is <strong>O(n)</strong>, where <code>n</code> is the size of the array.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxWidthRamp(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s;  <span style="color:#080;font-style:italic">// Initialize an empty stack to store indices
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// First pass: Fill the stack with indices of elements in increasing order
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// If the stack is empty or nums[s.top()] &gt; nums[i], push the current index
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">if</span>(s.empty() <span style="color:#666">||</span> nums[s.top()] <span style="color:#666">&gt;</span> nums[i]) {
</span></span><span style="display:flex;"><span>                s.push(i);  <span style="color:#080;font-style:italic">// Add the index to the stack
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Variable to store the maximum ramp width
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Second pass: Traverse the array from right to left
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// While there are indices in the stack and nums[s.top()] &lt;= nums[i]
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>s.empty() <span style="color:#666">&amp;&amp;</span> nums[s.top()] <span style="color:#666">&lt;=</span> nums[i]) {
</span></span><span style="display:flex;"><span>                <span style="color:#080;font-style:italic">// Calculate the ramp width and update the maximum result
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                res <span style="color:#666">=</span> max(res, i <span style="color:#666">-</span> s.top());
</span></span><span style="display:flex;"><span>                s.pop();  <span style="color:#080;font-style:italic">// Pop the stack as we&#39;ve found a valid ramp
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;  <span style="color:#080;font-style:italic">// Return the maximum width of the ramp found
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>We begin by initializing an empty stack <code>s</code> and a variable <code>res</code> to store the maximum width of the ramp found.</li>
</ul>
</li>
<li>
<p><strong>First Pass</strong>:</p>
<ul>
<li>We loop through the array from left to right (i.e., from index <code>0</code> to <code>n-1</code>). For each element <code>nums[i]</code>, we check if the stack is empty or if the element at the top of the stack (<code>nums[s.top()]</code>) is greater than <code>nums[i]</code>. If so, we push the index <code>i</code> onto the stack. This ensures that the stack always contains indices of values in increasing order, which will be useful when looking for valid ramps later.</li>
</ul>
</li>
<li>
<p><strong>Second Pass</strong>:</p>
<ul>
<li>After filling the stack with the indices, we then start another loop from right to left (i.e., from index <code>n-1</code> to <code>0</code>). For each element <code>nums[i]</code>, we check if the element at the top of the stack (<code>nums[s.top()]</code>) is less than or equal to <code>nums[i]</code>. If this condition is met, it means we&rsquo;ve found a valid ramp (because <code>nums[s.top()] &lt;= nums[i]</code> and <code>s.top()</code> is less than <code>i</code>), so we calculate the width of the ramp as <code>i - s.top()</code>. We then update <code>res</code> to be the maximum of the current value of <code>res</code> and the newly calculated width. Finally, we pop the top of the stack since we have already used that index for this ramp.</li>
</ul>
</li>
<li>
<p><strong>Return Result</strong>:</p>
<ul>
<li>After completing both passes, <code>res</code> will contain the maximum ramp width. We return this value as the result.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is <strong>O(n)</strong>, where <code>n</code> is the size of the input array <code>nums</code>. This is because:
<ul>
<li>In the first pass, each index is pushed onto the stack at most once.</li>
<li>In the second pass, each index is popped from the stack at most once.</li>
<li>Hence, the total number of operations is proportional to the number of elements in the array, resulting in <strong>O(n)</strong> time complexity.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is <strong>O(n)</strong> due to the stack used to store indices. In the worst case, the stack can hold all <code>n</code> indices if the elements are strictly decreasing.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution provides an efficient way to calculate the maximum width ramp in an array by using a monotonic stack. The key idea is to use two passes: one to store indices in increasing order and another to find the widest ramp possible by comparing the current element with the stack&rsquo;s top. This approach has a linear time complexity of <strong>O(n)</strong>, making it highly efficient for large input sizes. By utilizing a stack for optimal storage and comparisons, the solution avoids unnecessary comparisons and redundant calculations, ensuring that the solution works effectively for a variety of input scenarios.</p>
<p><a href="https://leetcode.com/problems/maximum-width-ramp/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/3pTEJ1vzgSI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
