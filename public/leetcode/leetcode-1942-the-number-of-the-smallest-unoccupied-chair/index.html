<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1942: The Number of the Smallest Unoccupied Chair | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1942: The Number of the Smallest Unoccupied Chair">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1942: The Number of the Smallest Unoccupied Chair in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1942-the-number-of-the-smallest-unoccupied-chair/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1942: The Number of the Smallest Unoccupied Chair">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1942: The Number of the Smallest Unoccupied Chair in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1942: The Number of the Smallest Unoccupied Chair</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode470s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> smallestChair(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> a, <span style="color:#0b0;font-weight:bold">int</span> t) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> tt <span style="color:#666">=</span> a[t][<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, greater<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> reserve;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> avail;
</span></span><span style="display:flex;"><span>        sort(a.begin(), a.end());
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">t</span> : a) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>reserve.empty() <span style="color:#666">&amp;&amp;</span> reserve.top().first <span style="color:#666">&lt;=</span> t[<span style="color:#666">0</span>]) {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                avail.push(reserve.top().second);
</span></span><span style="display:flex;"><span>                reserve.pop();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(t[<span style="color:#666">0</span>] <span style="color:#666">==</span> tt) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span>avail.empty()) {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                reserve.push({t[<span style="color:#666">1</span>], avail.top()});
</span></span><span style="display:flex;"><span>                             
</span></span><span style="display:flex;"><span>               avail.pop();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                reserve.push({t[<span style="color:#666">1</span>], reserve.size()});
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> avail.empty()<span style="color:#666">?</span> reserve.size() <span style="color:#666">:</span> avail.top();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to determine the smallest numbered chair available for a person arriving at a given time <code>t</code> in a sequence of events defined by their arrival and departure times. Each person has a designated arrival time and a departure time, and once they leave, their chair becomes available for someone else. The goal is to ensure that each arriving person sits in the smallest numbered chair that is available when they arrive.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can utilize a priority queue (min-heap) to efficiently manage the availability of chairs. The approach consists of the following steps:</p>
<ol>
<li>
<p><strong>Sorting Events</strong>: First, we sort the events based on their arrival times. This allows us to process each arrival in the order they occur.</p>
</li>
<li>
<p><strong>Using Priority Queues</strong>: We will maintain two priority queues:</p>
<ul>
<li>One for reserving chairs (<code>reserve</code>), which stores the departure time along with the chair number.</li>
<li>Another for available chairs (<code>avail</code>), which keeps track of the chair numbers that have become available.</li>
</ul>
</li>
<li>
<p><strong>Processing Each Event</strong>: For each person:</p>
<ul>
<li>We check if any chairs have become available by comparing their departure times with the current arrival time. If so, we add those chairs to the available queue.</li>
<li>If the current person is the one we are interested in (based on their arrival time), we stop processing further since we want to find the chair for this specific person.</li>
<li>We assign a chair to the current person, either from the available chairs or a new chair if none are available.</li>
</ul>
</li>
<li>
<p><strong>Returning the Result</strong>: Finally, we return the chair number assigned to the person arriving at time <code>t</code>.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s analyze the provided code in detail:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> smallestChair(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> a, <span style="color:#0b0;font-weight:bold">int</span> t) {
</span></span></code></pre></div><p>We define a class named <code>Solution</code> and a public method called <code>smallestChair</code> that takes a 2D vector <code>a</code> representing the arrival and departure times of people and an integer <code>t</code>, which is the index of the person we are interested in.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> tt <span style="color:#666">=</span> a[t][<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, greater<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> reserve;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> avail;
</span></span></code></pre></div><p>We extract the arrival time <code>tt</code> of the target person (the one indexed by <code>t</code>). We then initialize two priority queues:</p>
<ul>
<li><code>reserve</code>: This will store pairs of departure times and chair numbers.</li>
<li><code>avail</code>: This will keep track of the chair numbers that are available for use.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        sort(a.begin(), a.end());
</span></span></code></pre></div><p>Next, we sort the vector <code>a</code> based on the arrival times. This ensures that we process each person in the correct order.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">t</span> : a) {
</span></span></code></pre></div><p>We start iterating over each person&rsquo;s arrival and departure times.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>reserve.empty() <span style="color:#666">&amp;&amp;</span> reserve.top().first <span style="color:#666">&lt;=</span> t[<span style="color:#666">0</span>]) {
</span></span><span style="display:flex;"><span>                avail.push(reserve.top().second);
</span></span><span style="display:flex;"><span>                reserve.pop();
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><p>In this loop, we check if there are any chairs that have become available due to people leaving. If the earliest departure time (the top of the <code>reserve</code> queue) is less than or equal to the current person&rsquo;s arrival time <code>t[0]</code>, we add that chair number to the <code>avail</code> queue and remove it from the <code>reserve</code> queue.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(t[<span style="color:#666">0</span>] <span style="color:#666">==</span> tt) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span></code></pre></div><p>We check if the current person&rsquo;s arrival time is the same as our target person&rsquo;s arrival time. If it is, we break out of the loop since we only need the chair number for this specific person.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span>avail.empty()) {
</span></span><span style="display:flex;"><span>                reserve.push({t[<span style="color:#666">1</span>], avail.top()});
</span></span><span style="display:flex;"><span>                avail.pop();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                reserve.push({t[<span style="color:#666">1</span>], reserve.size()});
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><p>Here, we determine which chair to assign to the current person:</p>
<ul>
<li>If there are available chairs, we assign the smallest available chair (top of the <code>avail</code> queue) to the current person and push their departure time along with the chair number into the <code>reserve</code> queue.</li>
<li>If no chairs are available, we allocate a new chair (which is simply the current size of the <code>reserve</code> queue) and push its departure time into the <code>reserve</code> queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> avail.empty()<span style="color:#666">?</span> reserve.size() <span style="color:#666">:</span> avail.top();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Finally, after processing all people, we check if there are any chairs available. If not, we return the total number of chairs (which is the same as the size of the <code>reserve</code> queue). Otherwise, we return the smallest available chair from the <code>avail</code> queue.</p>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this solution is (O(n \log n)) due to the sorting of the array <code>a</code> and the use of priority queues, where (n) is the number of people.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) to store the chairs and the events in the priority queues.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution efficiently determines the smallest numbered chair for a specified person arriving at a given time using priority queues to manage the availability of chairs. By leveraging sorting and heap operations, this approach ensures that the assignment of chairs is optimal and meets the problem&rsquo;s requirements.</p>
<h3 id="key-features">Key Features</h3>
<ol>
<li>
<p><strong>Dynamic Chair Management</strong>: The use of priority queues allows for dynamic management of chair availability based on real-time events (arrival and departure).</p>
</li>
<li>
<p><strong>Efficient Sorting</strong>: Sorting the input array simplifies the logic for managing arrivals and departures, allowing for a straightforward implementation of the chair assignment logic.</p>
</li>
<li>
<p><strong>Optimal Chair Assignment</strong>: By always selecting the smallest available chair, the solution adheres to the problem&rsquo;s requirements and maintains fairness in chair allocation.</p>
</li>
</ol>
<h3 id="use-cases">Use Cases</h3>
<p>This algorithm can be applied in various scenarios, including:</p>
<ul>
<li>
<p><strong>Event Management Systems</strong>: Where chairs or seats need to be allocated dynamically based on arrival and departure times (e.g., for concerts, theaters, or conferences).</p>
</li>
<li>
<p><strong>Resource Allocation</strong>: In systems where limited resources (like meeting rooms, equipment, etc.) need to be assigned to users based on their schedules.</p>
</li>
</ul>
<h3 id="implementation-considerations">Implementation Considerations</h3>
<p>When implementing this solution, consider the following:</p>
<ul>
<li>
<p><strong>Input Validations</strong>: Ensure that the input is well-formed, with valid arrival and departure times.</p>
</li>
<li>
<p><strong>Concurrency</strong>: If this system is to be used in a multi-threaded environment, ensure that the access to shared data structures is properly synchronized to avoid race conditions.</p>
</li>
<li>
<p><strong>Scalability</strong>: Test the implementation with a large number of events to ensure that the performance remains acceptable under heavy load.</p>
</li>
</ul>
<p>This detailed explanation provides a comprehensive understanding of the code, its functioning, and its potential applications, making it an excellent resource for anyone interested in implementing similar functionality.</p>
<p><a href="https://leetcode.com/problems/the-number-of-the-smallest-unoccupied-chair/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/LqhxcaCctCc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
