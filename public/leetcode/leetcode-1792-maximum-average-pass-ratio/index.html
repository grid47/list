<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1792: Maximum Average Pass Ratio | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1792: Maximum Average Pass Ratio">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1792: Maximum Average Pass Ratio in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1792-maximum-average-pass-ratio/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1792: Maximum Average Pass Ratio">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1792: Maximum Average Pass Ratio in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1792: Maximum Average Pass Ratio</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode388s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">double</span> maxAverageRatio(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> classes, <span style="color:#0b0;font-weight:bold">int</span> extraStudents) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">auto</span> profit <span style="color:#666">=</span> [<span style="color:#666">&amp;</span>](<span style="color:#0b0;font-weight:bold">double</span> pass, <span style="color:#0b0;font-weight:bold">double</span> total) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> (pass <span style="color:#666">+</span> <span style="color:#666">1</span>)<span style="color:#666">/</span>(total <span style="color:#666">+</span><span style="color:#666">1</span>) <span style="color:#666">-</span>(pass<span style="color:#666">/</span> total);
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">double</span> total <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span>, array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">c</span>: classes) {
</span></span><span style="display:flex;"><span>            total <span style="color:#666">+=</span> (<span style="color:#0b0;font-weight:bold">double</span>) c[<span style="color:#666">0</span>]<span style="color:#666">/</span>c[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#666">0</span>], c[<span style="color:#666">1</span>]), {c[<span style="color:#666">0</span>], c[<span style="color:#666">1</span>]}});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(extraStudents<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> [addedProfit, c] <span style="color:#666">=</span> pq.top(); pq.pop();
</span></span><span style="display:flex;"><span>            total <span style="color:#666">+=</span> addedProfit;
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#666">0</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>, c[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>), {c[<span style="color:#666">0</span>] <span style="color:#666">+</span><span style="color:#666">1</span>, c[<span style="color:#666">1</span>] <span style="color:#666">+</span><span style="color:#666">1</span>}});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> total<span style="color:#666">/</span> classes.size();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to maximize the average ratio of students passing a class after distributing a given number of extra students across multiple classes. Each class has a certain number of students who have passed and the total number of students. The goal is to allocate the extra students in such a way that the average pass ratio across all classes is maximized.</p>
<h3 id="approach">Approach</h3>
<p>To achieve the goal of maximizing the average pass ratio after distributing the extra students, we can utilize a greedy algorithm combined with a priority queue (max-heap). Here&rsquo;s how the approach works:</p>
<ol>
<li>
<p><strong>Profit Calculation</strong>: First, we need to define a function that calculates the potential profit gained by adding one student to a class. This is done by comparing the pass ratio before and after adding a student.</p>
</li>
<li>
<p><strong>Initialization</strong>: We initialize a total variable to keep track of the current average ratio of students passing across all classes and a priority queue to manage which classes would benefit the most from receiving additional students.</p>
</li>
<li>
<p><strong>Heap Management</strong>: By utilizing a priority queue, we can efficiently select the class that will yield the highest increase in the average pass ratio with each additional student.</p>
</li>
<li>
<p><strong>Distribution of Extra Students</strong>: We iteratively allocate the extra students to the class that currently provides the best potential increase in the average pass ratio, updating the total and re-evaluating the potential profits after each allocation.</p>
</li>
<li>
<p><strong>Final Calculation</strong>: After distributing all extra students, we compute the final average pass ratio.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">double</span> maxAverageRatio(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> classes, <span style="color:#0b0;font-weight:bold">int</span> extraStudents) {
</span></span></code></pre></div><ul>
<li>We define the <code>Solution</code> class and the public method <code>maxAverageRatio</code>, which accepts a 2D vector <code>classes</code> (where each inner vector contains the number of passing students and the total number of students) and an integer <code>extraStudents</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">auto</span> profit <span style="color:#666">=</span> [<span style="color:#666">&amp;</span>](<span style="color:#0b0;font-weight:bold">double</span> pass, <span style="color:#0b0;font-weight:bold">double</span> total) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> (pass <span style="color:#666">+</span> <span style="color:#666">1</span>)<span style="color:#666">/</span>(total <span style="color:#666">+</span><span style="color:#666">1</span>) <span style="color:#666">-</span>(pass<span style="color:#666">/</span> total);
</span></span><span style="display:flex;"><span>        };
</span></span></code></pre></div><ul>
<li>We define a lambda function <code>profit</code> that calculates the increase in the pass ratio when one additional student is added. The formula computes the difference between the new ratio after adding a student and the current ratio.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">double</span> total <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span>, array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;&gt;&gt;</span> pq;
</span></span></code></pre></div><ul>
<li>We initialize a <code>total</code> variable to accumulate the current pass ratio across all classes and a priority queue <code>pq</code> to hold the potential profits from adding students to each class.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">c</span>: classes) {
</span></span><span style="display:flex;"><span>            total <span style="color:#666">+=</span> (<span style="color:#0b0;font-weight:bold">double</span>) c[<span style="color:#666">0</span>]<span style="color:#666">/</span>c[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#666">0</span>], c[<span style="color:#666">1</span>]), {c[<span style="color:#666">0</span>], c[<span style="color:#666">1</span>]}});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>We iterate over each class, compute the current pass ratio, and accumulate it into <code>total</code>. We also push the potential profit of adding one student to each class into the priority queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(extraStudents<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> [addedProfit, c] <span style="color:#666">=</span> pq.top(); pq.pop();
</span></span><span style="display:flex;"><span>            total <span style="color:#666">+=</span> addedProfit;
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#666">0</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>, c[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>), {c[<span style="color:#666">0</span>] <span style="color:#666">+</span><span style="color:#666">1</span>, c[<span style="color:#666">1</span>] <span style="color:#666">+</span><span style="color:#666">1</span>}});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>We allocate students to the class that offers the highest profit by popping from the priority queue. After adding a student, we recalculate the potential profit for that class and push the updated profit back into the queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> total<span style="color:#666">/</span> classes.size();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Finally, we return the average pass ratio, which is computed as the total accumulated pass ratio divided by the number of classes.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The overall time complexity is (O(n \log n)), where (n) is the number of classes. This complexity arises from inserting and extracting elements from the priority queue (n) times.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the storage required for the priority queue.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>maxAverageRatio</code> function effectively maximizes the average pass ratio across multiple classes by strategically allocating extra students to those classes that would benefit the most from additional enrollment.</p>
<p>This algorithm demonstrates the power of greedy methods in optimization problems, particularly when combined with data structures like priority queues to efficiently manage and evaluate potential choices. In practical applications, this technique can be useful in educational contexts where resource allocation is critical for enhancing student performance metrics.</p>
<p>Understanding this algorithm enhances our problem-solving toolkit for similar optimization challenges, including scenarios in resource management, project planning, and performance improvement strategies in various fields.</p>
<p>The approach highlights the importance of calculating and prioritizing potential gains, allowing us to make informed decisions that lead to the best possible outcomes in competitive environments.</p>
<p><a href="https://leetcode.com/problems/maximum-average-pass-ratio/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ZjydWQCVg80?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
