<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2166: Design Bitset | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2166: Design Bitset">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2166: Design Bitset in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/solution-2166-design-bitset/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2166: Design Bitset">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2166: Design Bitset in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Design">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/courses/">Course</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
    <div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%202166%3a%20Design%20Bitset&url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f" 
               onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f" 
               onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f&title=Leetcode%202166%3a%20Design%20Bitset" 
               onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f&title=Leetcode%202166%3a%20Design%20Bitset" 
               onclick="window.open(this.href, 'reddit-share', 'width=550,height=435');return false;">
                <i class="fab fa-reddit-alien"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://api.whatsapp.com/send?text=Leetcode%202166%3a%20Design%20Bitset%20http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f" 
               onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;">
                <i class="fab fa-whatsapp"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://telegram.me/share/url?url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f&text=Leetcode%202166%3a%20Design%20Bitset" 
               onclick="window.open(this.href, 'telegram-share', 'width=550,height=435');return false;">
                <i class="fab fa-telegram-plane"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="mailto:?subject=Leetcode%202166%3a%20Design%20Bitset&body=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-2166-design-bitset%2f" 
               onclick="window.open(this.href, 'email-share', 'width=550,height=435');return false;">
                <i class="fas fa-envelope"></i>
            </a>
        </li> 
    </ul>

    
        <div class="sep">
        </div>				
        <ul>
            <li> 
            <a  class="small smoothscroll" href="#disqus_thread"></a>
            </li>
        </ul>
    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        
                        <h1 class="posttitle">Leetcode 2166: Design Bitset</h1> 
                        
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Apr 4, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                                   
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <hr>
<p>You are tasked with implementing a Bitset class that supports operations such as setting bits, clearing bits, flipping all bits, and querying the state of the bits (whether all bits are set to 1, at least one bit is set to 1, etc.).</p>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="input-representations-">Input Representations üì•</h3>
<ul>
<li><strong>Input:</strong> The input consists of a list of operations to be performed on a Bitset object, starting with its initialization with a given size.</li>
<li><strong>Example:</strong> <code>[&quot;Bitset&quot;, &quot;fix&quot;, &quot;fix&quot;, &quot;flip&quot;, &quot;all&quot;, &quot;unfix&quot;, &quot;flip&quot;, &quot;one&quot;, &quot;unfix&quot;, &quot;count&quot;, &quot;toString&quot;]</code></li>
<li><strong>Constraints:</strong>
<ul>
<li>1 &lt;= size &lt;= 10^5</li>
<li>0 &lt;= idx &lt; size</li>
<li>At most 10^5 calls will be made in total to fix, unfix, flip, all, one, count, and toString.</li>
</ul>
</li>
</ul>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="output-specifications-">Output Specifications üì§</h3>
<ul>
<li><strong>Output:</strong> The output should be a list of results corresponding to the operations performed, where each result matches the expected output for each method call.</li>
<li><strong>Example:</strong> <code>[null, null, null, null, false, null, null, true, null, 3, &quot;01011&quot;]</code></li>
<li><strong>Constraints:</strong>
<ul>
<li>At least one call will be made to all, one, count, or toString.</li>
</ul>
</li>
</ul>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="core-logic-">Core Logic üîç</h3>
<p><strong>Goal:</strong> Implement the <code>Bitset</code> class to efficiently support the operations on bits.</p>
<ul>
<li>Initialize the Bitset with all bits set to 0.</li>
<li>Support methods to fix, unfix, flip, and query the state of the bits.</li>
<li>Ensure that all methods run efficiently, with constant time complexity for individual operations.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h3 id="problem-assumptions-">Problem Assumptions ‚úÖ</h3>
<ul>
<li>The size of the Bitset is always within the specified range.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h2 id="examples-">Examples üß©</h2>
<ul>
<li><strong>Input:</strong> <code>Example 1: Input = [&quot;Bitset&quot;, &quot;fix&quot;, &quot;fix&quot;, &quot;flip&quot;, &quot;all&quot;, &quot;unfix&quot;, &quot;flip&quot;, &quot;one&quot;, &quot;unfix&quot;, &quot;count&quot;, &quot;toString&quot;]</code>  <br>
<strong>Explanation:</strong> The Bitset is initialized with 5 bits. Several operations are performed such as fixing bits, flipping, and checking if all bits are set to 1, eventually returning the count and string representation of the Bitset.</li>
</ul>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h2 id="approach-">Approach üöÄ</h2>
<p>The approach is to store the state of the Bitset using two strings: one for the actual bitset and one for the flipped version. This allows efficient bit manipulation and state queries.</p>
<h3 id="initial-thoughts-">Initial Thoughts üí≠</h3>
<ul>
<li>The problem requires efficient manipulation and querying of bits.</li>
<li>Using two strings to represent the Bitset and its flipped version ensures efficient bit flipping and checking.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h3 id="edge-cases-">Edge Cases üåê</h3>
<ul>
<li>There are no empty inputs as the Bitset always has at least one bit.</li>
<li>The solution must efficiently handle the maximum constraint of 10^5 bits.</li>
<li>Handling cases where all bits are fixed or all are unfixes is important.</li>
<li>Ensure that the solution works efficiently within the given constraints.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h2 id="code-">Code üíª</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> ones <span style="color:#666">=</span> <span style="color:#666">0</span>, size <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>Bitset(<span style="color:#0b0;font-weight:bold">int</span> size) {
</span></span><span style="display:flex;"><span>    s <span style="color:#666">=</span> string(size, <span style="color:#b44">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>    flipp <span style="color:#666">=</span> string(size, <span style="color:#b44">&#39;1&#39;</span>);
</span></span><span style="display:flex;"><span>    ones <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">-&gt;</span>size <span style="color:#666">=</span> size;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fix</span>(<span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(s[idx] <span style="color:#666">==</span> <span style="color:#b44">&#39;0&#39;</span>) ones<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    s[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;1&#39;</span>;
</span></span><span style="display:flex;"><span>    flipp[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">unfix</span>(<span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(s[idx] <span style="color:#666">==</span> <span style="color:#b44">&#39;1&#39;</span>) ones<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>    s[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>    flipp[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;1&#39;</span>;        
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">flip</span>() {
</span></span><span style="display:flex;"><span>    ones <span style="color:#666">=</span> size <span style="color:#666">-</span> ones;
</span></span><span style="display:flex;"><span>    s.swap(flipp);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">all</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ones <span style="color:#666">==</span> size;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">one</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ones <span style="color:#666">&gt;</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">count</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ones;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>string <span style="color:#00a000">toString</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your Bitset object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Bitset* obj = new Bitset(size);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;fix(idx);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;unfix(idx);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;flip();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * bool param_4 = obj-&gt;all();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * bool param_5 = obj-&gt;one();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_6 = obj-&gt;count();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * string param_7 = obj-&gt;toString();
</span></span></span></code></pre></div><p>This code implements a <code>Bitset</code> class with methods to fix, unfix, flip, check if all bits are set, check if one bit is set, count the set bits, and convert the bitset to a string representation.</p>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="step-by-step-breakdown-">Step-by-Step Breakdown üõ†Ô∏è</h3>
<ol>
<li>
<p><strong>Variable Initialization</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> ones <span style="color:#666">=</span> <span style="color:#666">0</span>, size <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>This line initializes two variables: <code>ones</code> to keep track of the number of bits set to 1, and <code>size</code> to store the size of the bitset.</p>
</li>
<li>
<p><strong>Access Specifier</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><p>This is the access specifier marking the beginning of the public section of the class, where methods that can be accessed outside the class are defined.</p>
</li>
<li>
<p><strong>Constructor</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>Bitset(<span style="color:#0b0;font-weight:bold">int</span> size) {
</span></span></code></pre></div><p>This constructor initializes a <code>Bitset</code> object with the specified size, setting all bits to 0 initially.</p>
</li>
<li>
<p><strong>Initialization</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    s <span style="color:#666">=</span> string(size, <span style="color:#b44">&#39;0&#39;</span>);
</span></span></code></pre></div><p>This line initializes the string <code>s</code> with the given size, filling it with &lsquo;0&rsquo; characters representing the unset bits.</p>
</li>
<li>
<p><strong>Initialization</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    flipp <span style="color:#666">=</span> string(size, <span style="color:#b44">&#39;1&#39;</span>);
</span></span></code></pre></div><p>This line initializes the string <code>flipp</code> with the given size, filling it with &lsquo;1&rsquo; characters, which are used for flipping the bits.</p>
</li>
<li>
<p><strong>Initialization</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    ones <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>This line initializes the <code>ones</code> counter to 0, as no bits are set initially.</p>
</li>
<li>
<p><strong>Initialization</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">-&gt;</span>size <span style="color:#666">=</span> size;
</span></span></code></pre></div><p>This line sets the <code>size</code> of the bitset to the provided <code>size</code> argument.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fix</span>(<span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span></code></pre></div><p>This method is used to set the bit at the specified index <code>idx</code> to 1, and updates the count of ones.</p>
</li>
<li>
<p><strong>Condition Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(s[idx] <span style="color:#666">==</span> <span style="color:#b44">&#39;0&#39;</span>) ones<span style="color:#666">++</span>;
</span></span></code></pre></div><p>This checks if the bit at the given index is currently 0. If it is, the counter for <code>ones</code> is incremented.</p>
</li>
<li>
<p><strong>Modification</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    s[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;1&#39;</span>;
</span></span></code></pre></div><p>This sets the bit at the specified index to 1.</p>
</li>
<li>
<p><strong>Modification</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    flipp[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;0&#39;</span>;
</span></span></code></pre></div><p>This sets the corresponding bit in the <code>flipp</code> string to &lsquo;0&rsquo; indicating it is no longer in the flip state.</p>
</li>
<li>
<p><strong>End Method</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The closing brace marks the end of the <code>fix</code> method.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">unfix</span>(<span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span></code></pre></div><p>This method is used to set the bit at the specified index <code>idx</code> to 0, and updates the count of ones.</p>
</li>
<li>
<p><strong>Condition Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(s[idx] <span style="color:#666">==</span> <span style="color:#b44">&#39;1&#39;</span>) ones<span style="color:#666">--</span>;
</span></span></code></pre></div><p>This checks if the bit at the given index is currently 1. If it is, the counter for <code>ones</code> is decremented.</p>
</li>
<li>
<p><strong>Modification</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    s[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;0&#39;</span>;
</span></span></code></pre></div><p>This sets the bit at the specified index to 0.</p>
</li>
<li>
<p><strong>Modification</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    flipp[idx] <span style="color:#666">=</span> <span style="color:#b44">&#39;1&#39;</span>;
</span></span></code></pre></div><p>This sets the corresponding bit in the <code>flipp</code> string to &lsquo;1&rsquo; indicating it is now in the flip state.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">flip</span>() {
</span></span></code></pre></div><p>This method flips the entire bitset, changing each bit to its opposite (0 to 1 and vice versa).</p>
</li>
<li>
<p><strong>Modification</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    ones <span style="color:#666">=</span> size <span style="color:#666">-</span> ones;
</span></span></code></pre></div><p>This updates the <code>ones</code> count after flipping by subtracting the current number of ones from the total size.</p>
</li>
<li>
<p><strong>Modification</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    s.swap(flipp);
</span></span></code></pre></div><p>This swaps the contents of the <code>s</code> and <code>flipp</code> strings, effectively flipping the bits.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">all</span>() {
</span></span></code></pre></div><p>This method checks if all bits in the bitset are set to 1.</p>
</li>
<li>
<p><strong>Condition Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ones <span style="color:#666">==</span> size;
</span></span></code></pre></div><p>This returns true if the number of ones is equal to the total size, meaning all bits are set to 1.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">one</span>() {
</span></span></code></pre></div><p>This method checks if at least one bit in the bitset is set to 1.</p>
</li>
<li>
<p><strong>Condition Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ones <span style="color:#666">&gt;</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>This returns true if the number of ones is greater than 0, meaning at least one bit is set.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">count</span>() {
</span></span></code></pre></div><p>This method returns the number of bits set to 1 in the bitset.</p>
</li>
<li>
<p><strong>Return Statement</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ones;
</span></span></code></pre></div><p>This returns the value of <code>ones</code>, which represents the number of bits set to 1.</p>
</li>
<li>
<p><strong>Method Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>string <span style="color:#00a000">toString</span>() {
</span></span></code></pre></div><p>This method converts the current bitset to a string.</p>
</li>
<li>
<p><strong>Return Statement</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> s;
</span></span></code></pre></div><p>This returns the string representation of the current bitset.</p>
</li>
</ol>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h2 id="complexity-analysis-">Complexity Analysis üìä</h2>
<h3 id="time-complexity-">Time Complexity ‚è≥</h3>
<ul>
<li><strong>Best Case:</strong> O(1)</li>
<li><strong>Average Case:</strong> O(1)</li>
<li><strong>Worst Case:</strong> O(1)</li>
</ul>
<p>Each operation (fix, unfix, flip, all, one, count, toString) runs in constant time.</p>
<h3 id="space-complexity-">Space Complexity üíæ</h3>
<ul>
<li><strong>Best Case:</strong> O(n)</li>
<li><strong>Worst Case:</strong> O(n)</li>
</ul>
<p>The space complexity is O(n) due to the storage of two strings representing the Bitset.</p>
<p><strong>Happy Coding! üéâ</strong></p>
<p><a href="https://leetcode.com/problems/design-bitset/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/FWv-b_VITvA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>
                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/array">Array</a>
                        </li>
                        
                        <li>
                        <a href="/tags/hash-table">Hash Table</a>
                        </li>
                        
                        <li>
                        <a href="/tags/string">String</a>
                        </li>
                        
                        <li>
                        <a href="/tags/design">Design</a>
                        </li>
                        
                        </ul>
                    </div>
                                        
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="http://localhost:1313/leetcode/solution-2165-smallest-value-of-the-rearranged-number/"> &laquo; Leetcode 2165: Smallest Value of the Rearranged Number</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="http://localhost:1313/leetcode/solution-2169-count-operations-to-obtain-zero/">Leetcode 2169: Count Operations to Obtain Zero &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>                                                            
                    
                </div>
                
            </div>
        </div>
        
        
<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-8">              
            <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>               
        </div>
    </div>
</div>

    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">‚Üí</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
        


<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:1313\/leetcode\/solution-2166-design-bitset\/"
    },
    "headline": "Leetcode 2166: Design Bitset",
    "description": "In-depth solution and explanation for Leetcode 2166: Design Bitset in C\u002b\u002b. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.",
    "image": {
      "@type": "ImageObject",
      "url": ""
    },
    "datePublished": "2024-04-04T00:00:00\u002b00:00",
    "dateModified": "2024-11-06T00:00:00\u002b00:00",
    "author": {
      "@type": "Person",
      "name": "grid47"
    },
    "publisher": {
      "@type": "Organization",
      "name": "grid47",
      "logo": {
        "@type": "ImageObject",
        "url": "http:\/\/localhost:1313\//images/logo.png"
      }
    },
    "articleSection": "LeetCode Solutions",
    "about": {
      "@type": "SoftwareSourceCode",
      "programmingLanguage": "C++",
      "codeSampleType": "Code Solution",
      "runtimePlatform": "LeetCode",
      "targetProduct": {
        "@type": "SoftwareApplication",
        "name": "LeetCode",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Cross-platform",  
        "offers": {
          "@type": "Offer",
          "priceCurrency": "USD",
          "price": "0.00",  
          "url": "https://www.leetcode.com"  
        }
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.5",
        "reviewCount": "2000",
        "itemReviewed": {
          "@type": "SoftwareApplication",
          "name": "LeetCode",
          "applicationCategory": "DeveloperApplication",
          "operatingSystem": "Cross-platform",  
          "offers": {
            "@type": "Offer",
            "priceCurrency": "USD",
            "price": "0.00",  
            "url": "https://www.leetcode.com"  
          }          
        }
      }
    },    
    "educationalLevel": "Medium",
    "teaches": "[\"Array\",\"Hash Table\",\"String\",\"Design\"]",
    "hasPart": [],
    "isPartOf": {
      "@type": "Series",
      "name": "Leetcode",
      "url": "http:\/\/localhost:1313\/series/leetcode"
    },
    
    "video": {
      "@type": "VideoObject",
      "name": "Video explanation for Leetcode 2166: Design Bitset",
      "embedUrl": "https://www.youtube.com/watch?v=FWv-b_VITvA",
      "uploadDate": "2022-02-06",
      "thumbnailUrl": "https:\/\/i.ytimg.com\/vi_webp\/FWv-b_VITvA\/maxresdefault.webp"
    },
    
    "keywords": "[\"Array\",\"Hash Table\",\"String\",\"Design\"]",
    "pagination": {
      "@type": "DataFeed",
      "nextItem": "http:\/\/localhost:1313\/leetcode\/solution-2169-count-operations-to-obtain-zero\/",
      "previousItem": "http:\/\/localhost:1313\/leetcode\/solution-2165-smallest-value-of-the-rearranged-number\/"
    }
  }
  </script>  
        
    </body>
</html>
