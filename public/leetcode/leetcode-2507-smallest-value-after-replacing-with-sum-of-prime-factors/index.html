<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2507: Smallest Value After Replacing With Sum of Prime Factors | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2507: Smallest Value After Replacing With Sum of Prime Factors">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2507: Smallest Value After Replacing With Sum of Prime Factors in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2507-smallest-value-after-replacing-with-sum-of-prime-factors/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2507: Smallest Value After Replacing With Sum of Prime Factors">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2507: Smallest Value After Replacing With Sum of Prime Factors in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Simulation">
    <meta property="article:tag" content="Number Theory">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2507: Smallest Value After Replacing With Sum of Prime Factors</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode802s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> getFactSum(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> div <span style="color:#666">=</span> <span style="color:#666">2</span>, sum <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(n <span style="color:#666">&gt;</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(n <span style="color:#666">%</span> div <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                sum <span style="color:#666">+=</span> div;
</span></span><span style="display:flex;"><span>                n <span style="color:#666">/=</span> div;
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> div<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> sum;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">smallestValue</span>(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> getFactSum(n);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(sum <span style="color:#666">==</span> n) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            n <span style="color:#666">=</span> sum;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> n;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to find the <strong>smallest value</strong> that can be obtained from repeatedly replacing a number <code>n</code> with the sum of its prime factors. Specifically, we are asked to:</p>
<ol>
<li>Find the sum of the prime factors of <code>n</code>.</li>
<li>Replace <code>n</code> with this sum.</li>
<li>Repeat the process until the sum of the prime factors equals <code>n</code>. At this point, the process stops, and we return the value of <code>n</code>.</li>
</ol>
<h3 id="approach">Approach</h3>
<p>To solve the problem, we need to understand two main operations:</p>
<ol>
<li>
<p><strong>Prime Factorization</strong>: We need to find the prime factors of a number <code>n</code>. The prime factorization of a number is a way of expressing <code>n</code> as a product of prime numbers. For example, the prime factorization of 12 is ( 2^2 \times 3 ), so the prime factors are 2 and 3.</p>
</li>
<li>
<p><strong>Iterative Process</strong>: We are asked to repeatedly replace <code>n</code> with the sum of its prime factors. This process is repeated until the sum of prime factors of <code>n</code> equals <code>n</code>.</p>
</li>
</ol>
<p>The key insight is that the sum of the prime factors can decrease significantly when we replace <code>n</code> with this sum, and we stop once the sum of the prime factors equals <code>n</code>.</p>
<h4 id="step-by-step-explanation-of-the-code">Step-by-Step Explanation of the Code</h4>
<p>Let&rsquo;s break the code down and understand each part:</p>
<h3 id="step-1-helper-function-to-get-the-sum-of-prime-factors">Step 1: Helper Function to Get the Sum of Prime Factors</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">getFactSum</span>(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> div <span style="color:#666">=</span> <span style="color:#666">2</span>, sum <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(n <span style="color:#666">&gt;</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(n <span style="color:#666">%</span> div <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>            sum <span style="color:#666">+=</span> div;
</span></span><span style="display:flex;"><span>            n <span style="color:#666">/=</span> div;
</span></span><span style="display:flex;"><span>        } <span style="color:#a2f;font-weight:bold">else</span> div<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> sum;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Purpose</strong>: This function computes the sum of prime factors of a given number <code>n</code>.</li>
<li><strong>Implementation Details</strong>:
<ul>
<li>We initialize <code>div = 2</code> because 2 is the smallest prime number.</li>
<li>The <code>while (n &gt; 1)</code> loop continues as long as <code>n</code> is greater than 1. During each iteration, we check if <code>div</code> divides <code>n</code> evenly (<code>n % div == 0</code>).
<ul>
<li>If <code>div</code> divides <code>n</code>, we add <code>div</code> to the <code>sum</code> and then divide <code>n</code> by <code>div</code> (this removes the factor <code>div</code> from <code>n</code>).</li>
<li>If <code>div</code> does not divide <code>n</code>, we increment <code>div</code> to check the next possible factor.</li>
</ul>
</li>
<li>The function continues until <code>n</code> becomes 1, and at this point, all prime factors of <code>n</code> have been processed. The function then returns the sum of these prime factors.</li>
</ul>
</li>
</ul>
<h3 id="step-2-main-function-to-find-the-smallest-value">Step 2: Main Function to Find the Smallest Value</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">smallestValue</span>(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> getFactSum(n);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(sum <span style="color:#666">==</span> n) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        n <span style="color:#666">=</span> sum;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> n;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Purpose</strong>: This is the main function that solves the problem. It repeatedly replaces <code>n</code> with the sum of its prime factors until the sum of the prime factors equals <code>n</code>.</li>
<li><strong>Implementation Details</strong>:
<ul>
<li>We start by using a <code>while(1)</code> loop, which runs indefinitely until we break out of the loop.</li>
<li>In each iteration, we calculate the sum of prime factors of <code>n</code> using the helper function <code>getFactSum(n)</code>.</li>
<li>If the sum of prime factors (<code>sum</code>) is equal to <code>n</code>, we break out of the loop since the condition is satisfied.</li>
<li>If the sum is not equal to <code>n</code>, we replace <code>n</code> with <code>sum</code> and continue to the next iteration.</li>
<li>Finally, once the loop terminates (when <code>sum == n</code>), we return the value of <code>n</code>.</li>
</ul>
</li>
</ul>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<p>Let’s go through an example to see how the solution works in practice:</p>
<p>Consider the input <code>n = 12</code>.</p>
<ol>
<li>
<p><strong>First Iteration</strong>:</p>
<ul>
<li><code>getFactSum(12)</code> computes the sum of prime factors of 12.</li>
<li>The prime factorization of 12 is ( 2^2 \times 3 ). So, the prime factors are 2 and 3.</li>
<li>The sum of the prime factors is ( 2 + 2 + 3 = 7 ).</li>
<li>Since 7 is not equal to 12, we replace <code>n</code> with 7.</li>
</ul>
</li>
<li>
<p><strong>Second Iteration</strong>:</p>
<ul>
<li>Now, <code>n = 7</code>.</li>
<li><code>getFactSum(7)</code> computes the sum of prime factors of 7.</li>
<li>Since 7 is a prime number, its prime factorization is just 7 itself.</li>
<li>The sum of the prime factors is 7, which is equal to <code>n</code>.</li>
<li>Since the sum equals <code>n</code>, we break out of the loop and return <code>n</code>, which is 7.</li>
</ul>
</li>
</ol>
<p>Thus, for the input <code>12</code>, the smallest value is <code>7</code>.</p>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity</h4>
<ul>
<li><strong>Prime Factorization</strong>: The function <code>getFactSum</code> performs a trial division to find the prime factors of <code>n</code>. In the worst case, we need to check all numbers up to <code>sqrt(n)</code> to find the factors. This takes ( O(\sqrt{n}) ) time.</li>
<li><strong>Iterative Process</strong>: The process of replacing <code>n</code> with the sum of its prime factors continues until the sum of prime factors becomes equal to <code>n</code>. The number of iterations is dependent on the value of <code>n</code> and the sum of its prime factors. In the worst case, the number of iterations could be logarithmic in nature (in terms of the sum of prime factors), but in general, the process converges quickly.</li>
</ul>
<p>Thus, the overall time complexity can be approximated as ( O(\sqrt{n} \cdot k) ), where <code>k</code> is the number of iterations required to reach the smallest value. Since the process converges quickly, <code>k</code> is typically small.</p>
<h4 id="space-complexity">Space Complexity</h4>
<ul>
<li>The space complexity is ( O(1) ), as we are only using a few integer variables for computation, and the space used does not grow with the size of <code>n</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution efficiently solves the problem by iteratively computing the sum of the prime factors of <code>n</code> and replacing <code>n</code> with this sum until it converges to a stable value. By using trial division for prime factorization and leveraging the iterative nature of the problem, the solution provides a clear and optimal approach to solving this problem.</p>
<ul>
<li><strong>Time Complexity</strong>: ( O(\sqrt{n} \cdot k) ), where <code>k</code> is the number of iterations.</li>
<li><strong>Space Complexity</strong>: ( O(1) ).</li>
</ul>
<p>This approach efficiently handles the problem within the given constraints and provides a clear path to the solution.</p>
<p><a href="https://leetcode.com/problems/smallest-value-after-replacing-with-sum-of-prime-factors/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Z11zwNKd89I?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
