<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2707: Extra Characters in a String | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2707: Extra Characters in a String">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2707: Extra Characters in a String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2707-extra-characters-in-a-string/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2707: Extra Characters in a String">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2707: Extra Characters in a String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Trie">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2707: Extra Characters in a String</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode908s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    set<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> dic;
</span></span><span style="display:flex;"><span>    string str;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> memo;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dp</span>(<span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> n) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(memo[idx] <span style="color:#666">!=</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> memo[idx];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> INT_MAX;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> len <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> idx; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            string s <span style="color:#666">=</span> str.substr(idx, len);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(dic.count(s)) {
</span></span><span style="display:flex;"><span>                ans <span style="color:#666">=</span> min(ans, dp(idx <span style="color:#666">+</span> len));
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                ans <span style="color:#666">=</span> min(ans, len <span style="color:#666">+</span> dp(idx <span style="color:#666">+</span> len));                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            len<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> memo[idx] <span style="color:#666">=</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">minExtraChar</span>(string s, vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> dictionary) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        n <span style="color:#666">=</span> s.size();
</span></span><span style="display:flex;"><span>        str <span style="color:#666">=</span> s;
</span></span><span style="display:flex;"><span>        memo.resize(n, <span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">x</span>: dictionary) {
</span></span><span style="display:flex;"><span>            dic.insert(x);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks you to find the minimum number of extra characters that need to be added to a given string <code>s</code> such that the resulting string contains only words from a dictionary <code>dictionary</code>. Each word in the dictionary can be used multiple times to form substrings of <code>s</code>. If some characters cannot be grouped into valid words from the dictionary, those characters are considered &ldquo;extra&rdquo; characters.</p>
<p>You are required to return the minimum number of extra characters that would remain after forming valid words from the dictionary.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we use a <strong>dynamic programming</strong> approach. The idea is to use a recursive function to check all possible ways to form valid words from the dictionary and count the number of leftover (or extra) characters.</p>
<h4 id="dynamic-programming-steps">Dynamic Programming Steps</h4>
<ol>
<li>
<p><strong>Define State</strong>:
We define a state <code>dp(idx)</code> which represents the minimum number of extra characters needed to form valid words from the substring starting at index <code>idx</code>.</p>
</li>
<li>
<p><strong>Recursive Relation</strong>:</p>
<ul>
<li>For each starting index <code>idx</code>, we try all possible substrings starting from <code>idx</code>.</li>
<li>If the substring is found in the dictionary, we proceed without adding extra characters (i.e., move to the next substring).</li>
<li>If the substring is not in the dictionary, we count it as an extra character and recursively find the minimum extra characters from the next index.</li>
</ul>
</li>
<li>
<p><strong>Base Case</strong>:</p>
<ul>
<li>When <code>idx</code> reaches the end of the string, it means we&rsquo;ve processed all characters, and no more extra characters are left to be added. So, return <code>0</code> as the base case.</li>
</ul>
</li>
<li>
<p><strong>Memoization</strong>:
To avoid recomputing the results for the same substring repeatedly, we use memoization by storing the result for each index <code>idx</code> in the <code>memo</code> array.</p>
</li>
<li>
<p><strong>Iterative Process</strong>:
We use a loop to check all possible substrings starting from the current index <code>idx</code> and recursively calculate the minimum number of extra characters needed.</p>
</li>
<li>
<p><strong>Final Result</strong>:
The final result will be stored in <code>dp(0)</code>, which represents the minimum number of extra characters for the entire string.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-member-variables">1. Member Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>set<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> dic;
</span></span><span style="display:flex;"><span>string str;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> memo;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n;
</span></span></code></pre></div><ul>
<li><code>dic</code>: A set to store the dictionary words for quick lookup. This allows constant time check for whether a substring is in the dictionary.</li>
<li><code>str</code>: The input string <code>s</code>.</li>
<li><code>memo</code>: A memoization table to store the minimum extra characters required for each index in the string.</li>
<li><code>n</code>: The length of the input string <code>s</code>.</li>
</ul>
<h4 id="2-dpint-idx-function">2. <code>dp(int idx)</code> Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dp</span>(<span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> n) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(memo[idx] <span style="color:#666">!=</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> memo[idx];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> INT_MAX;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> len <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> idx; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        string s <span style="color:#666">=</span> str.substr(idx, len);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(dic.count(s)) {
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">=</span> min(ans, dp(idx <span style="color:#666">+</span> len));
</span></span><span style="display:flex;"><span>        } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">=</span> min(ans, len <span style="color:#666">+</span> dp(idx <span style="color:#666">+</span> len));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        len<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> memo[idx] <span style="color:#666">=</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Base Case</strong>: If <code>idx == n</code>, return <code>0</code> because we&rsquo;ve reached the end of the string, meaning no more extra characters need to be added.</li>
<li><strong>Memoization</strong>: If <code>memo[idx]</code> is not <code>-1</code>, it means we&rsquo;ve already computed the result for this index, so we return the stored value.</li>
<li><strong>Recursive Search</strong>: We initialize the <code>ans</code> as a very large number (<code>INT_MAX</code>) to keep track of the minimum extra characters. We then iterate through all possible substrings starting from <code>idx</code>:
<ul>
<li>For each possible substring, check if it exists in the dictionary:
<ul>
<li>If it exists, recursively calculate the result for the next substring (i.e., move to <code>idx + len</code>).</li>
<li>If it doesn&rsquo;t exist in the dictionary, count the substring as extra characters (i.e., add <code>len</code> to the result).</li>
</ul>
</li>
</ul>
</li>
<li><strong>Memoization Update</strong>: Finally, store the result for the current index <code>idx</code> in the <code>memo</code> table.</li>
</ul>
<h4 id="3-minextracharstring-s-vectorstring-dictionary-function">3. <code>minExtraChar(string s, vector&lt;string&gt;&amp; dictionary)</code> Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">minExtraChar</span>(string s, vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> dictionary) {
</span></span><span style="display:flex;"><span>    n <span style="color:#666">=</span> s.size();
</span></span><span style="display:flex;"><span>    str <span style="color:#666">=</span> s;
</span></span><span style="display:flex;"><span>    memo.resize(n, <span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">x</span>: dictionary) {
</span></span><span style="display:flex;"><span>        dic.insert(x);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> dp(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Initialization</strong>:
<ul>
<li>Set <code>n</code> to the size of the string <code>s</code> and initialize <code>str</code> to the input string.</li>
<li>Resize the <code>memo</code> array to the size of the string and initialize all elements to <code>-1</code> to indicate that no subproblem has been solved yet.</li>
</ul>
</li>
<li><strong>Dictionary Setup</strong>: Insert all dictionary words into the <code>dic</code> set for fast lookup.</li>
<li><strong>Final Calculation</strong>: Call the <code>dp(0)</code> function to calculate the minimum extra characters from the start of the string.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity</h4>
<p>The time complexity of the solution is <strong>O(n^2)</strong>, where <code>n</code> is the length of the input string <code>s</code>. This is because, in the worst case, for each index <code>idx</code>, we check all possible substrings starting from <code>idx</code>, and there are at most <code>n</code> such substrings. Hence, the overall complexity is quadratic.</p>
<h4 id="space-complexity">Space Complexity</h4>
<p>The space complexity is <strong>O(n)</strong> for the <code>memo</code> array, which stores the result for each index of the string. The set <code>dic</code> also uses space proportional to the number of words in the dictionary, but this is typically much smaller than <code>n</code> and does not affect the overall space complexity significantly.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution leverages dynamic programming with memoization to efficiently solve the problem of finding the minimum number of extra characters in the string <code>s</code> by trying to form valid words from the dictionary. The time complexity is quadratic, which is reasonable for moderate-sized input strings, and the space complexity is linear in terms of the length of the input string. The solution handles all cases efficiently by recursively trying all substrings and memoizing the results to avoid redundant calculations.</p>
<p><a href="https://leetcode.com/problems/extra-characters-in-a-string/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ONstwO1cD7c?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
