<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1381: Design a Stack With Increment Operation | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1381: Design a Stack With Increment Operation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1381: Design a Stack With Increment Operation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1381-design-a-stack-with-increment-operation/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1381: Design a Stack With Increment Operation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1381: Design a Stack With Increment Operation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Stack">
    <meta property="article:tag" content="Design">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1381: Design a Stack With Increment Operation</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode185s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">CustomStack</span> {
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> ptr, m;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    CustomStack(<span style="color:#0b0;font-weight:bold">int</span> mx) {
</span></span><span style="display:flex;"><span>        stk.resize(mx);
</span></span><span style="display:flex;"><span>        ptr <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        m <span style="color:#666">=</span> mx;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">push</span>(<span style="color:#0b0;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (ptr <span style="color:#666">&lt;</span> m <span style="color:#666">-</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>            ptr<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            stk[ptr] <span style="color:#666">=</span> x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">pop</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(ptr <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> stk[ptr<span style="color:#666">--</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">increment</span>(<span style="color:#0b0;font-weight:bold">int</span> k, <span style="color:#0b0;font-weight:bold">int</span> val) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> min(m, k); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            stk[i] <span style="color:#666">+=</span> val;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your CustomStack object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * CustomStack* obj = new CustomStack(maxSize);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;push(x);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_2 = obj-&gt;pop();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;increment(k,val);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to design a custom stack data structure that supports three primary operations: pushing an element onto the stack, popping the top element from the stack, and incrementing the bottom <code>k</code> elements of the stack by a given value. The stack has a fixed maximum size, and any attempts to push elements beyond this limit should be ignored. The main goal is to implement these functionalities efficiently while adhering to the stack&rsquo;s LIFO (Last In First Out) principle.</p>
<h3 id="approach">Approach</h3>
<p>To implement the <code>CustomStack</code> class, we can utilize a vector to store the stack elements, along with an integer pointer to track the current top of the stack. The operations can be defined as follows:</p>
<ol>
<li>
<p><strong>Constructor</strong>: Initialize the stack with a maximum size and set the pointer to indicate an empty stack.</p>
</li>
<li>
<p><strong>Push Operation</strong>: Add an element to the top of the stack, ensuring that the stack does not exceed its maximum size.</p>
</li>
<li>
<p><strong>Pop Operation</strong>: Remove and return the top element from the stack, checking if the stack is empty beforehand.</p>
</li>
<li>
<p><strong>Increment Operation</strong>: Increment the bottom <code>k</code> elements of the stack by a specified value. This operation should be carefully implemented to respect the current number of elements in the stack.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>The provided C++ code implements the <code>CustomStack</code> class with the described functionalities. Here’s a detailed breakdown of how it works:</p>
<ol>
<li>
<p><strong>Class Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">CustomStack</span> {
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> ptr, m;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>The <code>CustomStack</code> class contains a vector <code>stk</code> to hold the stack elements, an integer <code>ptr</code> to keep track of the current top index, and an integer <code>m</code> for the maximum size of the stack.</li>
</ul>
</li>
<li>
<p><strong>Constructor</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    CustomStack(<span style="color:#0b0;font-weight:bold">int</span> mx) {
</span></span><span style="display:flex;"><span>        stk.resize(mx);
</span></span><span style="display:flex;"><span>        ptr <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        m <span style="color:#666">=</span> mx;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The constructor takes an integer <code>mx</code> which represents the maximum size of the stack. It initializes the vector <code>stk</code> with the specified size, sets the pointer <code>ptr</code> to <code>-1</code> (indicating an empty stack), and assigns <code>m</code> to <code>mx</code>.</li>
</ul>
</li>
<li>
<p><strong>Push Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">push</span>(<span style="color:#0b0;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (ptr <span style="color:#666">&lt;</span> m <span style="color:#666">-</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>            ptr<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            stk[ptr] <span style="color:#666">=</span> x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The <code>push</code> method takes an integer <code>x</code> and checks if the stack can accommodate more elements (i.e., if <code>ptr</code> is less than <code>m - 1</code>). If there is space, it increments the pointer <code>ptr</code> and assigns the value <code>x</code> to <code>stk[ptr]</code>.</li>
</ul>
</li>
<li>
<p><strong>Pop Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">pop</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(ptr <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> stk[ptr<span style="color:#666">--</span>];
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The <code>pop</code> method checks if the stack is empty (i.e., if <code>ptr</code> is <code>-1</code>). If the stack is not empty, it returns the top element (<code>stk[ptr]</code>) and decrements the pointer.</li>
</ul>
</li>
<li>
<p><strong>Increment Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">increment</span>(<span style="color:#0b0;font-weight:bold">int</span> k, <span style="color:#0b0;font-weight:bold">int</span> val) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> min(m, k); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            stk[i] <span style="color:#666">+=</span> val;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The <code>increment</code> method takes two parameters: <code>k</code>, the number of bottom elements to increment, and <code>val</code>, the value to increment by. It uses a loop to iterate through the bottom <code>k</code> elements (up to the current maximum size of the stack) and adds <code>val</code> to each of those elements. The loop runs for <code>min(m, k)</code> to ensure that we do not exceed the bounds of the vector.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li><strong>Push Operation</strong>: The <code>push</code> operation runs in (O(1)) time since it only involves checking a condition and updating a pointer.</li>
<li><strong>Pop Operation</strong>: The <code>pop</code> operation also runs in (O(1)) time, as it involves checking the pointer and returning an element.</li>
<li><strong>Increment Operation</strong>: The <code>increment</code> operation has a time complexity of (O(k)), where (k) is the number of elements to increment. In the worst case, this could be up to (O(m)) if all elements need to be incremented.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(m)) due to the storage of the stack elements in the vector.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>CustomStack</code> class is an efficient implementation of a stack with additional functionalities, including a push operation, a pop operation, and an increment operation that modifies the bottom elements of the stack. The use of a vector allows dynamic management of the stack size, while the pointer helps maintain the current state of the stack efficiently. The operations are designed to be efficient and straightforward, adhering to the principles of stack data structures. This implementation serves as a practical reference for developers and students learning about data structures, particularly for applications requiring dynamic array management and stack operations. Furthermore, understanding this design can provide a foundation for exploring more complex data structure implementations and algorithms in computer science.</p>
<p><a href="https://leetcode.com/problems/design-a-stack-with-increment-operation/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
