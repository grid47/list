<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 3100: Water Bottles II | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 3100: Water Bottles II">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 3100: Water Bottles II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-3100-water-bottles-ii/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 3100: Water Bottles II">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 3100: Water Bottles II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Simulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 3100: Water Bottles II</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1052s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxBottlesDrunk(<span style="color:#0b0;font-weight:bold">int</span> bot, <span style="color:#0b0;font-weight:bold">int</span> ex) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> full <span style="color:#666">=</span> bot;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> empty <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> drunk <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>((empty <span style="color:#666">+</span> full) <span style="color:#666">&gt;=</span> ex) {
</span></span><span style="display:flex;"><span>            drunk   <span style="color:#666">+=</span> full;
</span></span><span style="display:flex;"><span>            empty   <span style="color:#666">+=</span> full;
</span></span><span style="display:flex;"><span>            full     <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(empty <span style="color:#666">&gt;=</span> ex) {
</span></span><span style="display:flex;"><span>                empty   <span style="color:#666">-=</span> ex;
</span></span><span style="display:flex;"><span>                full    <span style="color:#666">+=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                ex      <span style="color:#666">+=</span> <span style="color:#666">1</span>;                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> drunk <span style="color:#666">+</span> full;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are given two integers: <code>bot</code> (the initial number of full bottles) and <code>ex</code> (the number of empty bottles required to exchange for a new full bottle). Our goal is to determine the maximum number of bottles that can be drunk. For each empty bottle, you can exchange it for one full bottle and continue drinking until no more exchanges can be made.</p>
<h3 id="approach">Approach</h3>
<p>The problem requires us to simulate the process of drinking bottles and exchanging the empty bottles for full ones. Initially, we have a certain number of full bottles, and as we drink them, we accumulate empty bottles. These empty bottles can be exchanged for more full bottles, which allows us to continue drinking.</p>
<p>The core idea is to continue exchanging empty bottles for full ones as long as we have enough empty bottles to make an exchange. We need to account for the fact that each exchange increases the number of full bottles, and drinking the bottles increases the number of empty bottles again.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s break down the code step by step:</p>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> full <span style="color:#666">=</span> bot;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> empty <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> drunk <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><strong>full:</strong> This variable represents the number of full bottles available at the start. Initially, it’s equal to <code>bot</code>, which is the number of full bottles provided as input.</li>
<li><strong>empty:</strong> This variable keeps track of the number of empty bottles. Initially, it is set to 0.</li>
<li><strong>drunk:</strong> This variable counts the total number of bottles that have been drunk. It starts at 0 and will be updated as the simulation progresses.</li>
</ul>
<h4 id="step-2-while-loop-for-drinking-and-exchanging-bottles">Step 2: While Loop for Drinking and Exchanging Bottles</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>((empty <span style="color:#666">+</span> full) <span style="color:#666">&gt;=</span> ex) {
</span></span><span style="display:flex;"><span>    drunk <span style="color:#666">+=</span> full;
</span></span><span style="display:flex;"><span>    empty <span style="color:#666">+=</span> full;
</span></span><span style="display:flex;"><span>    full <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>The <code>while</code> loop checks if the total number of bottles (full + empty) is enough to perform at least one exchange (<code>(empty + full) &gt;= ex</code>). If this condition is true, it means we can exchange some empty bottles for full ones.</li>
<li>In this block:
<ul>
<li>We add all the current full bottles (<code>full</code>) to the <code>drunk</code> count because all full bottles will be drunk.</li>
<li>The number of empty bottles is updated by adding the number of full bottles (<code>empty += full</code>).</li>
<li>After drinking all the full bottles, we set <code>full = 0</code>, since all full bottles have been consumed.</li>
</ul>
</li>
</ul>
<h4 id="step-3-inner-loop-for-exchanging-empty-bottles">Step 3: Inner Loop for Exchanging Empty Bottles</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(empty <span style="color:#666">&gt;=</span> ex) {
</span></span><span style="display:flex;"><span>    empty <span style="color:#666">-=</span> ex;
</span></span><span style="display:flex;"><span>    full <span style="color:#666">+=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    ex <span style="color:#666">+=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>After drinking the full bottles, we enter the inner <code>while</code> loop, where we attempt to exchange the empty bottles for new full bottles.</li>
<li>Each time we enter the loop:
<ul>
<li>We decrease the number of empty bottles by <code>ex</code> (<code>empty -= ex</code>) because we are exchanging <code>ex</code> empty bottles for one full bottle.</li>
<li>We increase the number of full bottles by 1 (<code>full += 1</code>).</li>
<li>The value of <code>ex</code> is increased by 1 (<code>ex += 1</code>), which means the required number of empty bottles for the next exchange is increased. This simulates the increasing difficulty of exchanging bottles as the process continues.</li>
</ul>
</li>
</ul>
<h4 id="step-4-final-return-statement">Step 4: Final Return Statement</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> drunk <span style="color:#666">+</span> full;
</span></span></code></pre></div><ul>
<li>After the loops are completed, we return the total number of bottles that were drunk (<code>drunk + full</code>).</li>
<li>The value <code>drunk</code> represents the total number of full bottles that were consumed, and the remaining <code>full</code> bottles represent the last set of full bottles that couldn’t be exchanged anymore but were still drunk.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n):</strong> The time complexity of the solution is <strong>O(n)</strong>, where <code>n</code> is the total number of bottles. The process of drinking and exchanging bottles is handled using a loop that iterates over the number of full and empty bottles.</li>
<li>The outer <code>while</code> loop runs while there are enough bottles to exchange, and the inner <code>while</code> loop is executed as long as we have enough empty bottles to perform exchanges. Since each full bottle is consumed and exchanged at most once, the overall time complexity is linear with respect to the number of bottles.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(1):</strong> The space complexity is constant because we are only using a fixed amount of space for the variables (<code>full</code>, <code>empty</code>, <code>drunk</code>, and <code>ex</code>). We are not using any additional data structures that grow with the input size, so the space complexity is <strong>O(1)</strong>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>In conclusion, this algorithm simulates the process of drinking bottles and exchanging empty bottles for new full ones. By iterating over the process of drinking and exchanging bottles, we can determine the maximum number of bottles that can be drunk. The solution effectively handles the dynamic nature of the exchanges and accounts for the increasing difficulty of getting new full bottles as the process continues.</p>
<p>The time complexity of <strong>O(n)</strong> ensures that the solution will efficiently handle large inputs, and the space complexity of <strong>O(1)</strong> makes it very space-efficient. This approach is optimal for solving the problem and provides the correct result by following the given conditions and constraints.</p>
<p>By using a systematic approach of exchanging empty bottles and increasing the required number of empty bottles after each exchange, this algorithm efficiently calculates the maximum number of bottles that can be drunk.</p>
<p><a href="https://leetcode.com/problems/water-bottles-ii/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Ll_mTkG1rEc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
