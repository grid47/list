<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1513: Number of Substrings With Only 1s | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1513: Number of Substrings With Only 1s">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1513: Number of Substrings With Only 1s in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1513-number-of-substrings-with-only-1s/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1513: Number of Substrings With Only 1s">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1513: Number of Substrings With Only 1s in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="String">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1513: Number of Substrings With Only 1s</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode255s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> numSub(string s) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>, mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> tmp <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> s.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;1&#39;</span>) {
</span></span><span style="display:flex;"><span>                tmp<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;0&#39;</span> <span style="color:#666">||</span> i <span style="color:#666">==</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>                cnt <span style="color:#666">=</span> (cnt <span style="color:#666">+</span> tmp <span style="color:#666">*</span> (tmp <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">/</span> <span style="color:#666">2</span>) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>                tmp <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to count the number of substrings in a binary string <code>s</code> that consist solely of the character &lsquo;1&rsquo;. Each substring contributes to the total count based on its length. Specifically, if a substring has length <code>L</code>, it contributes ( \frac{L \cdot (L + 1)}{2} ) to the total count, as there are ( L ) substrings of length 1, ( L-1 ) of length 2, and so forth down to 1 substring of length ( L ). The result should be returned modulo ( 10^9 + 7 ).</p>
<h3 id="approach">Approach</h3>
<p>To efficiently count the number of valid substrings, we can use a single pass through the string while maintaining a count of consecutive &lsquo;1&rsquo;s. When we encounter a &lsquo;0&rsquo; or reach the end of the string, we can calculate the contribution of the accumulated &lsquo;1&rsquo;s to the total count.</p>
<p>Hereâ€™s a step-by-step breakdown of the approach:</p>
<ol>
<li>
<p><strong>Initialization</strong>: Start with a counter for the total substrings (<code>cnt</code>), a temporary counter for consecutive &lsquo;1&rsquo;s (<code>tmp</code>), and a modulo value to handle large numbers.</p>
</li>
<li>
<p><strong>Iterate Through the String</strong>: Loop through each character in the string:</p>
<ul>
<li>If the character is &lsquo;1&rsquo;, increment the temporary counter (<code>tmp</code>).</li>
<li>If the character is &lsquo;0&rsquo; or if we reach the end of the string, compute the contribution of the accumulated &lsquo;1&rsquo;s to <code>cnt</code>, and reset <code>tmp</code>.</li>
</ul>
</li>
<li>
<p><strong>Final Calculation</strong>: After processing all characters, return the total count of substrings modulo ( 10^9 + 7 ).</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here is the detailed explanation of the provided code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>We define a class named <code>Solution</code> with a public method <code>numSub</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">numSub</span>(string s) {
</span></span></code></pre></div><ul>
<li>The method <code>numSub</code> takes a string <code>s</code> as input, which represents a binary string.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>, mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span></code></pre></div><ul>
<li>We initialize <code>cnt</code> to 0 to store the total number of valid substrings. The variable <code>mod</code> is set to ( 10^9 + 7 ) to handle large numbers through modular arithmetic.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> tmp <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> s.size();
</span></span></code></pre></div><ul>
<li><code>tmp</code> will keep track of the number of consecutive &lsquo;1&rsquo;s, and <code>n</code> is the length of the string <code>s</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span></code></pre></div><ul>
<li>We start a loop that iterates over each character in the string from index 0 to ( n - 1 ).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;1&#39;</span>) {
</span></span><span style="display:flex;"><span>                tmp<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><ul>
<li>If the current character is &lsquo;1&rsquo;, we increment the <code>tmp</code> counter, indicating we have found another &lsquo;1&rsquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;0&#39;</span> <span style="color:#666">||</span> i <span style="color:#666">==</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>) {
</span></span></code></pre></div><ul>
<li>If we encounter a &lsquo;0&rsquo; or reach the last character in the string, we process the count of &lsquo;1&rsquo;s stored in <code>tmp</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                cnt <span style="color:#666">=</span> (cnt <span style="color:#666">+</span> tmp <span style="color:#666">*</span> (tmp <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">/</span> <span style="color:#666">2</span>) <span style="color:#666">%</span> mod;
</span></span></code></pre></div><ul>
<li>We calculate the contribution of the current sequence of &lsquo;1&rsquo;s to the total count using the formula ( \frac{L \cdot (L + 1)}{2} ) and update <code>cnt</code>. The modulo operation ensures we do not exceed the limits of typical integer types.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                tmp <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><ul>
<li>After adding the contribution of the current sequence, we reset <code>tmp</code> to 0 in preparation for the next sequence of &lsquo;1&rsquo;s.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>The loop continues until all characters have been processed.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Finally, we return the total count of substrings stored in <code>cnt</code>.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity</h4>
<ul>
<li>The time complexity of this solution is (O(n)), where (n) is the length of the input string. We iterate through the string only once.</li>
</ul>
<h4 id="space-complexity">Space Complexity</h4>
<ul>
<li>The space complexity is (O(1)) because we use a constant amount of space for the counters and do not use any additional data structures that grow with input size.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently counts the number of valid substrings of &lsquo;1&rsquo;s in a binary string by maintaining a running total of consecutive &lsquo;1&rsquo;s.</p>
<p><strong>Key Insights</strong>:</p>
<ul>
<li><strong>Mathematical Insight</strong>: Understanding how to count the contributions of sequences of &lsquo;1&rsquo;s is crucial to solving this problem efficiently.</li>
<li><strong>Modular Arithmetic</strong>: Using modulo ( 10^9 + 7 ) ensures that we can handle very large counts without encountering overflow errors.</li>
</ul>
<p>The code is concise and leverages mathematical properties effectively, making it an optimal solution for the problem at hand. The approach can be applied to similar problems involving counting specific substrings or patterns within strings.</p>
<p><a href="https://leetcode.com/problems/number-of-substrings-with-only-1s/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/9cPoRqw5I_8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
