<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 866: Prime Palindrome | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 866: Prime Palindrome">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 866: Prime Palindrome in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-866-prime-palindrome/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 866: Prime Palindrome">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 866: Prime Palindrome in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Number Theory">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 866: Prime Palindrome</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1359s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> primePalindrome(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">8</span> <span style="color:#666">&lt;=</span> n <span style="color:#666">&amp;&amp;</span> n <span style="color:#666">&lt;=</span> <span style="color:#666">11</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">11</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> <span style="color:#666">1</span>; x <span style="color:#666">&lt;</span> <span style="color:#666">100000</span>; x<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            string s <span style="color:#666">=</span> to_string(x), r(s.rbegin(), s.rend());
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> y <span style="color:#666">=</span> stoi(s <span style="color:#666">+</span> r.substr(<span style="color:#666">1</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(y <span style="color:#666">&gt;=</span> n <span style="color:#666">&amp;&amp;</span> isPrime(y)) <span style="color:#a2f;font-weight:bold">return</span> y;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">isPrime</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">&lt;</span> <span style="color:#666">2</span> <span style="color:#666">||</span> num <span style="color:#666">%</span><span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> num <span style="color:#666">==</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">3</span>; i <span style="color:#666">*</span> i <span style="color:#666">&lt;=</span> num; i <span style="color:#666">+=</span> <span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(num<span style="color:#666">%</span>i <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find the <strong>smallest prime palindrome</strong> number greater than or equal to a given integer <code>n</code>. A prime palindrome is a number that is both a palindrome and a prime number. A <strong>palindrome</strong> is a number that reads the same forward and backward, while a <strong>prime number</strong> is a number greater than 1 that has no positive divisors other than 1 and itself. The task is to return the smallest prime palindrome number greater than or equal to <code>n</code>.</p>
<h3 id="problem-explanation">Problem Explanation</h3>
<p>To clarify, the task requires us to:</p>
<ol>
<li>Find the smallest palindrome number that is greater than or equal to <code>n</code>.</li>
<li>Check if the palindrome is also a prime number.</li>
<li>If it is prime, return that palindrome number.</li>
<li>If no such number exists, return <code>-1</code>.</li>
</ol>
<p>A <strong>palindrome</strong> number is one that reads the same backward as forward, e.g., <code>121</code>, <code>12321</code>. A <strong>prime</strong> number is one that has no divisors other than 1 and itself, e.g., <code>2</code>, <code>3</code>, <code>5</code>, <code>7</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can break it down into a couple of simple steps:</p>
<ol>
<li><strong>Generate Palindromes</strong>: We need a way to generate numbers that are palindromes. This can be done efficiently by generating half of the number and reflecting it to form the full number.</li>
<li><strong>Check Primality</strong>: For each palindrome number, we check if it is prime. If it is, we return that number.</li>
<li><strong>Optimization</strong>: Since we are interested in the smallest palindrome greater than or equal to <code>n</code>, we should start generating palindromes from numbers greater than or equal to <code>n</code> and stop as soon as we find a prime palindrome.</li>
</ol>
<p>The main challenge is generating the palindromes and checking whether they are prime. The method involves creating palindromes from numbers and checking if they are prime until we find one that is greater than or equal to <code>n</code>.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-handling-small-cases-special-case-for-numbers-between-8-and-11">Step 1: Handling Small Cases (Special Case for Numbers Between 8 and 11)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">8</span> <span style="color:#666">&lt;=</span> n <span style="color:#666">&amp;&amp;</span> n <span style="color:#666">&lt;=</span> <span style="color:#666">11</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">11</span>;
</span></span></code></pre></div><ul>
<li>The function first handles a special case for numbers between 8 and 11 (inclusive). These numbers are small and can be handled quickly because the smallest prime palindrome greater than or equal to these values is <code>11</code>.</li>
</ul>
<h4 id="step-2-loop-to-generate-palindromes-and-check-for-primality">Step 2: Loop to Generate Palindromes and Check for Primality</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> <span style="color:#666">1</span>; x <span style="color:#666">&lt;</span> <span style="color:#666">100000</span>; x<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    string s <span style="color:#666">=</span> to_string(x), r(s.rbegin(), s.rend());
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> y <span style="color:#666">=</span> stoi(s <span style="color:#666">+</span> r.substr(<span style="color:#666">1</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (y <span style="color:#666">&gt;=</span> n <span style="color:#666">&amp;&amp;</span> isPrime(y)) <span style="color:#a2f;font-weight:bold">return</span> y;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We use a loop that generates numbers <code>x</code> from <code>1</code> to <code>99999</code>. For each number <code>x</code>:
<ul>
<li>Convert <code>x</code> into a string <code>s</code>.</li>
<li>Reverse the string <code>s</code> to create a string <code>r</code>.</li>
<li>Construct the palindrome <code>y</code> by concatenating <code>s</code> and the substring of <code>r</code> starting from the second character. This creates a palindrome where the second half mirrors the first half (excluding the middle character).</li>
<li>If <code>y</code> is greater than or equal to <code>n</code> and is prime (checked in the next step), return <code>y</code> as the result.</li>
</ul>
</li>
</ul>
<h4 id="step-3-prime-checking-function">Step 3: Prime Checking Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">isPrime</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (num <span style="color:#666">&lt;</span> <span style="color:#666">2</span> <span style="color:#666">||</span> num <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> num <span style="color:#666">==</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">3</span>; i <span style="color:#666">*</span> i <span style="color:#666">&lt;=</span> num; i <span style="color:#666">+=</span> <span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (num <span style="color:#666">%</span> i <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>This is a helper function that checks whether a number <code>num</code> is prime.
<ul>
<li>If <code>num</code> is less than 2 or an even number greater than 2, it returns <code>false</code> because even numbers greater than 2 cannot be prime.</li>
<li>Then, the function iterates over odd numbers starting from 3 up to the square root of <code>num</code>, checking if <code>num</code> is divisible by any of them. If it finds a divisor, it returns <code>false</code>, indicating that <code>num</code> is not prime.</li>
<li>If no divisors are found, the function returns <code>true</code>, indicating that <code>num</code> is prime.</li>
</ul>
</li>
</ul>
<h4 id="step-4-return--1-if-no-prime-palindrome-is-found">Step 4: Return <code>-1</code> if No Prime Palindrome is Found</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>If the loop completes without finding any prime palindrome greater than or equal to <code>n</code>, the function returns <code>-1</code>. However, this case is highly unlikely because we expect that there are prime palindromes greater than <code>n</code>.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Generating Palindromes</strong>: For each number <code>x</code>, we generate a palindrome by concatenating the string <code>s</code> and a portion of the string <code>r</code>. This takes linear time relative to the number of digits in <code>x</code>. Since <code>x</code> ranges from <code>1</code> to <code>99999</code>, the number of digits in <code>x</code> is at most 5, which is constant. Thus, generating palindromes is effectively O(1).</li>
<li><strong>Prime Checking</strong>: The <code>isPrime</code> function checks whether a number <code>y</code> is prime. For each number <code>y</code>, the prime check function performs up to <code>O(sqrt(y))</code> operations. However, the number of prime checks we perform is limited, as the palindrome numbers are generally quite large, so the prime checking function operates efficiently on a smaller set of values.</li>
<li><strong>Overall Time Complexity</strong>: The overall time complexity is dominated by the number of palindromes generated and the time it takes to check each for primality. Given the loop runs for at most 100,000 iterations and each prime check takes O(sqrt(y)), the overall complexity is approximately <strong>O(k * sqrt(y))</strong>, where <code>k</code> is the number of palindrome numbers checked, and <code>y</code> is the value being tested for primality.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Space Complexity</strong>: The space complexity is O(1) because we are only using a small amount of extra space (for variables like <code>s</code>, <code>r</code>, <code>y</code>, etc.) and do not store any additional large data structures.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution is efficient and solves the problem of finding the smallest prime palindrome greater than or equal to a given number <code>n</code>. The approach of generating palindromes from numbers and checking them for primality ensures that we efficiently find the answer. The time complexity is dominated by the prime-checking step, but given the constraints, the solution works efficiently for a wide range of inputs. This approach leverages the fact that palindrome numbers have a predictable structure, making the problem solvable in a reasonable amount of time.</p>
<p><a href="https://leetcode.com/problems/prime-palindrome/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/MZSbndVpxH8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
