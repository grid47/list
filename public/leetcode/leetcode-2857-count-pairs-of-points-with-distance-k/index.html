<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2857: Count Pairs of Points With Distance k | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2857: Count Pairs of Points With Distance k">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2857: Count Pairs of Points With Distance k in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2857-count-pairs-of-points-with-distance-k/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2857: Count Pairs of Points With Distance k">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2857: Count Pairs of Points With Distance k in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Bit Manipulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2857: Count Pairs of Points With Distance k</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode982s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countPairs(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> coordinates, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> count;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">c</span> : coordinates) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> <span style="color:#666">0</span>; x <span style="color:#666">&lt;=</span> k; x<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span> (count[c[<span style="color:#666">0</span>] <span style="color:#666">^</span> x].count(c[<span style="color:#666">1</span>] <span style="color:#666">^</span> (k <span style="color:#666">-</span> x)))
</span></span><span style="display:flex;"><span>                    res <span style="color:#666">+=</span> count[c[<span style="color:#666">0</span>] <span style="color:#666">^</span> x][c[<span style="color:#666">1</span>] <span style="color:#666">^</span> (k <span style="color:#666">-</span> x)];
</span></span><span style="display:flex;"><span>            count[c[<span style="color:#666">0</span>]][c[<span style="color:#666">1</span>]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find how many pairs of coordinates in a given list can be transformed by applying a bitwise XOR operation with a given integer <code>k</code>, such that the transformed coordinates form a valid pair. Specifically, for each pair of coordinates <code>(x1, y1)</code> and <code>(x2, y2)</code> in the list, you need to check if there exists some value of <code>x</code> such that:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>x1 ^ x = x2 ^ (k - x)
</span></span></code></pre></div><p>where <code>^</code> represents the bitwise XOR operation, and <code>k</code> is a given constant.</p>
<p>The goal is to find the total number of such pairs in the list.</p>
<h3 id="approach">Approach</h3>
<p>This problem requires the use of bitwise operations to check how pairs of coordinates can match after applying the XOR transformation. The XOR operation is a bit-level operation, and the property <code>a ^ b == c</code> implies a relationship between <code>a</code>, <code>b</code>, and <code>c</code>. Using this property, we can efficiently track pairs of coordinates that can be transformed by the XOR operation.</p>
<h4 id="key-observations">Key Observations:</h4>
<ol>
<li>
<p><strong>Efficient Pair Search with XOR</strong>:</p>
<ul>
<li>For each coordinate pair <code>(x, y)</code> in the <code>coordinates</code> list, we want to check if there exists any other coordinate pair <code>(x', y')</code> such that after applying the XOR operation, the pairs match.</li>
</ul>
</li>
<li>
<p><strong>Using Maps for Counting</strong>:</p>
<ul>
<li>A direct approach of checking each pair would lead to an O(n^2) solution, which is inefficient. Instead, we use a hash map to store the frequency of the coordinates we&rsquo;ve seen so far, enabling us to check if a valid pair has already been encountered in constant time.</li>
</ul>
</li>
<li>
<p><strong>XOR and the Relationship</strong>:</p>
<ul>
<li>The key idea is to use the XOR operation in such a way that we transform the coordinates and check if the transformed coordinate exists in the previously seen coordinates.</li>
</ul>
</li>
</ol>
<h4 id="steps">Steps:</h4>
<ol>
<li>
<p><strong>Iterate Over Coordinates</strong>:</p>
<ul>
<li>For each coordinate pair <code>(x, y)</code>, iterate through all possible <code>x</code> values from <code>0</code> to <code>k</code>, and compute the transformed pair <code>(x', y')</code> using the formula <code>x' = x ^ x</code> and <code>y' = y ^ (k - x)</code>.</li>
</ul>
</li>
<li>
<p><strong>Check for Valid Pairs</strong>:</p>
<ul>
<li>For each transformed pair, check if it exists in the hash map. If it does, increment the count of valid pairs.</li>
</ul>
</li>
<li>
<p><strong>Update the Count Map</strong>:</p>
<ul>
<li>After checking for valid pairs, update the hash map with the current coordinate pair <code>(x, y)</code>.</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<ul>
<li>After processing all coordinates, the result will be the total number of valid pairs found.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> count;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>We initialize a map <code>count</code> where the keys are the x and y coordinates, and the values are the count of occurrences of each pair <code>(x, y)</code>.</li>
<li>We also initialize <code>res</code> to keep track of the number of valid pairs.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">c</span> : coordinates) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> <span style="color:#666">0</span>; x <span style="color:#666">&lt;=</span> k; x<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (count[c[<span style="color:#666">0</span>] <span style="color:#666">^</span> x].count(c[<span style="color:#666">1</span>] <span style="color:#666">^</span> (k <span style="color:#666">-</span> x)))
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span> count[c[<span style="color:#666">0</span>] <span style="color:#666">^</span> x][c[<span style="color:#666">1</span>] <span style="color:#666">^</span> (k <span style="color:#666">-</span> x)];
</span></span><span style="display:flex;"><span>    count[c[<span style="color:#666">0</span>]][c[<span style="color:#666">1</span>]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>For each coordinate pair <code>c = (x, y)</code> in the list of coordinates:
<ul>
<li>We iterate over all values of <code>x</code> from <code>0</code> to <code>k</code>.</li>
<li>For each <code>x</code>, we compute the transformed coordinate <code>(x', y')</code> using the XOR operation. Specifically, <code>x' = c[0] ^ x</code> and <code>y' = c[1] ^ (k - x)</code>.</li>
<li>We check if the transformed coordinate <code>(x', y')</code> has already appeared in the <code>count</code> map. If it has, we add the count of occurrences of <code>(x', y')</code> to <code>res</code>.</li>
<li>Finally, we update the <code>count</code> map with the current coordinate <code>(x, y)</code>.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After processing all coordinates, we return the total number of valid pairs stored in <code>res</code>.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n * k)</strong>:
<ul>
<li>We iterate over all coordinates in the <code>coordinates</code> list, where <code>n</code> is the number of coordinates.</li>
<li>For each coordinate, we perform <code>k</code> iterations (one for each possible <code>x</code> from <code>0</code> to <code>k</code>).</li>
<li>Therefore, the time complexity is O(n * k), where <code>n</code> is the number of coordinates and <code>k</code> is the maximum value used in the XOR operation.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n * k)</strong>:
<ul>
<li>We are using a hash map to store the count of each coordinate pair. In the worst case, we may need to store <code>n * k</code> entries in the map (since we are considering all possible values of <code>x</code> for each coordinate).</li>
<li>Therefore, the space complexity is O(n * k).</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This approach efficiently computes the number of valid coordinate pairs that can be transformed using the XOR operation by leveraging hash maps for fast lookup. The use of bitwise operations ensures that the transformations are performed efficiently, and the hash map allows for quick counting of valid pairs. By iterating over the coordinates and transforming them, we avoid the inefficiencies of a brute force O(n^2) solution. The overall time complexity of O(n * k) makes this solution suitable for larger inputs.</p>
<p><a href="https://leetcode.com/problems/count-pairs-of-points-with-distance-k/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Z7hDq-nGzUI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
