<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2397: Maximum Rows Covered by Columns | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2397: Maximum Rows Covered by Columns">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2397: Maximum Rows Covered by Columns in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2397-maximum-rows-covered-by-columns/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2397: Maximum Rows Covered by Columns">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2397: Maximum Rows Covered by Columns in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Backtracking">
    <meta property="article:tag" content="Bit Manipulation">
    <meta property="article:tag" content="Matrix">
    <meta property="article:tag" content="Enumeration">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2397: Maximum Rows Covered by Columns</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode733s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maximumRows(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> mtx, <span style="color:#0b0;font-weight:bold">int</span> sel) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> mtx.size(), n <span style="color:#666">=</span> mtx[<span style="color:#666">0</span>].size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> msk <span style="color:#666">=</span> <span style="color:#666">0</span>; msk <span style="color:#666">&lt;</span> (<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> n); msk<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(__builtin_popcount(msk) <span style="color:#666">!=</span> sel) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">bool</span> take <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(mtx[i][j] <span style="color:#666">&amp;&amp;</span> (((msk <span style="color:#666">&gt;&gt;</span> j) <span style="color:#666">&amp;</span> <span style="color:#666">1</span>) <span style="color:#666">==</span> <span style="color:#666">0</span>)) {
</span></span><span style="display:flex;"><span>                        take <span style="color:#666">=</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>                        <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(take) res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">=</span> max(ans, res);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>You are given a matrix <code>mtx</code> with dimensions <code>m x n</code> (m rows and n columns) containing binary values (0s and 1s). You are also given an integer <code>sel</code> which indicates how many columns you can select from the matrix. The task is to find the maximum number of rows that can be &ldquo;covered&rdquo; or selected, where a row is considered covered if all the selected columns have <code>1</code> in that row.</p>
<p>In simpler terms, you need to select exactly <code>sel</code> columns such that, for the chosen columns, you can maximize the number of rows where all of the selected columns have the value <code>1</code>.</p>
<p>For example:</p>
<ul>
<li>Input:
<ul>
<li><code>mtx = [[1,0,1],[1,1,1],[1,1,0]]</code></li>
<li><code>sel = 2</code></li>
</ul>
</li>
<li>Output: <code>2</code>
<ul>
<li>Explanation: You can select columns 0 and 2, which will cover two rows (<code>[1,0,1]</code> and <code>[1,1,1]</code>), as they both have <code>1</code> in these columns.</li>
</ul>
</li>
</ul>
<h3 id="approach">Approach</h3>
<p>The problem is about selecting columns and checking how many rows can be fully covered by those columns. The key challenge is to optimize the selection of columns to maximize the number of rows that can be fully covered. Here&rsquo;s how we approach solving this problem:</p>
<ol>
<li>
<p><strong>Understanding the Problem:</strong></p>
<ul>
<li>We need to select exactly <code>sel</code> columns from the matrix.</li>
<li>For each selection of columns, we need to count how many rows are covered (i.e., have <code>1</code> in all the selected columns).</li>
<li>The objective is to maximize the number of covered rows.</li>
</ul>
</li>
<li>
<p><strong>Brute Force Strategy:</strong></p>
<ul>
<li>The number of possible column selections is <code>C(n, sel)</code>, where <code>n</code> is the number of columns in the matrix. This could potentially be a large number when <code>n</code> is big.</li>
<li>For each possible selection of columns, we check how many rows are fully covered by these columns. This involves iterating over all the rows and checking if the values in the selected columns are all <code>1</code>.</li>
</ul>
</li>
<li>
<p><strong>Optimized Search Using Bitmasking:</strong></p>
<ul>
<li>Instead of checking each selection of columns one by one, we can use bitmasking to represent each column selection.</li>
<li>A bitmask is a binary number where each bit represents whether a particular column is selected or not.</li>
<li>For example, if <code>n = 3</code> (3 columns), a bitmask <code>101</code> would represent selecting columns 0 and 2.</li>
<li>We can iterate over all possible bitmasks and for each bitmask, check which rows are fully covered by the selected columns.</li>
</ul>
</li>
<li>
<p><strong>Efficient Row Checking:</strong></p>
<ul>
<li>For each bitmask, we need to check each row to see if it is covered by the selected columns. We iterate over each row and ensure that for every selected column (where the bit in the bitmask is 1), the corresponding value in that row is also <code>1</code>.</li>
</ul>
</li>
<li>
<p><strong>Maximization:</strong></p>
<ul>
<li>For each bitmask, we count how many rows are covered and update the result with the maximum number of covered rows.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<p>We start by initializing some key variables:</p>
<ul>
<li><code>m</code> and <code>n</code> represent the number of rows and columns in the matrix, respectively.</li>
<li><code>ans</code> will hold the final result — the maximum number of rows that can be covered by exactly <code>sel</code> selected columns.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> mtx.size(), n <span style="color:#666">=</span> mtx[<span style="color:#666">0</span>].size();
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><h4 id="step-2-iterate-over-all-possible-column-selections-using-bitmasking">Step 2: Iterate Over All Possible Column Selections Using Bitmasking</h4>
<p>We use a bitmask <code>msk</code> to represent each possible selection of columns. The total number of possible column selections is <code>2^n</code>, where <code>n</code> is the number of columns. The bitmask <code>msk</code> will range from <code>0</code> to <code>2^n - 1</code>.</p>
<p>For each bitmask, we check if it contains exactly <code>sel</code> columns (i.e., the number of <code>1</code>s in the bitmask must be equal to <code>sel</code>).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> msk <span style="color:#666">=</span> <span style="color:#666">0</span>; msk <span style="color:#666">&lt;</span> (<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> n); msk<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(__builtin_popcount(msk) <span style="color:#666">!=</span> sel) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span></code></pre></div><p>The function <code>__builtin_popcount(msk)</code> counts the number of <code>1</code>s in the binary representation of <code>msk</code>. If this count is not equal to <code>sel</code>, we skip that bitmask.</p>
<h4 id="step-3-check-row-coverage-for-the-current-column-selection">Step 3: Check Row Coverage for the Current Column Selection</h4>
<p>For each valid column selection (bitmask <code>msk</code>), we check how many rows are covered. We initialize a variable <code>res</code> to count the number of rows that are covered by the selected columns.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>We then iterate over each row in the matrix to check if it is covered by the selected columns. For each row, we check if the columns selected in the bitmask all have a <code>1</code> in that row. If so, we increment the count of covered rows (<code>res</code>).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> take <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(mtx[i][j] <span style="color:#666">&amp;&amp;</span> (((msk <span style="color:#666">&gt;&gt;</span> j) <span style="color:#666">&amp;</span> <span style="color:#666">1</span>) <span style="color:#666">==</span> <span style="color:#666">0</span>)) {
</span></span><span style="display:flex;"><span>            take <span style="color:#666">=</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(take) res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We iterate over each row and each column. If a column is selected (its corresponding bit in <code>msk</code> is <code>1</code>), we check if the value in the row for that column is <code>1</code>. If any selected column has a <code>0</code> in the current row, we set <code>take</code> to <code>false</code> and stop checking that row.</li>
</ul>
<h4 id="step-4-update-the-maximum-covered-rows">Step 4: Update the Maximum Covered Rows</h4>
<p>After checking all the rows for the current bitmask, we update the <code>ans</code> with the maximum value between the current <code>ans</code> and <code>res</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ans <span style="color:#666">=</span> max(ans, res);
</span></span></code></pre></div><h4 id="step-5-return-the-final-result">Step 5: Return the Final Result</h4>
<p>Once we have iterated through all possible column selections and counted the maximum number of rows covered, we return the result.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity</h4>
<ul>
<li>The number of possible column selections is <code>2^n</code> where <code>n</code> is the number of columns in the matrix.</li>
<li>For each bitmask, we check all <code>m</code> rows and <code>n</code> columns.</li>
<li>Thus, the overall time complexity is <strong>O(m * n * 2^n)</strong>.</li>
</ul>
<h4 id="space-complexity">Space Complexity</h4>
<ul>
<li>The space complexity is <strong>O(1)</strong> because we only use a few variables for tracking the result and do not use additional data structures that depend on the size of the input.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the problem using bitmasking to represent all possible column selections and checks how many rows are covered by each selection. By iterating over all possible selections of columns, we maximize the number of rows that are covered. The approach ensures that all possibilities are checked, and the use of bitmasking reduces the complexity of column selection. Although the time complexity is exponential, this method is optimal for the problem at hand and can handle relatively smaller values of <code>n</code>.</p>
<p><a href="https://leetcode.com/problems/maximum-rows-covered-by-columns/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/scBL7uQiPMg?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
