<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 954: Array of Doubled Pairs | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 954: Array of Doubled Pairs">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 954: Array of Doubled Pairs in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-954-array-of-doubled-pairs/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 954: Array of Doubled Pairs">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 954: Array of Doubled Pairs in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 954: Array of Doubled Pairs</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1412s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> canReorderDoubled(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> c;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">i</span> : arr)
</span></span><span style="display:flex;"><span>            c[i]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> keys;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: c)
</span></span><span style="display:flex;"><span>            keys.push_back(it.first);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        sort(keys.begin(), keys.end(), [<span style="color:#666">&amp;</span>](<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b){
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">abs</span>(a) <span style="color:#666">&lt;</span> abs(b);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">x</span>: keys) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(c[x] <span style="color:#666">&gt;</span> c[<span style="color:#666">2</span> <span style="color:#666">*</span> x])
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>            c[<span style="color:#666">2</span> <span style="color:#666">*</span> x] <span style="color:#666">-=</span> c[x];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given an array of integers <code>arr</code>, the task is to determine if it is possible to reorder the elements such that each element <code>x</code> has a corresponding <code>2 * x</code> in the array. More specifically, for every element <code>x</code> in the array, we need to check if there exists a <code>2 * x</code> in the array, and if so, we need to &ldquo;pair&rdquo; them. The goal is to return <code>true</code> if the array can be rearranged in such a way, and <code>false</code> otherwise. This problem is commonly encountered when dealing with pairing elements with double relationships in a dataset.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can follow a greedy approach. We need to ensure that for each element <code>x</code> in the array, there is a corresponding <code>2 * x</code> that can be paired with it. The approach involves:</p>
<ol>
<li>
<p><strong>Counting Elements</strong>: We first count the occurrences of each element in the array using a hash map (unordered map).</p>
</li>
<li>
<p><strong>Sorting by Absolute Value</strong>: Since the problem involves pairs of numbers where one is double the other, we need to consider numbers based on their absolute values. Sorting the keys (unique values of the array) based on their absolute values allows us to process smaller values first. This helps to handle potential conflicts when larger elements depend on smaller elements to form pairs.</p>
</li>
<li>
<p><strong>Greedy Pairing</strong>: We attempt to pair each element <code>x</code> with its double <code>2 * x</code>. If there are more occurrences of <code>x</code> than <code>2 * x</code>, then it is impossible to form valid pairs, so we return <code>false</code>. We decrement the count of <code>2 * x</code> as we successfully pair it with <code>x</code>.</p>
</li>
<li>
<p><strong>Final Check</strong>: After attempting to pair all elements, if any unpaired elements are left, we return <code>false</code>. If all elements can be paired successfully, we return <code>true</code>.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Counting Element Occurrences</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> c;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">i</span> : arr)
</span></span><span style="display:flex;"><span>    c[i]<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>We use an unordered map <code>c</code> to store the count of each element in the array <code>arr</code>. The key is the element, and the value is its frequency in the array.</li>
</ul>
</li>
<li>
<p><strong>Storing Unique Keys</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> keys;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: c)
</span></span><span style="display:flex;"><span>    keys.push_back(it.first);
</span></span></code></pre></div><ul>
<li>We extract all the unique keys (elements) from the map into the vector <code>keys</code>.</li>
</ul>
</li>
<li>
<p><strong>Sorting the Keys by Absolute Value</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(keys.begin(), keys.end(), [<span style="color:#666">&amp;</span>](<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b){
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">abs</span>(a) <span style="color:#666">&lt;</span> abs(b);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><ul>
<li>We sort the keys by their absolute values in ascending order. This ensures that we handle smaller values first, which is important because we need to find and pair each element <code>x</code> with <code>2 * x</code>.</li>
</ul>
</li>
<li>
<p><strong>Greedy Pairing Process</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">x</span>: keys) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(c[x] <span style="color:#666">&gt;</span> c[<span style="color:#666">2</span> <span style="color:#666">*</span> x])
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    c[<span style="color:#666">2</span> <span style="color:#666">*</span> x] <span style="color:#666">-=</span> c[x];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>For each element <code>x</code> in the sorted list, we check if there are more occurrences of <code>x</code> than its double <code>2 * x</code>. If so, it’s impossible to form pairs, and we return <code>false</code>.</li>
<li>If we can form valid pairs, we decrement the count of <code>2 * x</code> by the number of occurrences of <code>x</code> because those occurrences of <code>x</code> are now paired with <code>2 * x</code>.</li>
</ul>
</li>
<li>
<p><strong>Final Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span></code></pre></div><ul>
<li>If the entire process completes without encountering any issues, we return <code>true</code>, indicating that the array can be rearranged to satisfy the condition.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>Counting the occurrences of each element takes O(n), where <code>n</code> is the size of the array <code>arr</code>.</li>
<li>Sorting the unique keys based on their absolute values takes O(k log k), where <code>k</code> is the number of unique elements in <code>arr</code>.</li>
<li>The final loop where we pair elements takes O(k), as we process each unique element once.</li>
<li>Overall, the time complexity is dominated by the sorting step, so it is O(k log k). Since <code>k</code> is at most <code>n</code>, the total time complexity is O(n log n).</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is O(n), as we store the counts of each element in the unordered map, and the list of unique keys requires space proportional to the number of distinct elements in the array.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the problem by using a greedy approach with a hash map to count element occurrences and a sorting step to ensure that smaller elements are processed first. By sorting the array based on absolute values and processing each element in increasing order, we ensure that the pairing is done optimally. The overall time complexity of O(n log n) is efficient enough for large inputs, and the space complexity of O(n) is also manageable. The solution is both intuitive and effective for solving the problem of pairing elements with their doubles in an array.</p>
<p><a href="https://leetcode.com/problems/array-of-doubled-pairs/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Q0WKzdpR74o?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
