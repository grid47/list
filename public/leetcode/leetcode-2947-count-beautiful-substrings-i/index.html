<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2947: Count Beautiful Substrings I | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2947: Count Beautiful Substrings I">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2947: Count Beautiful Substrings I in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2947-count-beautiful-substrings-i/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2947: Count Beautiful Substrings I">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2947: Count Beautiful Substrings I in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-17T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Enumeration">
    <meta property="article:tag" content="Number Theory">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2947: Count Beautiful Substrings I</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1027s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    unordered_set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> st{<span style="color:#b44">&#39;a&#39;</span>, <span style="color:#b44">&#39;e&#39;</span>, <span style="color:#b44">&#39;i&#39;</span>, <span style="color:#b44">&#39;o&#39;</span>, <span style="color:#b44">&#39;u&#39;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">isVowel</span>(<span style="color:#0b0;font-weight:bold">char</span> c) { <span style="color:#a2f;font-weight:bold">return</span> st.find(c) <span style="color:#666">!=</span> st.end(); }
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">beautifulSubstrings</span>(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); <span style="color:#666">++</span>i){
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> vow <span style="color:#666">=</span> <span style="color:#666">0</span>, con <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i; j <span style="color:#666">&lt;</span> s.size(); <span style="color:#666">++</span>j) {
</span></span><span style="display:flex;"><span>                (isVowel(s[j]))<span style="color:#666">?</span> vow<span style="color:#666">++:</span> con<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(vow <span style="color:#666">==</span> con <span style="color:#666">&amp;&amp;</span> (vow<span style="color:#666">*</span>con)<span style="color:#666">%</span>k <span style="color:#666">==</span> <span style="color:#666">0</span>) ans<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The task is to find all &ldquo;beautiful&rdquo; substrings within a given string <code>s</code> of lowercase English letters, where a substring is considered beautiful if it contains an equal number of vowels and consonants and the product of the number of vowels and consonants is divisible by a given integer <code>k</code>. We need to count how many such substrings exist in the string <code>s</code>.</p>
<h3 id="approach">Approach:</h3>
<p>To solve this problem, we need to explore each substring of the string <code>s</code> and check if it satisfies the given conditions:</p>
<ol>
<li>The number of vowels equals the number of consonants.</li>
<li>The product of the number of vowels and consonants is divisible by <code>k</code>.</li>
</ol>
<p>The approach consists of iterating through all possible substrings, counting vowels and consonants, and checking the two conditions mentioned above.</p>
<h4 id="key-observations">Key Observations:</h4>
<ul>
<li><strong>Vowels and Consonants Counting</strong>: We can quickly check whether a character is a vowel using a set of vowels (<code>'a', 'e', 'i', 'o', 'u'</code>), and anything that is not a vowel will be treated as a consonant.</li>
<li><strong>Efficient Checking</strong>: Instead of checking every possible substring in a brute-force manner, we can keep a running tally of the number of vowels and consonants as we iterate through the string.</li>
</ul>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="1-initialization-of-vowels-set">1. <strong>Initialization of Vowels Set</strong>:</h4>
<p>The <code>unordered_set</code> <code>st</code> is initialized with the vowels <code>'a', 'e', 'i', 'o', 'u'</code>. This set will help quickly check if a character is a vowel or not by using the <code>find</code> method.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> st{<span style="color:#b44">&#39;a&#39;</span>, <span style="color:#b44">&#39;e&#39;</span>, <span style="color:#b44">&#39;i&#39;</span>, <span style="color:#b44">&#39;o&#39;</span>, <span style="color:#b44">&#39;u&#39;</span>};
</span></span></code></pre></div><p>We also define the helper function <code>isVowel</code>, which checks if a character is in the set <code>st</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">isVowel</span>(<span style="color:#0b0;font-weight:bold">char</span> c) { <span style="color:#a2f;font-weight:bold">return</span> st.find(c) <span style="color:#666">!=</span> st.end(); }
</span></span></code></pre></div><p>This function returns <code>true</code> if <code>c</code> is a vowel and <code>false</code> otherwise.</p>
<h4 id="2-outer-loop-for-starting-index-of-substrings">2. <strong>Outer Loop for Starting Index of Substrings</strong>:</h4>
<p>We start by iterating over all possible starting points of the substrings, from index <code>0</code> to <code>s.size() - 1</code>. For each starting index <code>i</code>, we will count the number of vowels and consonants as we expand the substring.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); <span style="color:#666">++</span>i){
</span></span></code></pre></div><h4 id="3-inner-loop-for-expanding-the-substring">3. <strong>Inner Loop for Expanding the Substring</strong>:</h4>
<p>For each starting index <code>i</code>, we use a second loop to explore substrings that start at <code>i</code> and end at index <code>j</code> (where <code>j</code> ranges from <code>i</code> to <code>s.size() - 1</code>). For each such substring, we will update the counts of vowels and consonants.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> vow <span style="color:#666">=</span> <span style="color:#666">0</span>, con <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i; j <span style="color:#666">&lt;</span> s.size(); <span style="color:#666">++</span>j) {
</span></span><span style="display:flex;"><span>    (isVowel(s[j])) <span style="color:#666">?</span> vow<span style="color:#666">++</span> <span style="color:#666">:</span> con<span style="color:#666">++</span>;
</span></span></code></pre></div><p>Here, <code>vow</code> and <code>con</code> track the number of vowels and consonants, respectively. If the character <code>s[j]</code> is a vowel (determined by <code>isVowel</code>), we increment the vowel counter <code>vow</code>, otherwise, we increment the consonant counter <code>con</code>.</p>
<h4 id="4-check-the-conditions">4. <strong>Check the Conditions</strong>:</h4>
<p>After updating the counts of vowels and consonants for the current substring, we check the two conditions:</p>
<ol>
<li>The number of vowels equals the number of consonants.</li>
<li>The product of the number of vowels and consonants is divisible by <code>k</code>.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(vow <span style="color:#666">==</span> con <span style="color:#666">&amp;&amp;</span> (vow <span style="color:#666">*</span> con) <span style="color:#666">%</span> k <span style="color:#666">==</span> <span style="color:#666">0</span>) ans<span style="color:#666">++</span>;
</span></span></code></pre></div><p>If both conditions are satisfied, we increment the result counter <code>ans</code>.</p>
<h4 id="5-return-the-result">5. <strong>Return the Result</strong>:</h4>
<p>Once both loops have iterated through all possible substrings, we return the total count of &ldquo;beautiful&rdquo; substrings.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><h3 id="complexity">Complexity:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The solution involves two nested loops. The outer loop iterates over all possible starting points of the substrings, and the inner loop iterates over all possible ending points of the substrings for each starting point.</li>
<li>The total number of substrings in the string <code>s</code> is roughly <code>n * (n + 1) / 2</code>, where <code>n</code> is the length of the string.</li>
<li>For each substring, checking if the number of vowels equals the number of consonants and if their product is divisible by <code>k</code> is constant time, <code>O(1)</code>.</li>
<li>Therefore, the overall time complexity is <code>O(n^2)</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is dominated by the space required for the unordered set <code>st</code> that holds the vowels, which is <code>O(1)</code> since it always contains a fixed number of vowels (five).</li>
<li>There are no other significant space requirements, so the space complexity is <code>O(1)</code>.</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>This approach efficiently counts the number of &ldquo;beautiful&rdquo; substrings in the given string by iterating over all possible substrings and checking if they meet the two conditions: the number of vowels equals the number of consonants, and their product is divisible by <code>k</code>.</p>
<h4 id="key-insights">Key Insights:</h4>
<ul>
<li><strong>Vowel and Consonant Counting</strong>: The problem leverages the ability to efficiently count vowels and consonants using a helper function and an unordered set.</li>
<li><strong>Efficient Checking</strong>: By iterating over all possible substrings and checking the conditions in constant time, the solution avoids the need for more complex optimizations.</li>
<li><strong>Time Complexity</strong>: The time complexity of <code>O(n^2)</code> is manageable for strings of moderate length but could become inefficient for very large strings. However, the solution works well within typical problem constraints.</li>
</ul>
<p>This solution provides a simple and effective way to solve the problem while maintaining clarity and correctness.</p>
<p><a href="https://leetcode.com/problems/count-beautiful-substrings-i/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/AnuZGQmVPQM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
