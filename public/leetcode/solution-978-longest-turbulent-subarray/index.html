<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 978: Longest Turbulent Subarray | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 978: Longest Turbulent Subarray">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 978: Longest Turbulent Subarray in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/solution-978-longest-turbulent-subarray/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 978: Longest Turbulent Subarray">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 978: Longest Turbulent Subarray in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.a3d5489836b19de22a81ddc6bd21c17547d07529e67b266427378a04fa3ea727.css" integrity="sha256-o9VImDaxneIqgd3GvSHBdUfQdSnmeyZkJzeKBPo&#43;pyc=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="mainheading">
    <h1 class="sitetitle">grid47</h1>
    <p class="lead">
         Mohammed Yasir Eramangadan&#39;s Blog
    </p>
</div><div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%20978%3a%20Longest%20Turbulent%20Subarray&url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-978-longest-turbulent-subarray%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
        <i class="fab fa-twitter"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-978-longest-turbulent-subarray%2f" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
        <i class="fab fa-facebook-f"></i>
        </a>
        </li>

        <li class="ml-1 mr-1">
        <a target="_blank" href="https://www.xing.com/spi/shares/new?url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-978-longest-turbulent-subarray%2f" onclick="window.open(this.href, 'xing-share', 'width=550,height=435');return false;">
        <i class="fab fa-xing"></i>
        </a>
        </li>        
    </ul>

    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        	
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Aug 1, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                
                        
                        <h1 class="posttitle">Leetcode 978: Longest Turbulent Subarray</h1> 
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1427s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxTurbulenceSize(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> dp(<span style="color:#666">2</span>, <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">1</span>, n <span style="color:#666">=</span> arr.size(), prv <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> ((prv <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> prv <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#666">&amp;&amp;</span> arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&lt;</span> arr[i] ) {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> dp[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> max(res, dp[<span style="color:#666">0</span>]);
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> ((prv <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> prv <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#666">&amp;&amp;</span> arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&gt;</span> arr[i] ) {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> dp[<span style="color:#666">0</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> max(res, dp[<span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">==</span> arr[i] ) {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> (arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&lt;</span> arr[i]) <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find the length of the longest <strong>turbulent subarray</strong> in a given array <code>arr</code>. A <strong>turbulent array</strong> is an array where the elements alternate between increasing and decreasing. Specifically, an array is turbulent if:</p>
<ul>
<li>For all <code>i</code>, <code>arr[i] &gt; arr[i + 1]</code> (when the previous element is greater than the current element) or</li>
<li><code>arr[i] &lt; arr[i + 1]</code> (when the previous element is smaller than the current element).</li>
</ul>
<p>The task is to find the maximum length of a contiguous subarray where the sequence alternates between increasing and decreasing.</p>
<p>For example:</p>
<ul>
<li><strong>Input</strong>: <code>arr = [9, 1, 7, 3, 5, 2]</code></li>
<li><strong>Output</strong>: <code>4</code> (The longest turbulent subarray is <code>[1, 7, 3, 5]</code>).</li>
</ul>
<h3 id="approach">Approach</h3>
<p>We need to identify the longest contiguous subarray where the sequence alternates between increasing and decreasing numbers. The solution leverages <strong>dynamic programming</strong> combined with a state-tracking mechanism for the <strong>alternating</strong> nature of the sequence.</p>
<h4 id="key-insights">Key Insights:</h4>
<ol>
<li>
<p><strong>Alternating Sequence</strong>: For the subarray to be turbulent, each element in the subarray must alternate between being greater or smaller than the next element. Specifically, at each step, there should be either an <strong>increase</strong> (next element is larger) or a <strong>decrease</strong> (next element is smaller).</p>
</li>
<li>
<p><strong>Dynamic Programming Approach</strong>: We can maintain two state variables:</p>
<ul>
<li><code>dp[0]</code>: the length of the longest turbulent subarray ending at the current index where the sequence is <strong>increasing</strong>.</li>
<li><code>dp[1]</code>: the length of the longest turbulent subarray ending at the current index where the sequence is <strong>decreasing</strong>.</li>
</ul>
<p>These states help track the lengths of subarrays while alternating between increasing and decreasing patterns.</p>
</li>
<li>
<p><strong>State Transitions</strong>:</p>
<ul>
<li>If the current element is <strong>greater</strong> than the previous one, then we extend the <strong>decreasing</strong> subsequence to form an increasing sequence at the current position.</li>
<li>If the current element is <strong>less</strong> than the previous one, then we extend the <strong>increasing</strong> subsequence to form a decreasing sequence at the current position.</li>
<li>If the current element is <strong>equal</strong> to the previous one, both the increasing and decreasing subsequences are reset.</li>
<li>The length of the <strong>turbulent subarray</strong> ending at the current position will be updated by the maximum of the two states (<code>dp[0]</code> and <code>dp[1]</code>).</li>
</ul>
</li>
<li>
<p><strong>Result Calculation</strong>: We iterate through the array, updating the state values based on the comparisons between adjacent elements, and keep track of the maximum turbulent subarray length.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxTurbulenceSize(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> dp(<span style="color:#666">2</span>, <span style="color:#666">1</span>);  <span style="color:#080;font-style:italic">// Initialize dp array with both increasing and decreasing subarrays of length 1.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">1</span>, n <span style="color:#666">=</span> arr.size(), prv <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// res stores the maximum length of the turbulent subarray found so far.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Iterate over the array starting from the second element.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// If the sequence is increasing:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">if</span> ((prv <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> prv <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#666">&amp;&amp;</span> arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&lt;</span> arr[i]) {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> dp[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Extend the increasing subsequence.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                res <span style="color:#666">=</span> max(res, dp[<span style="color:#666">0</span>]);  <span style="color:#080;font-style:italic">// Update the maximum length of the turbulent subarray.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                prv <span style="color:#666">=</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Set the state to &#39;increasing&#39;.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// If the sequence is decreasing:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> ((prv <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> prv <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#666">&amp;&amp;</span> arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&gt;</span> arr[i]) {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> dp[<span style="color:#666">0</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Extend the decreasing subsequence.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                res <span style="color:#666">=</span> max(res, dp[<span style="color:#666">1</span>]);  <span style="color:#080;font-style:italic">// Update the maximum length of the turbulent subarray.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                prv <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Set the state to &#39;decreasing&#39;.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// If the current element equals the previous element:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">==</span> arr[i]) {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Reset both subsequences to length 1.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Set the state to &#39;neutral&#39;.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// If neither increasing nor decreasing (handles equal elements or boundaries):
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">2</span>;  <span style="color:#080;font-style:italic">// Start both subsequences from length 2 (since we&#39;re dealing with two elements now).
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> (arr[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&lt;</span> arr[i]) <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> <span style="color:#666">-</span><span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Determine whether the sequence is increasing or decreasing.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;  <span style="color:#080;font-style:italic">// Return the maximum length of the turbulent subarray found.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ol>
<li>
<p><strong>Initializations</strong>:</p>
<ul>
<li><code>dp</code>: A vector of size 2 initialized to <code>[1, 1]</code> which keeps track of the lengths of the longest increasing and decreasing subsequences.</li>
<li><code>res</code>: A variable to store the result (the maximum length of a turbulent subarray). Initially set to 1, as the minimum length of any turbulent subarray is 1.</li>
<li><code>prv</code>: A variable to track the state of the previous comparison (whether it was increasing, decreasing, or neutral).</li>
</ul>
</li>
<li>
<p><strong>Iterating through the array</strong>:</p>
<ul>
<li>The loop starts from index 1 and compares each element with the previous one. Depending on whether the current element is greater than, less than, or equal to the previous element, the dynamic programming states <code>dp[0]</code> (for increasing) and <code>dp[1]</code> (for decreasing) are updated accordingly.</li>
<li>The variable <code>prv</code> keeps track of the current state (whether the sequence is increasing, decreasing, or neutral).</li>
<li>For each valid transition (increasing or decreasing), the maximum length is updated.</li>
</ul>
</li>
<li>
<p><strong>Edge Case Handling</strong>:</p>
<ul>
<li>If two adjacent elements are equal, the sequence is reset to length 1 for both increasing and decreasing subsequences.</li>
<li>If the array has only one element, it automatically returns a result of 1, as a single element is trivially a turbulent subarray.</li>
</ul>
</li>
</ol>
<h3 id="time-and-space-complexity">Time and Space Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity of the solution is <strong>O(n)</strong>, where <code>n</code> is the size of the input array <code>arr</code>. The array is traversed once, and each operation within the loop takes constant time.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is <strong>O(1)</strong>, as we only use a constant amount of extra space to store the dynamic programming states (<code>dp</code>) and the result (<code>res</code>).</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The algorithm effectively solves the problem of finding the length of the longest turbulent subarray in an optimal way. By using dynamic programming and a state-tracking mechanism for alternating increases and decreases, the solution achieves an <strong>O(n)</strong> time complexity and <strong>O(1)</strong> space complexity. This approach ensures efficiency even for larger input sizes, and it efficiently handles cases where adjacent elements are equal. The solution is both time and space optimal, making it suitable for large input arrays.</p>
<p><a href="https://leetcode.com/problems/longest-turbulent-subarray/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/V_iHUhR8Dek?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/array">Array</a>
                        </li>
                        
                        <li>
                        <a href="/tags/dynamic-programming">Dynamic Programming</a>
                        </li>
                        
                        <li>
                        <a href="/tags/sliding-window">Sliding Window</a>
                        </li>
                        
                        </ul>
                    </div>
                    
                    
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="http://localhost:1313/leetcode/solution-977-squares-of-a-sorted-array/"> &laquo; Leetcode 977: Squares of a Sorted Array</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="http://localhost:1313/leetcode/solution-979-distribute-coins-in-binary-tree/">Leetcode 979: Distribute Coins in Binary Tree &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>
        
        
    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">â†’</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/database">database</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" rel="noopener" href="https://www.wowthemes.net">Mediumish Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
