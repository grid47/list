<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 100: Same Tree | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 100: Same Tree">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 100: Same Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-100-same-tree/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 100: Same Tree">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 100: Same Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-10-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Breadth-First Search">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 100: Same Tree</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode11s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/100.webp" 
           alt="Two trees glowing in harmony, showing perfect symmetry and balance." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 100: Same Tree Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode11s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> isSameTree(TreeNode<span style="color:#666">*</span> p, TreeNode<span style="color:#666">*</span> q) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(p <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> q <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(p <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">||</span> q <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> p<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> q<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        ans <span style="color:#666">&amp;=</span> isSameTree(p<span style="color:#666">-&gt;</span>left, q<span style="color:#666">-&gt;</span>left);
</span></span><span style="display:flex;"><span>        ans <span style="color:#666">&amp;=</span> isSameTree(p<span style="color:#666">-&gt;</span>right, q<span style="color:#666">-&gt;</span>right);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-check-if-two-binary-trees-are-identical">ðŸŒ³ <strong>Check if Two Binary Trees are Identical</strong></h3>
<p>The problem asks us to determine if two <strong>binary trees</strong> are <strong>identical</strong>. Two binary trees are considered identical if:</p>
<ul>
<li>Both trees have the same number of nodes.</li>
<li>The values of corresponding nodes are the same.</li>
<li>The structure (i.e., the left and right children of every node) is identical.</li>
</ul>
<hr>
<h3 id="-approach">ðŸ”‘ <strong>Approach:</strong></h3>
<p>To solve this problem, we can use a <strong>recursive</strong> approach to compare the two binary trees. The algorithm follows a <strong>divide-and-conquer</strong> strategy where we:</p>
<ol>
<li>Compare the root nodes of the two trees.</li>
<li>If they are identical, recursively check the left and right subtrees of both trees.</li>
<li>If the values or structure of any of the nodes donâ€™t match, return <code>false</code>.</li>
</ol>
<p>The recursive comparison ensures that all corresponding nodes in both trees are compared, and if any difference is found, the function will return <code>false</code> early. If all nodes match, return <code>true</code>.</p>
<hr>
<h3 id="-code-breakdown-step-by-step">ðŸ’» <strong>Code Breakdown (Step by Step):</strong></h3>
<h4 id="1-function-definition"><strong>1. Function Definition</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> isSameTree(TreeNode<span style="color:#666">*</span> p, TreeNode<span style="color:#666">*</span> q) {
</span></span></code></pre></div><ul>
<li>The function <code>isSameTree</code> is part of the <code>Solution</code> class. It takes two arguments: <code>p</code> and <code>q</code>, which are pointers to the root nodes of the two binary trees that need to be compared.</li>
</ul>
<h4 id="2-base-case-for-both-trees-being-null"><strong>2. Base Case for Both Trees Being Null</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(p <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> q <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span></code></pre></div><ul>
<li>This is the <strong>base case</strong> where both trees are <code>NULL</code>. If both <code>p</code> and <code>q</code> are <code>NULL</code>, it means that both trees are empty, and therefore, they are considered the same. Thus, we return <code>true</code>.</li>
</ul>
<h4 id="3-handling-one-tree-being-null"><strong>3. Handling One Tree Being Null</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(p <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">||</span> q <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span></code></pre></div><ul>
<li>If one of the trees is <code>NULL</code> while the other is not, the trees cannot be the same because one tree has nodes while the other doesnâ€™t. Therefore, we return <code>false</code>.</li>
</ul>
<h4 id="4-comparing-values-of-current-nodes"><strong>4. Comparing Values of Current Nodes</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> p<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> q<span style="color:#666">-&gt;</span>val;
</span></span></code></pre></div><ul>
<li>If both trees are non-empty at this point, we compare the values of the current nodes in both trees, <code>p-&gt;val</code> and <code>q-&gt;val</code>.</li>
<li>The result of this comparison (<code>true</code> or <code>false</code>) is stored in the variable <code>ans</code>, where <code>true</code> is represented as <code>1</code> and <code>false</code> as <code>0</code>.</li>
</ul>
<h4 id="5-recursive-comparison-of-left-and-right-subtrees"><strong>5. Recursive Comparison of Left and Right Subtrees</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        ans <span style="color:#666">&amp;=</span> isSameTree(p<span style="color:#666">-&gt;</span>left, q<span style="color:#666">-&gt;</span>left);
</span></span><span style="display:flex;"><span>        ans <span style="color:#666">&amp;=</span> isSameTree(p<span style="color:#666">-&gt;</span>right, q<span style="color:#666">-&gt;</span>right);
</span></span></code></pre></div><ul>
<li>After comparing the values of the current nodes, we proceed to recursively compare the left and right subtrees of both trees.</li>
<li>If the left subtrees of <code>p</code> and <code>q</code> are identical, <code>isSameTree(p-&gt;left, q-&gt;left)</code> will return <code>true</code> (or <code>1</code>), and the same logic applies for the right subtrees.</li>
<li>The <code>&amp;=</code> operator ensures that if any of the comparisons return <code>false</code> (or <code>0</code>), the overall result will be <code>false</code>. This allows us to short-circuit and return <code>false</code> if any mismatch is found at any level of recursion.</li>
</ul>
<h4 id="6-return-the-final-result"><strong>6. Return the Final Result</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>The final result, stored in the variable <code>ans</code>, is returned. This result will be <code>true</code> if both trees are identical, and <code>false</code> otherwise.</li>
</ul>
<hr>
<h3 id="-time-and-space-complexity">ðŸ§  <strong>Time and Space Complexity:</strong></h3>
<h4 id="time-complexity"><strong>Time Complexity:</strong></h4>
<p>The time complexity of this solution is <strong>O(n)</strong>, where <code>n</code> is the number of nodes in the larger of the two trees. In the worst case, the algorithm needs to visit every node in both trees to perform the comparison. Therefore, the time complexity is proportional to the total number of nodes in the trees.</p>
<h4 id="space-complexity"><strong>Space Complexity:</strong></h4>
<p>The space complexity is <strong>O(h)</strong>, where <code>h</code> is the height of the trees. This is due to the recursive calls made during the in-order traversal of the trees. In the worst case (i.e., the tree is unbalanced), the recursion stack can grow to the height of the tree, which could be equal to the number of nodes, resulting in a space complexity of <strong>O(n)</strong>. However, for balanced trees, the height <code>h</code> would be <strong>O(log n)</strong>, leading to a space complexity of <strong>O(log n)</strong>.</p>
<hr>
<h3 id="-conclusion">ðŸŽ¯ <strong>Conclusion:</strong></h3>
<p>This solution efficiently compares two binary trees by performing a <strong>recursive in-order traversal</strong> to compare their structure and node values. The <strong>recursive comparison</strong> ensures that all corresponding nodes are checked for equality, and the algorithm terminates early if a mismatch is detected. With a time complexity of <strong>O(n)</strong> and a space complexity of <strong>O(h)</strong>, this approach is optimal for solving the problem of determining whether two binary trees are identical.</p>
<hr>
<p><strong>Happy coding!</strong> ðŸŒ±âœ¨</p>
<p><a href="https://leetcode.com/problems/same-tree/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/jK6XXYezw2g?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
