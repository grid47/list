<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 477: Total Hamming Distance | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 477: Total Hamming Distance">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 477: Total Hamming Distance in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-477-total-hamming-distance/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 477: Total Hamming Distance">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 477: Total Hamming Distance in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Bit Manipulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 477: Total Hamming Distance</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1158s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/477.webp" 
           alt="A sequence of binary strings where the total Hamming distance is calculated, with each distance step gently highlighted" 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 477: Total Hamming Distance Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1158s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> totalHammingDistance(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> total <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">32</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> bitCnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> nums.size(); j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>                bitCnt <span style="color:#666">+=</span> (nums[j] <span style="color:#666">&gt;&gt;</span> i) <span style="color:#666">&amp;</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            total <span style="color:#666">+=</span> bitCnt <span style="color:#666">*</span> (n <span style="color:#666">-</span> bitCnt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> total;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to calculate the <strong>total Hamming distance</strong> between all pairs of integers in a given list of integers. The Hamming distance between two numbers is the number of positions at which the corresponding bits are different. For a list of integers, we need to find the sum of Hamming distances between all possible pairs of numbers.</p>
<p>For example, given the input array <code>nums = [4, 14, 2]</code>, the goal is to compute the total Hamming distance for all pairs of integers from the list. The output would be the sum of individual Hamming distances between each pair of integers.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can break down the task as follows:</p>
<ol>
<li>
<p><strong>Understanding the Hamming Distance</strong>:</p>
<ul>
<li>The Hamming distance between two numbers is the count of bit positions where the two numbers differ. For example:
<ul>
<li>The binary representation of <code>4</code> is <code>100</code>.</li>
<li>The binary representation of <code>14</code> is <code>1110</code>.</li>
<li>The Hamming distance between <code>4</code> and <code>14</code> is 3 because their binary forms differ at 3 positions.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Efficiently Calculating Hamming Distance for All Pairs</strong>:</p>
<ul>
<li>Instead of calculating the Hamming distance between every possible pair of numbers in the list (which could be computationally expensive), we can optimize the process by considering each bit position (0 through 31 for a 32-bit integer).</li>
<li>For each bit position <code>i</code>, count how many numbers have a <code>1</code> at that bit position, and how many have a <code>0</code>. The total number of differing pairs for that bit position will be the product of the count of <code>1</code>s and the count of <code>0</code>s.</li>
<li>This is because each <code>1</code> in a particular bit position will form a differing pair with each <code>0</code> in the same bit position.</li>
</ul>
</li>
<li>
<p><strong>Summing Up the Hamming Distances</strong>:</p>
<ul>
<li>For each of the 32 bit positions (assuming 32-bit integers), we count how many numbers have <code>1</code> in that position and how many have <code>0</code>. The number of differing pairs for that position is given by multiplying these counts. The total Hamming distance is the sum of such products over all bit positions.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> total <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> nums.size();
</span></span></code></pre></div><ul>
<li><code>total</code>: This will store the cumulative total Hamming distance.</li>
<li><code>n</code>: This stores the number of integers in the <code>nums</code> array.</li>
</ul>
<h4 id="step-2-iterate-over-each-bit-position">Step 2: Iterate Over Each Bit Position</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">32</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> bitCnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> nums.size(); j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        bitCnt <span style="color:#666">+=</span> (nums[j] <span style="color:#666">&gt;&gt;</span> i) <span style="color:#666">&amp;</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>We loop over each bit position <code>i</code> from 0 to 31 (since we are assuming a 32-bit integer).</li>
<li><code>bitCnt</code>: This variable counts how many numbers in the list have a <code>1</code> in the <code>i</code>th bit position.</li>
<li>The expression <code>(nums[j] &gt;&gt; i) &amp; 1</code> shifts the <code>j</code>th number right by <code>i</code> bits and checks if the least significant bit is 1 (i.e., checks if the <code>i</code>th bit is 1). If it is, we increment <code>bitCnt</code>.</li>
</ul>
<h4 id="step-3-calculate-contribution-of-the-current-bit-position">Step 3: Calculate Contribution of the Current Bit Position</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>total <span style="color:#666">+=</span> bitCnt <span style="color:#666">*</span> (n <span style="color:#666">-</span> bitCnt);
</span></span></code></pre></div><ul>
<li>For each bit position <code>i</code>, the number of differing pairs is the product of the count of <code>1</code>s (<code>bitCnt</code>) and the count of <code>0</code>s (<code>n - bitCnt</code>). This is because each <code>1</code> in that bit position forms a differing pair with each <code>0</code> at that position.</li>
<li>We add this contribution to the <code>total</code>.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> total;
</span></span></code></pre></div><ul>
<li>After processing all 32 bit positions, the <code>total</code> will contain the sum of Hamming distances for all pairs of integers in the list.</li>
<li>We return the <code>total</code> as the result.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Outer Loop</strong>: The outer loop runs for each of the 32 bit positions, so it iterates 32 times.</li>
<li><strong>Inner Loop</strong>: The inner loop iterates over all <code>n</code> numbers in the <code>nums</code> array to count the number of <code>1</code>s in each bit position.</li>
<li><strong>Overall Time Complexity</strong>: The total time complexity is <code>O(32 * n)</code>, which simplifies to <code>O(n)</code>, since the constant factor 32 is ignored in Big O notation.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <code>O(1)</code> because the algorithm uses only a constant amount of extra space for variables like <code>total</code>, <code>bitCnt</code>, and <code>n</code>. No additional data structures are used that depend on the input size.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently calculates the total Hamming distance between all pairs of integers in the list by leveraging bitwise operations and the observation that the total number of differing pairs for each bit position is the product of the count of <code>1</code>s and the count of <code>0</code>s at that position. The approach significantly reduces the time complexity compared to a naive solution, making it feasible for larger input sizes. The time complexity of <code>O(n)</code> and space complexity of <code>O(1)</code> ensure that the solution is both time-efficient and space-efficient, which is ideal for handling large datasets.</p>
<p><a href="https://leetcode.com/problems/total-hamming-distance/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
