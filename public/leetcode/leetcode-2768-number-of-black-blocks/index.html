<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2768: Number of Black Blocks | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2768: Number of Black Blocks">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2768: Number of Black Blocks in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2768-number-of-black-blocks/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2768: Number of Black Blocks">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2768: Number of Black Blocks in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Enumeration">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2768: Number of Black Blocks</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode936s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> countBlackBlocks(<span style="color:#0b0;font-weight:bold">int</span> m, <span style="color:#0b0;font-weight:bold">int</span> n, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> coordinates) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> res <span style="color:#666">=</span> {(n <span style="color:#666">-</span> <span style="color:#666">1L</span>) <span style="color:#666">*</span> (m <span style="color:#666">-</span> <span style="color:#666">1</span>), <span style="color:#666">0</span>, <span style="color:#666">0</span>, <span style="color:#666">0</span>, <span style="color:#666">0</span>};
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">c</span>: coordinates)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> c[<span style="color:#666">0</span>]; i <span style="color:#666">&lt;</span> c[<span style="color:#666">0</span>] <span style="color:#666">+</span> <span style="color:#666">2</span>; <span style="color:#666">++</span>i)
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> c[<span style="color:#666">1</span>]; j <span style="color:#666">&lt;</span> c[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">2</span>; <span style="color:#666">++</span>j)
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">0</span> <span style="color:#666">&lt;</span> i <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">&lt;</span> m <span style="color:#666">&amp;&amp;</span> <span style="color:#666">0</span> <span style="color:#666">&lt;</span> j <span style="color:#666">&amp;&amp;</span> j <span style="color:#666">&lt;</span> n) {
</span></span><span style="display:flex;"><span>                        res[cnt[i <span style="color:#666">*</span> <span style="color:#666">100000L</span> <span style="color:#666">+</span> j]]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                        cnt[i <span style="color:#666">*</span> <span style="color:#666">100000L</span> <span style="color:#666">+</span> j]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                        res[cnt[i <span style="color:#666">*</span> <span style="color:#666">100000L</span> <span style="color:#666">+</span> j]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires you to count the number of black blocks in a grid after performing a set of operations. You are given a grid of size <code>m x n</code>, and a list of coordinates. Each coordinate represents the top-left corner of a 2x2 block, and we need to track how many 2x2 blocks are formed and count how many blocks are colored in specific ways (i.e., 0, 1, 2, 3, or 4 blocks are black).</p>
<p>The task is to find the number of blocks that have 0, 1, 2, 3, and 4 black cells, respectively, after processing the given coordinates.</p>
<h3 id="approach">Approach</h3>
<p>The core idea of this approach is to iterate over the given set of coordinates and update the count of black cells in each of the possible 2x2 blocks formed by the coordinates. A 2x2 block can have between 0 and 4 black cells, and we need to track how many such blocks exist in the grid.</p>
<p>We will utilize a map (<code>unordered_map</code>) to keep track of the number of black cells in each 2x2 block. The key will be a unique value representing the position of each 2x2 block in the grid (computed using the formula <code>i * 100000L + j</code>, where <code>i</code> and <code>j</code> are the row and column of the block). The map will store the count of black cells in the block, and the results will be updated accordingly.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s walk through the code to understand how the solution works.</p>
<ol>
<li>
<p><strong>Initialize Variables:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> res <span style="color:#666">=</span> {(n <span style="color:#666">-</span> <span style="color:#666">1L</span>) <span style="color:#666">*</span> (m <span style="color:#666">-</span> <span style="color:#666">1</span>), <span style="color:#666">0</span>, <span style="color:#666">0</span>, <span style="color:#666">0</span>, <span style="color:#666">0</span>};
</span></span></code></pre></div><ul>
<li>The <code>unordered_map cnt</code> is used to keep track of the count of black cells in each 2x2 block. The key is a unique identifier for the block, and the value is the count of black cells in the block.</li>
<li>The <code>res</code> vector stores the results. The first element represents the total number of 2x2 blocks in the grid (<code>(n-1) * (m-1)</code>), and the remaining elements represent how many blocks have 0, 1, 2, 3, and 4 black cells, respectively.</li>
</ul>
</li>
<li>
<p><strong>Iterate Through Coordinates:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">c</span>: coordinates)
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> c[<span style="color:#666">0</span>]; i <span style="color:#666">&lt;</span> c[<span style="color:#666">0</span>] <span style="color:#666">+</span> <span style="color:#666">2</span>; <span style="color:#666">++</span>i)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> c[<span style="color:#666">1</span>]; j <span style="color:#666">&lt;</span> c[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">2</span>; <span style="color:#666">++</span>j)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">0</span> <span style="color:#666">&lt;</span> i <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">&lt;</span> m <span style="color:#666">&amp;&amp;</span> <span style="color:#666">0</span> <span style="color:#666">&lt;</span> j <span style="color:#666">&amp;&amp;</span> j <span style="color:#666">&lt;</span> n) {
</span></span><span style="display:flex;"><span>                res[cnt[i <span style="color:#666">*</span> <span style="color:#666">100000L</span> <span style="color:#666">+</span> j]]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                cnt[i <span style="color:#666">*</span> <span style="color:#666">100000L</span> <span style="color:#666">+</span> j]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                res[cnt[i <span style="color:#666">*</span> <span style="color:#666">100000L</span> <span style="color:#666">+</span> j]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><ul>
<li>For each coordinate <code>c</code> in the <code>coordinates</code> list, we examine the 2x2 block starting at the coordinate <code>c[0]</code> and <code>c[1]</code>. The loops iterate over the positions <code>(i, j)</code> that correspond to the four cells of the 2x2 block.</li>
<li>We check if the indices <code>i</code> and <code>j</code> are valid (i.e., they are within the bounds of the grid). This ensures that the 2x2 block is entirely within the grid and not out of bounds.</li>
<li>For each valid position <code>(i, j)</code>, we update the count of black cells for the corresponding 2x2 block in the <code>cnt</code> map. Specifically, we:
<ul>
<li>Decrement the count of black cells in the block that was previously recorded.</li>
<li>Increment the count of black cells for the current 2x2 block.</li>
<li>Update the <code>res</code> vector to reflect the new count of black cells in that block.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Return Result:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After processing all coordinates, the <code>res</code> vector contains the final result:
<ul>
<li><code>res[0]</code>: The number of 2x2 blocks with 0 black cells.</li>
<li><code>res[1]</code>: The number of 2x2 blocks with 1 black cell.</li>
<li><code>res[2]</code>: The number of 2x2 blocks with 2 black cells.</li>
<li><code>res[3]</code>: The number of 2x2 blocks with 3 black cells.</li>
<li><code>res[4]</code>: The number of 2x2 blocks with 4 black cells.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<p>The time complexity of this solution is determined by the following factors:</p>
<ul>
<li>
<p><strong>Outer Loop Iteration:</strong></p>
<ul>
<li>The outer loop iterates over each element in the <code>coordinates</code> list. Let <code>k</code> be the size of the <code>coordinates</code> array.</li>
</ul>
</li>
<li>
<p><strong>Inner Loops:</strong></p>
<ul>
<li>For each coordinate, there are two nested loops that iterate over the four cells of the 2x2 block. These loops always run a constant number of times (4 iterations), which is independent of the size of the grid.</li>
</ul>
</li>
</ul>
<p>Thus, the time complexity is dominated by the iteration over the <code>coordinates</code> array. Therefore, the time complexity is ( O(k) ), where ( k ) is the size of the <code>coordinates</code> array.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Map (<code>cnt</code>)</strong>: We are using an unordered map to track the count of black cells in each 2x2 block. The number of 2x2 blocks is at most <code>(m-1) * (n-1)</code> in the grid, so the space complexity due to the map is ( O((m-1) \times (n-1)) ).</li>
<li><strong>Result Array (<code>res</code>)</strong>: The result array <code>res</code> has a fixed size of 5, so its space complexity is constant, i.e., ( O(1) ).</li>
</ul>
<p>Therefore, the overall space complexity is ( O((m-1) \times (n-1)) ), where ( m ) and ( n ) are the dimensions of the grid.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently counts the number of black cells in each 2x2 block formed by a set of coordinates in a grid. By using a map to track the count of black cells in each block and updating the results as we process each coordinate, we achieve a time complexity of ( O(k) ), where ( k ) is the size of the <code>coordinates</code> array. The space complexity is ( O((m-1) \times (n-1)) ), which is determined by the number of possible 2x2 blocks in the grid.</p>
<p>The solution is well-suited for cases where we need to process multiple coordinates and track the state of the grid efficiently. The approach leverages the power of hash maps to provide constant time updates for each block and efficiently compute the final result. This makes it a highly efficient solution for counting black cells in large grids with many coordinates.</p>
<p><a href="https://leetcode.com/problems/number-of-black-blocks/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/qnbzbMmLK8Q?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
