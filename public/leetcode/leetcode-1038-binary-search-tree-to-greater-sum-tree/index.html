<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1038: Binary Search Tree to Greater Sum Tree | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1038: Binary Search Tree to Greater Sum Tree">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1038: Binary Search Tree to Greater Sum Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1038-binary-search-tree-to-greater-sum-tree/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1038: Binary Search Tree to Greater Sum Tree">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1038: Binary Search Tree to Greater Sum Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Binary Search Tree">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1038: Binary Search Tree to Greater Sum Tree</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode35s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> pre;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> bstToGst(TreeNode<span style="color:#666">*</span> root) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(root<span style="color:#666">-&gt;</span>right) bstToGst(root<span style="color:#666">-&gt;</span>right);
</span></span><span style="display:flex;"><span>        pre <span style="color:#666">=</span> root<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> pre <span style="color:#666">+</span> root<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(root<span style="color:#666">-&gt;</span>left) bstToGst(root<span style="color:#666">-&gt;</span>left);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves transforming a binary search tree (BST) into a greater sum tree (GST). In a GST, each node&rsquo;s value is replaced by the sum of all values greater than or equal to that node&rsquo;s original value in the BST. This transformation must maintain the binary tree structure, ensuring that for every node, the left subtree contains only values less than the node&rsquo;s value, while the right subtree contains values greater than the node&rsquo;s value.</p>
<h3 id="approach">Approach</h3>
<p>To achieve this transformation, we will employ a reverse in-order traversal of the BST. The key steps in our approach include:</p>
<ol>
<li><strong>Reverse In-Order Traversal</strong>: This traversal method processes nodes in decreasing order of their values. We start from the rightmost node and move to the left.</li>
<li><strong>Cumulative Sum Calculation</strong>: We maintain a running total of the sum of the values processed so far. When visiting a node, we update its value to the cumulative sum, and then we add the node&rsquo;s original value to this sum for subsequent nodes.</li>
<li><strong>Recursive Function</strong>: We implement the transformation using a recursive function that traverses the tree and updates node values accordingly.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Class Definition</strong>: The solution is encapsulated in a class named <code>Solution</code>.</p>
</li>
<li>
<p><strong>Member Variables</strong>:</p>
<ul>
<li><code>pre</code>: An integer that holds the cumulative sum of node values as we traverse the tree.</li>
</ul>
</li>
<li>
<p><strong>Function Signature</strong>:</p>
<ul>
<li>The <code>bstToGst</code> function takes a pointer to the root of the BST and returns a pointer to the modified root after transformation.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>TreeNode<span style="color:#666">*</span> <span style="color:#00a000">bstToGst</span>(TreeNode<span style="color:#666">*</span> root) {
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">//...
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Base Case and Recursive Traversal</strong>:</p>
<ul>
<li>The function first checks if the right child of the current node exists. If it does, it recursively calls <code>bstToGst</code> on the right child. This ensures we process larger values first, adhering to the reverse in-order traversal.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(root<span style="color:#666">-&gt;</span>right) bstToGst(root<span style="color:#666">-&gt;</span>right);
</span></span></code></pre></div></li>
<li>
<p><strong>Updating Node Values</strong>:</p>
<ul>
<li>Once we are at a node, we update its value to include the cumulative sum of values processed thus far. The <code>pre</code> variable is updated to include the original value of the current node.</li>
<li>This line effectively performs two actions: updating the node&rsquo;s value and maintaining the cumulative sum.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>pre <span style="color:#666">=</span> root<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> pre <span style="color:#666">+</span> root<span style="color:#666">-&gt;</span>val;
</span></span></code></pre></div></li>
<li>
<p><strong>Processing the Left Subtree</strong>:</p>
<ul>
<li>After updating the current node, the function checks for the existence of a left child. If present, it recursively processes the left child, allowing us to continue the transformation for all nodes in the tree.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(root<span style="color:#666">-&gt;</span>left) bstToGst(root<span style="color:#666">-&gt;</span>left);
</span></span></code></pre></div></li>
<li>
<p><strong>Returning the Root</strong>:</p>
<ul>
<li>Finally, the modified root node is returned after the entire tree has been processed.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this approach is (O(n)), where (n) is the number of nodes in the binary search tree. This is because each node is visited exactly once during the traversal.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(h)), where (h) is the height of the tree. This accounts for the space used by the call stack during the recursive traversal. In the worst case (for a skewed tree), this could be (O(n)), but for balanced trees, it would be (O(\log n)).</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided code effectively transforms a binary search tree into a greater sum tree using a reverse in-order traversal approach. This transformation updates each node&rsquo;s value to be the sum of all values greater than or equal to its original value, preserving the binary tree structure.</p>
<p>The algorithm&rsquo;s efficiency, with a linear time complexity, makes it suitable for large trees, ensuring that each node is processed with minimal overhead. Additionally, the use of a single member variable for cumulative sums simplifies the implementation while maintaining clarity.</p>
<p>This approach demonstrates the utility of tree traversal techniques in modifying data structures, making it applicable in various scenarios involving hierarchical data representations. The clarity and conciseness of the code enhance its maintainability and adaptability for further enhancements or modifications.</p>
<p>In summary, the <code>bstToGst</code> function provides a robust solution to the problem, showcasing the effectiveness of recursive algorithms in tree manipulations and their relevance in practical applications such as data analysis, computational algorithms, and software development.</p>
<p><a href="https://leetcode.com/problems/binary-search-tree-to-greater-sum-tree/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/FiGdEA4herM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
