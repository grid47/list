<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1105: Filling Bookcase Shelves | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1105: Filling Bookcase Shelves">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1105: Filling Bookcase Shelves in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1105-filling-bookcase-shelves/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1105: Filling Bookcase Shelves">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1105: Filling Bookcase Shelves in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-19T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1105: Filling Bookcase Shelves</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode63s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> minHeightShelves(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> books, <span style="color:#0b0;font-weight:bold">int</span> shelfWidth) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> books.size();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">1</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            dp[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> dp[i] <span style="color:#666">+</span> books[i][<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, height <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i; j <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; j<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>                sum <span style="color:#666">+=</span> books[j][<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(sum <span style="color:#666">&gt;</span> shelfWidth) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    height <span style="color:#666">=</span> max(height, books[j][<span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>                    dp[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> min(dp[j] <span style="color:#666">+</span> height, dp[i<span style="color:#666">+</span><span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp[n];        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to arrange a given list of books on shelves in such a way that the total height of the shelves is minimized. Each book has a width and a height, and we have a specified width limit for each shelf. If the total width of books placed on a shelf exceeds this limit, the shelf cannot hold those books.</p>
<p><strong>Input:</strong></p>
<ul>
<li>A vector of books, where each book is represented as a vector with two integers: width and height.</li>
<li>An integer representing the maximum width allowed for each shelf.</li>
</ul>
<p><strong>Output:</strong></p>
<ul>
<li>An integer representing the minimum height of shelves required to accommodate all the books under the given constraints.</li>
</ul>
<h3 id="approach">Approach</h3>
<p>To tackle this problem, we utilize dynamic programming. The key ideas are:</p>
<ol>
<li><strong>Dynamic Programming Array</strong>: Use an array <code>dp</code> where <code>dp[i]</code> represents the minimum height of shelves needed to accommodate the first <code>i</code> books.</li>
<li><strong>Iterate Over Books</strong>: For each book, determine how many books can be placed on the current shelf without exceeding the shelf width.</li>
<li><strong>Calculate Heights</strong>: For each arrangement of books on a shelf, compute the height and update the <code>dp</code> array accordingly.</li>
<li><strong>Update Minimum Height</strong>: Continuously track the minimum shelf height required for various combinations of books.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Class Definition</strong>: The <code>Solution</code> class contains the method to calculate the minimum height of shelves.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Method Declaration</strong>: The method <code>minHeightShelves</code> takes a vector of books and an integer shelfWidth as parameters.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">minHeightShelves</span>(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> books, <span style="color:#0b0;font-weight:bold">int</span> shelfWidth) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> books.size();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">1</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Base case: 0 height for 0 books
</span></span></span></code></pre></div></li>
<li>
<p><strong>Main Loop</strong>: Loop through each book, updating the <code>dp</code> array.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            dp[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> dp[i] <span style="color:#666">+</span> books[i][<span style="color:#666">1</span>];  <span style="color:#080;font-style:italic">// Start by adding current book height
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, height <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Initialize variables for width and height
</span></span></span></code></pre></div></li>
<li>
<p><strong>Nested Loop</strong>: For each book <code>i</code>, check how many previous books can fit on the current shelf.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i; j <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; j<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>                sum <span style="color:#666">+=</span> books[j][<span style="color:#666">0</span>];  <span style="color:#080;font-style:italic">// Add the width of the current book to the sum
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                <span style="color:#a2f;font-weight:bold">if</span>(sum <span style="color:#666">&gt;</span> shelfWidth) <span style="color:#a2f;font-weight:bold">break</span>;  <span style="color:#080;font-style:italic">// If the width exceeds the shelf limit, break
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    height <span style="color:#666">=</span> max(height, books[j][<span style="color:#666">1</span>]);  <span style="color:#080;font-style:italic">// Track the maximum height on the shelf
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                    dp[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> min(dp[j] <span style="color:#666">+</span> height, dp[i <span style="color:#666">+</span> <span style="color:#666">1</span>]);  <span style="color:#080;font-style:italic">// Update dp array
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div></li>
<li>
<p><strong>Return Result</strong>: Finally, return the minimum height required to accommodate all books.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp[n];        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity of this solution is (O(n^2)) where (n) is the number of books. This is because for each book, we may need to check all previous books to see how many can fit on the current shelf.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the storage used for the <code>dp</code> array that holds the minimum heights for each subset of books.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided C++ code effectively calculates the minimum height of shelves required to hold a collection of books under the specified width constraint using a dynamic programming approach. By iterating through each book and determining how many can fit on each shelf, we can compute the optimal arrangement that minimizes shelf height.</p>
<p>This algorithm showcases how dynamic programming can be utilized to solve optimization problems in a structured and efficient manner. By breaking down the problem into smaller subproblems and solving them iteratively, we ensure that we explore all possible arrangements while maintaining a manageable computational complexity.</p>
<p>In summary, this solution not only demonstrates an effective application of dynamic programming techniques but also provides insight into how thoughtful problem-solving can lead to efficient algorithms in real-world scenarios involving spatial constraints.</p>
<p><a href="https://leetcode.com/problems/filling-bookcase-shelves/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/lFYPPPTp8qE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
