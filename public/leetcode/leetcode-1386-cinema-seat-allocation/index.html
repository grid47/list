<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1386: Cinema Seat Allocation | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1386: Cinema Seat Allocation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1386: Cinema Seat Allocation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1386-cinema-seat-allocation/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1386: Cinema Seat Allocation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1386: Cinema Seat Allocation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Bit Manipulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1386: Cinema Seat Allocation</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode187s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxNumberOfFamilies(<span style="color:#0b0;font-weight:bold">int</span> n, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> reservedSeats) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> n <span style="color:#666">*</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> m;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">r</span>: reservedSeats)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(r[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">1</span> <span style="color:#666">&amp;&amp;</span> r[<span style="color:#666">1</span>] <span style="color:#666">&lt;</span> <span style="color:#666">10</span>)
</span></span><span style="display:flex;"><span>                m[r[<span style="color:#666">0</span>]] <span style="color:#666">|=</span> <span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> (r[<span style="color:#666">1</span>] <span style="color:#666">-</span> <span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> [row, seats]<span style="color:#666">:</span> m) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> left  <span style="color:#666">=</span> seats <span style="color:#666">&amp;</span> <span style="color:#666">0b11110000</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> mid   <span style="color:#666">=</span> seats <span style="color:#666">&amp;</span> <span style="color:#666">0b00111100</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> right <span style="color:#666">=</span> seats <span style="color:#666">&amp;</span> <span style="color:#666">0b00001111</span>;
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">-=</span> left <span style="color:#666">&amp;&amp;</span> mid <span style="color:#666">&amp;&amp;</span> right <span style="color:#666">?</span> <span style="color:#666">2</span> <span style="color:#666">:</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves determining the maximum number of families that can be seated in a theater given certain reserved seats. Each family occupies a row of seats in a theater, and there are specific seating arrangements to consider. Each row in the theater has a certain number of seats, and some of these seats may be reserved for individual customers, preventing families from sitting together. The goal is to calculate how many families can be seated, assuming families prefer to sit in groups of four in specific configurations.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can follow these steps:</p>
<ol>
<li>
<p><strong>Initialization</strong>: Start by assuming that every row can seat two families, thus initializing the answer to (2 \times n), where (n) is the number of rows.</p>
</li>
<li>
<p><strong>Mapping Reserved Seats</strong>: Use a map to track reserved seats in each row. Each reserved seat affects the seating configurations available for families.</p>
</li>
<li>
<p><strong>Checking Seating Configurations</strong>: For each row that has reserved seats, check the possible configurations where families can sit:</p>
<ul>
<li><strong>Left Group</strong>: Seats 2, 3, and 4 (binary representation: <code>11110000</code>)</li>
<li><strong>Middle Group</strong>: Seats 4, 5, and 6 (binary representation: <code>00111100</code>)</li>
<li><strong>Right Group</strong>: Seats 6, 7, and 8 (binary representation: <code>00001111</code>)</li>
</ul>
</li>
<li>
<p><strong>Adjusting the Answer</strong>: Based on the reserved seats in each row, adjust the number of families that can be seated. If a configuration is blocked, reduce the count accordingly.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>The provided C++ code implements the above approach. Hereâ€™s a detailed breakdown:</p>
<ol>
<li>
<p><strong>Class Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>The <code>Solution</code> class contains a method to compute the maximum number of families that can be seated.</li>
</ul>
</li>
<li>
<p><strong>Method Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">maxNumberOfFamilies</span>(<span style="color:#0b0;font-weight:bold">int</span> n, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> reservedSeats) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> n <span style="color:#666">*</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> m;
</span></span></code></pre></div><ul>
<li>The <code>maxNumberOfFamilies</code> method takes two parameters: an integer <code>n</code> (the number of rows) and a vector of vectors <code>reservedSeats</code> containing reserved seat information.</li>
<li>It initializes <code>ans</code> to (n \times 2) (maximum number of families that can be seated) and uses an unordered map <code>m</code> to track reserved seats for each row.</li>
</ul>
</li>
<li>
<p><strong>Mapping Reserved Seats</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">r</span>: reservedSeats)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(r[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">1</span> <span style="color:#666">&amp;&amp;</span> r[<span style="color:#666">1</span>] <span style="color:#666">&lt;</span> <span style="color:#666">10</span>)
</span></span><span style="display:flex;"><span>                m[r[<span style="color:#666">0</span>]] <span style="color:#666">|=</span> <span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> (r[<span style="color:#666">1</span>] <span style="color:#666">-</span> <span style="color:#666">2</span>);
</span></span></code></pre></div><ul>
<li>This loop iterates through each reserved seat. If the reserved seat is between seats 2 and 9, it updates the map to mark the reserved seat using bitwise operations. The expression <code>1 &lt;&lt; (r[1] - 2)</code> shifts a bit to the left to represent the reserved seat in binary format.</li>
</ul>
</li>
<li>
<p><strong>Checking Configurations</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> [row, seats]<span style="color:#666">:</span> m) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> left  <span style="color:#666">=</span> seats <span style="color:#666">&amp;</span> <span style="color:#666">0b11110000</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> mid   <span style="color:#666">=</span> seats <span style="color:#666">&amp;</span> <span style="color:#666">0b00111100</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> right <span style="color:#666">=</span> seats <span style="color:#666">&amp;</span> <span style="color:#666">0b00001111</span>;
</span></span></code></pre></div><ul>
<li>For each row in the map, this code segment checks the reserved seats against the three potential family configurations using bitwise AND operations with binary masks.</li>
<li><code>left</code>, <code>mid</code>, and <code>right</code> hold the status of each configuration.</li>
</ul>
</li>
<li>
<p><strong>Adjusting the Answer</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            ans <span style="color:#666">-=</span> left <span style="color:#666">&amp;&amp;</span> mid <span style="color:#666">&amp;&amp;</span> right <span style="color:#666">?</span> <span style="color:#666">2</span> <span style="color:#666">:</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Depending on which configurations are blocked (if any), the answer is decremented. If all three configurations are blocked, it reduces by 2; otherwise, it reduces by 1.</li>
<li>Finally, the method returns the calculated maximum number of families that can be seated.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is (O(m + n)), where (m) is the number of reserved seats, and (n) is the number of rows. This accounts for iterating through reserved seats and then through the rows with reserved seats.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(n)) due to the use of an unordered map that stores reserved seat data for each row.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution efficiently determines the maximum number of families that can be seated in a theater given specific seat reservations. By utilizing bitwise operations and a map to track reserved seats, the algorithm is both space and time efficient. The implementation illustrates a practical application of data structures and bit manipulation in solving a combinatorial problem. This code serves as a useful reference for developers and students alike, providing insights into managing complex seating arrangements and constraints in computational problems. Understanding this solution can enhance problem-solving skills in competitive programming and algorithm design, as it highlights the importance of leveraging data structures effectively to derive optimal solutions. Overall, the <code>maxNumberOfFamilies</code> function is a robust implementation that elegantly balances efficiency with clarity, making it a valuable addition to any algorithm repertoire.</p>
<p><a href="https://leetcode.com/problems/cinema-seat-allocation/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
