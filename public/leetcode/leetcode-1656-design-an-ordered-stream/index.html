<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1656: Design an Ordered Stream | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1656: Design an Ordered Stream">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1656: Design an Ordered Stream in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1656-design-an-ordered-stream/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1656: Design an Ordered Stream">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1656: Design an Ordered Stream in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Data Stream">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1656: Design an Ordered Stream</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode315s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">OrderedStream</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> s;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> ptr <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>OrderedStream(<span style="color:#0b0;font-weight:bold">int</span> n) <span style="color:#666">:</span> s(n <span style="color:#666">+</span> <span style="color:#666">1</span>) {}
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> insert(<span style="color:#0b0;font-weight:bold">int</span> id, string value) {
</span></span><span style="display:flex;"><span>    s[id] <span style="color:#666">=</span> value;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> res;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span> (ptr <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>s[ptr].empty())
</span></span><span style="display:flex;"><span>        res.push_back(s[ptr<span style="color:#666">++</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your OrderedStream object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * OrderedStream* obj = new OrderedStream(n);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * vector&lt;string&gt; param_1 = obj-&gt;insert(idKey,value);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand involves implementing an ordered stream of strings where each string can be inserted with a unique identifier. The objective is to create a data structure that allows inserting strings at specific identifiers and retrieving the ordered stream of strings starting from the last retrieved identifier. This data structure should efficiently handle the retrieval of strings in the order they were inserted.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we utilize a class called <code>OrderedStream</code> that manages a vector to hold the strings and a pointer to track the next expected identifier. The main operations include:</p>
<ol>
<li><strong>Initialization</strong>: Create an internal storage for the strings using a vector.</li>
<li><strong>Insertion</strong>: Insert strings at specific identifiers while maintaining the order.</li>
<li><strong>Retrieval</strong>: Retrieve strings in order, starting from the last inserted position, until we reach an empty entry in the vector.</li>
</ol>
<p>This approach efficiently handles both insertions and retrievals, ensuring that strings can be accessed in the order they were expected.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">OrderedStream</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> s; <span style="color:#080;font-style:italic">// Vector to hold strings
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">int</span> ptr <span style="color:#666">=</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Pointer to track the next expected id
</span></span></span></code></pre></div><ul>
<li>We define a class <code>OrderedStream</code> with a public section that contains:
<ul>
<li>A vector <code>s</code> to store strings. It is initialized with a size of <code>n + 1</code> to accommodate identifiers starting from 1.</li>
<li>An integer <code>ptr</code> initialized to 1 to keep track of the next expected identifier for retrieval.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    OrderedStream(<span style="color:#0b0;font-weight:bold">int</span> n) <span style="color:#666">:</span> s(n <span style="color:#666">+</span> <span style="color:#666">1</span>) {}
</span></span></code></pre></div><ul>
<li>The constructor takes an integer <code>n</code>, which defines the number of unique identifiers (from 1 to n). It initializes the vector <code>s</code> with a size of <code>n + 1</code> to simplify index management.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> insert(<span style="color:#0b0;font-weight:bold">int</span> id, string value) {
</span></span><span style="display:flex;"><span>        s[id] <span style="color:#666">=</span> value; <span style="color:#080;font-style:italic">// Insert the value at the specified id
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> res; <span style="color:#080;font-style:italic">// Vector to hold results for retrieval
</span></span></span></code></pre></div><ul>
<li>The <code>insert</code> function is defined to take an integer <code>id</code> and a string <code>value</code>. It inserts the value into the vector <code>s</code> at the index corresponding to the identifier <code>id</code>.</li>
<li>A new vector <code>res</code> is initialized to hold the results of the retrieval process.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span> (ptr <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>s[ptr].empty())
</span></span><span style="display:flex;"><span>            res.push_back(s[ptr<span style="color:#666">++</span>]); <span style="color:#080;font-style:italic">// Retrieve strings in order
</span></span></span></code></pre></div><ul>
<li>A <code>while</code> loop is used to retrieve strings in order. It continues as long as:
<ul>
<li><code>ptr</code> is within the bounds of the vector.</li>
<li>The string at the current <code>ptr</code> index is not empty.</li>
</ul>
</li>
<li>For each non-empty string, it is pushed into the results vector <code>res</code>, and <code>ptr</code> is incremented to move to the next index.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res; <span style="color:#080;font-style:italic">// Return the retrieved strings
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>After retrieving all possible strings in order, the results vector <code>res</code> is returned.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your OrderedStream object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * OrderedStream* obj = new OrderedStream(n);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * vector&lt;string&gt; param_1 = obj-&gt;insert(idKey,value);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span></code></pre></div><ul>
<li>This comment section illustrates how to instantiate the <code>OrderedStream</code> object and use its <code>insert</code> method.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The <code>insert</code> operation runs in ( O(1) ) time for inserting a string, and the retrieval portion may take up to ( O(n) ) in the worst case, where all subsequent strings are filled.</li>
<li>Overall, the time complexity for an <code>insert</code> operation can be considered ( O(n) ) in the worst case when strings are continuously retrieved.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is ( O(n) ) as we store strings in a vector of size ( n + 1 ).</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>OrderedStream</code> class effectively manages the ordered insertion and retrieval of strings based on unique identifiers. This implementation leverages a vector for storage and a pointer to track the next expected string, facilitating efficient operations.</p>
<p><strong>Key Takeaways</strong>:</p>
<ol>
<li><strong>Efficiency</strong>: The structure is efficient for both inserting and retrieving strings in the correct order, providing a straightforward interface for users.</li>
<li><strong>Simplicity</strong>: By using a vector and a simple pointer mechanism, the implementation is easy to understand and maintain.</li>
<li><strong>Dynamic Handling</strong>: The solution dynamically handles strings as they are inserted, allowing for a flexible and adaptive structure that can be used in various applications requiring ordered data handling.</li>
</ol>
<p>Overall, this implementation showcases a practical approach to managing ordered streams, emphasizing both efficiency and clarity in design. The use of standard data structures like vectors simplifies the code while ensuring that operations remain performant.</p>
<p><a href="https://leetcode.com/problems/design-an-ordered-stream/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/lL7_8Eg1Q1s?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
