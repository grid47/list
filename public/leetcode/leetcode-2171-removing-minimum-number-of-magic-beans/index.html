<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2171: Removing Minimum Number of Magic Beans | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2171: Removing Minimum Number of Magic Beans">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2171: Removing Minimum Number of Magic Beans in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2171-removing-minimum-number-of-magic-beans/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2171: Removing Minimum Number of Magic Beans">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2171: Removing Minimum Number of Magic Beans in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Enumeration">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2171: Removing Minimum Number of Magic Beans</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode601s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> minimumRemoval(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> beans) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> beans.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> sum <span style="color:#666">=</span> accumulate(begin(beans), end(beans), <span style="color:#666">0L</span>);
</span></span><span style="display:flex;"><span>        sort(beans.begin(), beans.end());
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> LLONG_MAX;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> min(res, sum <span style="color:#666">-</span> (<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>) (n <span style="color:#666">-</span> i) <span style="color:#666">*</span> beans[i]);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>You are given an array <code>beans</code>, where each element represents the number of beans in a respective pile. The goal is to determine the minimum number of beans you need to remove such that the number of beans in all piles is equal. However, the removal should ensure that the remaining piles all have the same number of beans, and the number of beans removed should be minimized.</p>
<p>You need to return the minimum number of beans to remove to achieve this.</p>
<h3 id="approach">Approach</h3>
<p>The problem can be broken down into the following steps:</p>
<ol>
<li>
<p><strong>Compute the Total Sum of Beans</strong>:</p>
<ul>
<li>First, calculate the total number of beans in all piles. This helps in determining how many beans would be removed from each pile.</li>
</ul>
</li>
<li>
<p><strong>Sort the Array</strong>:</p>
<ul>
<li>To simplify the process of calculating the beans to remove, sort the array. This allows you to efficiently compute the number of beans left after removing piles.</li>
</ul>
</li>
<li>
<p><strong>Iterate through Sorted Array</strong>:</p>
<ul>
<li>After sorting the array, the number of beans left in each pile (after removal) will be based on the size of the piles that remain. For each pile, compute the number of beans you would remove and keep track of the minimum result.</li>
</ul>
</li>
<li>
<p><strong>Calculation of Beans to Remove</strong>:</p>
<ul>
<li>For each index in the sorted array, compute how many beans would be removed if all piles except for the current pile (and those smaller than it) were kept. This is done by subtracting the number of beans in the current pile from the total sum and adjusting it according to the number of piles that remain.</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<ul>
<li>The result will be the minimum number of beans that can be removed to make the piles equal in size.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Compute the Total Sum of Beans</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> sum <span style="color:#666">=</span> accumulate(begin(beans), end(beans), <span style="color:#666">0L</span>);
</span></span></code></pre></div><ul>
<li><code>accumulate</code> is a standard function from <code>&lt;numeric&gt;</code> that computes the sum of all elements in the <code>beans</code> array. The <code>0L</code> ensures that the sum is computed as a <code>long long</code> type to prevent overflow.</li>
</ul>
</li>
<li>
<p><strong>Sort the Array</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(beans.begin(), beans.end());
</span></span></code></pre></div><ul>
<li>Sorting the array simplifies the logic of figuring out how to minimize the beans to be removed. Sorting ensures that we can easily calculate how many beans remain in the piles that are left behind.</li>
</ul>
</li>
<li>
<p><strong>Iterate and Calculate the Minimum Removal</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> LLONG_MAX;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    res <span style="color:#666">=</span> min(res, sum <span style="color:#666">-</span> (<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>) (n <span style="color:#666">-</span> i) <span style="color:#666">*</span> beans[i]);
</span></span></code></pre></div><ul>
<li>The variable <code>res</code> is initialized to <code>LLONG_MAX</code> (the largest possible value for a <code>long long</code>), which will store the minimum number of beans to be removed.</li>
<li>The loop iterates through each pile, and for each iteration, the number of beans removed is computed as the total sum minus the number of beans left in the remaining piles (<code>(n - i) * beans[i]</code>).</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After iterating through all possible scenarios, the smallest value in <code>res</code> will be returned, representing the minimum number of beans that need to be removed to make the remaining piles equal.</li>
</ul>
</li>
</ol>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<p>Let&rsquo;s walk through an example with the array <code>beans = [4, 3, 2, 5]</code>:</p>
<ul>
<li>
<p><strong>Step 1: Calculate the Total Sum of Beans</strong>:</p>
<ul>
<li>Sum = <code>4 + 3 + 2 + 5 = 14</code>.</li>
</ul>
</li>
<li>
<p><strong>Step 2: Sort the Array</strong>:</p>
<ul>
<li>Sorted array = <code>[2, 3, 4, 5]</code>.</li>
</ul>
</li>
<li>
<p><strong>Step 3: Iterate and Compute the Minimum Removal</strong>:</p>
<ul>
<li>
<p>For each index <code>i</code> in the sorted array, calculate how many beans would remain if the piles from index <code>i</code> to the end are kept, and then determine how many beans need to be removed.</p>
</li>
<li>
<p><strong>Iteration 1 (i = 0)</strong>: Remove piles smaller than or equal to <code>beans[0] = 2</code>.</p>
<ul>
<li>Remaining beans: <code>(4 - 0) * 2 = 8</code>.</li>
<li>Beans to remove: <code>14 - 8 = 6</code>.</li>
</ul>
</li>
<li>
<p><strong>Iteration 2 (i = 1)</strong>: Remove piles smaller than or equal to <code>beans[1] = 3</code>.</p>
<ul>
<li>Remaining beans: <code>(4 - 1) * 3 = 9</code>.</li>
<li>Beans to remove: <code>14 - 9 = 5</code>.</li>
</ul>
</li>
<li>
<p><strong>Iteration 3 (i = 2)</strong>: Remove piles smaller than or equal to <code>beans[2] = 4</code>.</p>
<ul>
<li>Remaining beans: <code>(4 - 2) * 4 = 8</code>.</li>
<li>Beans to remove: <code>14 - 8 = 6</code>.</li>
</ul>
</li>
<li>
<p><strong>Iteration 4 (i = 3)</strong>: Remove piles smaller than or equal to <code>beans[3] = 5</code>.</p>
<ul>
<li>Remaining beans: <code>(4 - 3) * 5 = 5</code>.</li>
<li>Beans to remove: <code>14 - 5 = 9</code>.</li>
</ul>
</li>
<li>
<p>The minimum beans to remove is <code>5</code> (from iteration 2).</p>
</li>
</ul>
</li>
<li>
<p><strong>Step 4: Return the Result</strong>:</p>
<ul>
<li>The result is <code>5</code>, meaning 5 beans should be removed to make the remaining piles equal.</li>
</ul>
</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>O(n log n) due to the sorting step, where <code>n</code> is the number of piles. The iteration through the sorted array takes O(n), and the sorting dominates the overall complexity.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>O(1) as the algorithm only uses a few additional variables for the calculations and does not require extra space proportional to the input size.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The algorithm efficiently solves the problem by utilizing a combination of sorting and selection strategies to minimize the number of beans removed. The time complexity of O(n log n) ensures that the solution works well even for larger arrays. By breaking the problem into logical steps—sorting, calculating sums, and iterating for the minimum—this approach provides a clear, effective solution for the problem at hand.</p>
<p><a href="https://leetcode.com/problems/removing-minimum-number-of-magic-beans/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/MAECrl0V0xs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
