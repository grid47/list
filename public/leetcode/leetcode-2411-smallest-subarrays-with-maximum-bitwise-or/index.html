<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2411: Smallest Subarrays With Maximum Bitwise OR | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2411: Smallest Subarrays With Maximum Bitwise OR">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2411: Smallest Subarrays With Maximum Bitwise OR in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2411-smallest-subarrays-with-maximum-bitwise-or/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2411: Smallest Subarrays With Maximum Bitwise OR">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2411: Smallest Subarrays With Maximum Bitwise OR in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Bit Manipulation">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2411: Smallest Subarrays With Maximum Bitwise OR</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode743s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> smallestSubarrays(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">1</span>), last(<span style="color:#666">30</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> <span style="color:#666">30</span>; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&amp;</span> (<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> j)) {
</span></span><span style="display:flex;"><span>                    last[j] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                ans[i] <span style="color:#666">=</span> max(ans[i], last[j] <span style="color:#666">-</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given an array <code>nums</code> of size <code>n</code>, the task is to find the smallest subarray that contains all the bits of each element of the array. For each element <code>nums[i]</code>, we need to find the length of the smallest subarray that contains all the set bits of <code>nums[i]</code>. The challenge is to solve this efficiently.</p>
<h3 id="approach">Approach</h3>
<p>The problem requires us to find the smallest subarray for each element of the array such that the subarray contains all the bits that are set in the binary representation of the number. To solve this problem efficiently, we can use bitwise operations combined with a dynamic programming approach.</p>
<p>Here&rsquo;s the breakdown of the approach:</p>
<ol>
<li>
<p><strong>Bitwise Operations</strong>:</p>
<ul>
<li>Each integer can be represented as a sequence of bits (0s and 1s). The idea is to track the position of the most recent occurrence of each bit (from the least significant bit to the most significant bit) as we process the array from right to left.</li>
<li>The challenge is to keep track of the smallest subarray that contains all the set bits of each number. We can do this by checking the most recent occurrences of the bits for each number.</li>
</ul>
</li>
<li>
<p><strong>Tracking the Last Occurrence of Each Bit</strong>:</p>
<ul>
<li>We maintain an array <code>last</code> of size 30, which tracks the most recent index where each bit (from the 0th to the 29th bit) was set.</li>
<li>For each number <code>nums[i]</code>, we check the positions of all bits that are set in the number and update the <code>last</code> array accordingly.</li>
</ul>
</li>
<li>
<p><strong>Dynamic Programming Approach</strong>:</p>
<ul>
<li>The idea is to iteratively compute the smallest subarray for each index <code>i</code> by considering all the set bits in <code>nums[i]</code> and the last seen positions of those bits.</li>
<li>For each bit in the current number, we compute the distance between the current index <code>i</code> and the last seen position of that bit. The answer for <code>nums[i]</code> will be the maximum of these distances plus one (since we want the length of the subarray).</li>
</ul>
</li>
<li>
<p><strong>Final Answer</strong>:</p>
<ul>
<li>For each index <code>i</code>, the length of the smallest subarray that contains all the set bits of <code>nums[i]</code> is stored in the <code>ans</code> array. Finally, we return the <code>ans</code> array as the result.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-initialization">1. Initialization</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">1</span>), last(<span style="color:#666">30</span>, <span style="color:#666">0</span>);
</span></span></code></pre></div><ul>
<li><code>n</code> stores the size of the input array <code>nums</code>.</li>
<li><code>ans</code> is a vector that will store the answer for each index. Initially, we assume that the smallest subarray for each element is of length 1.</li>
<li><code>last</code> is a vector of size 30 (as we are dealing with integers with up to 30 bits) to store the last seen index for each bit.</li>
</ul>
<h4 id="2-loop-over-the-array-from-right-to-left">2. Loop Over the Array from Right to Left</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> <span style="color:#666">30</span>; j<span style="color:#666">++</span>) {
</span></span></code></pre></div><ul>
<li>We loop over the array from right to left (starting from the last index). This allows us to efficiently compute the smallest subarray that contains all the set bits for each element.</li>
<li>For each element <code>nums[i]</code>, we need to check each of the 30 possible bits (0 through 29).</li>
</ul>
<h4 id="3-update-the-last-array-for-each-bit">3. Update the <code>last</code> Array for Each Bit</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&amp;</span> (<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> j)) {
</span></span><span style="display:flex;"><span>    last[j] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><code>nums[i] &amp; (1 &lt;&lt; j)</code> checks whether the <code>j</code>-th bit of <code>nums[i]</code> is set (1). If it is set, we update the <code>last</code> array to store the current index <code>i</code> as the most recent index where this bit was set.</li>
</ul>
<h4 id="4-compute-the-length-of-the-smallest-subarray">4. Compute the Length of the Smallest Subarray</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ans[i] <span style="color:#666">=</span> max(ans[i], last[j] <span style="color:#666">-</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span></code></pre></div><ul>
<li>After updating the <code>last</code> array for the current bit, we compute the length of the smallest subarray for <code>nums[i]</code>. For each bit <code>j</code>, the smallest subarray that contains this bit will have a length equal to <code>last[j] - i + 1</code> (the distance between the current index <code>i</code> and the last seen index of this bit).</li>
<li>We take the maximum of all such distances to ensure that the subarray contains all the bits.</li>
</ul>
<h4 id="5-return-the-result">5. Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>Once the loop finishes, the <code>ans</code> array will contain the smallest subarray lengths for each element in the input array. We return the <code>ans</code> array as the result.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>
<p>We loop over each element of the input array <code>nums</code>, and for each element, we check each of the 30 bits. Hence, the total time complexity is:</p>
<p>[
O(n \times 30) = O(n)
]</p>
<p>where <code>n</code> is the size of the array <code>nums</code>. Since the number of bits is constant (30), it does not affect the overall time complexity.</p>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is determined by the two arrays:
<ul>
<li><code>ans</code>: This array stores the smallest subarray lengths for each element, which takes (O(n)) space.</li>
<li><code>last</code>: This array stores the last seen index for each of the 30 bits, which takes (O(30) = O(1)) space.</li>
</ul>
</li>
</ul>
<p>Thus, the space complexity is:</p>
<p>[
O(n)
]</p>
<h3 id="conclusion">Conclusion</h3>
<p>The solution efficiently computes the smallest subarray that contains all the set bits of each element in the array by leveraging bitwise operations and dynamic programming. The time complexity of (O(n)) and space complexity of (O(n)) make this approach suitable for large input sizes. By processing the array from right to left and tracking the most recent occurrences of each bit, we can ensure that the smallest subarray is computed efficiently for each element.</p>
<p><a href="https://leetcode.com/problems/smallest-subarrays-with-maximum-bitwise-or/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/0xR5bFyo2QA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
