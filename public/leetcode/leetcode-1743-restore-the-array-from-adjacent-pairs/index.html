<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1743: Restore the Array From Adjacent Pairs | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1743: Restore the Array From Adjacent Pairs">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1743: Restore the Array From Adjacent Pairs in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1743-restore-the-array-from-adjacent-pairs/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1743: Restore the Array From Adjacent Pairs">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1743: Restore the Array From Adjacent Pairs in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Depth-First Search">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1743: Restore the Array From Adjacent Pairs</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode363s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> restoreArray(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> ap) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> ap.size() <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">e</span> : ap) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> u <span style="color:#666">=</span> e[<span style="color:#666">0</span>], v <span style="color:#666">=</span> e[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>            mp[u].push_back(v);
</span></span><span style="display:flex;"><span>            mp[v].push_back(u);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: mp) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(it.second.size() <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>                ans.push_back(it.first);
</span></span><span style="display:flex;"><span>                ans.push_back(it.second[<span style="color:#666">0</span>]);
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(ans.size() <span style="color:#666">&lt;</span> n) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> tail <span style="color:#666">=</span> ans.back(), prv <span style="color:#666">=</span> ans[ans.size() <span style="color:#666">-</span> <span style="color:#666">2</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span>next <span style="color:#666">=</span> mp[tail];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(next[<span style="color:#666">0</span>] <span style="color:#666">!=</span> prv)
</span></span><span style="display:flex;"><span>                ans.push_back(next[<span style="color:#666">0</span>]);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                ans.push_back(next[<span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given an array of adjacent pairs, where each element represents a connection between two integers, the task is to restore the original array from which the adjacent pairs were derived. Each pair in the input represents two neighboring elements in the original array, and the array has no duplicates. The goal is to reconstruct and return the original array in the correct order.</p>
<h3 id="approach">Approach</h3>
<p>The problem can be approached using a hash map and by identifying the endpoints of the array based on the adjacency properties of the elements. Here’s the plan:</p>
<ol>
<li>
<p><strong>Map Construction</strong>: Build a hash map to store each integer’s adjacent elements based on the given pairs.</p>
</li>
<li>
<p><strong>Endpoint Identification</strong>: Find the array’s starting point by identifying an integer that appears only once in the adjacency map (endpoints only have one neighbor).</p>
</li>
<li>
<p><strong>Array Restoration</strong>: Starting from one endpoint, construct the array by traversing through neighbors in sequence, ensuring each element appears in the correct order.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s dive into the code line by line to understand the solution.</p>
<ol>
<li>
<p><strong>Initialize Variables and Build the Adjacency Map</strong>:</p>
<ul>
<li>Use <code>map&lt;int, vector&lt;int&gt;&gt; mp</code> to store each integer and its neighbors.</li>
<li>For each pair in <code>ap</code>, add each element to the other’s adjacency list.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> ap.size() <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">e</span> : ap) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> u <span style="color:#666">=</span> e[<span style="color:#666">0</span>], v <span style="color:#666">=</span> e[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>    mp[u].push_back(v);
</span></span><span style="display:flex;"><span>    mp[v].push_back(u);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Here, <code>n</code> is the expected length of the restored array, and <code>mp</code> is used to record neighboring relationships from the input pairs.</p>
</li>
<li>
<p><strong>Find the Starting Endpoint</strong>:</p>
<ul>
<li>Identify an element with only one neighbor (an endpoint of the array).</li>
<li>Add this element and its single neighbor to <code>ans</code>, marking the start of the array.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: mp) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(it.second.size() <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>        ans.push_back(it.first);
</span></span><span style="display:flex;"><span>        ans.push_back(it.second[<span style="color:#666">0</span>]);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In this loop, the <code>it.first</code> with only one neighbor <code>it.second[0]</code> is the starting point for the traversal.</p>
</li>
<li>
<p><strong>Traverse and Reconstruct the Array</strong>:</p>
<ul>
<li>Use a <code>while</code> loop to continue expanding the array until it reaches length <code>n</code>.</li>
<li>At each step, find the next element connected to the current last element that has not been visited (tracked by the previous element).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(ans.size() <span style="color:#666">&lt;</span> n) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">auto</span> tail <span style="color:#666">=</span> ans.back(), prv <span style="color:#666">=</span> ans[ans.size() <span style="color:#666">-</span> <span style="color:#666">2</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span>next <span style="color:#666">=</span> mp[tail];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(next[<span style="color:#666">0</span>] <span style="color:#666">!=</span> prv)
</span></span><span style="display:flex;"><span>        ans.push_back(next[<span style="color:#666">0</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>        ans.push_back(next[<span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The loop continues appending elements until the array is fully constructed. It ensures each next element is a new connection not yet added to <code>ans</code>.</p>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<ul>
<li>After the loop, <code>ans</code> contains the original array in the correct order, which is then returned.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: (O(n)), where (n) is the number of pairs in <code>ap</code>. Building the map and traversing the array both take linear time.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: (O(n)) due to the adjacency map and the result vector <code>ans</code>.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently reconstructs the array from the given adjacent pairs by leveraging adjacency information and endpoint detection. Using a map to store neighbors allows efficient access to connections, and by identifying an endpoint, the array can be restored in linear order. This approach ensures accuracy and optimal performance, making it suitable for large input sizes within given constraints.</p>
<p><a href="https://leetcode.com/problems/restore-the-array-from-adjacent-pairs/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/SGfdp6CFDrA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
