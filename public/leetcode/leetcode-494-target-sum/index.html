<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 494: Target Sum | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 494: Target Sum">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 494: Target Sum in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-494-target-sum/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 494: Target Sum">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 494: Target Sum in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Backtracking">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 494: Target Sum</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1163s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/494.webp" 
           alt="A set of numbers being combined to reach a target sum, with each valid combination softly glowing." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 494: Target Sum Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1163s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> nums;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dp</span>(<span style="color:#0b0;font-weight:bold">int</span> target, <span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> nums.size()) <span style="color:#a2f;font-weight:bold">return</span> target <span style="color:#666">==</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(mp.count(target))
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp[target].count(idx)) <span style="color:#a2f;font-weight:bold">return</span> mp[target][idx];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> dp(target <span style="color:#666">-</span> nums[idx], idx <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        res <span style="color:#666">+=</span> dp(target <span style="color:#666">+</span> nums[idx], idx <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> mp[target][idx] <span style="color:#666">=</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">findTargetSumWays</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> target) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">-&gt;</span>nums <span style="color:#666">=</span> nums;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp(target, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to find the number of ways to assign symbols (either <code>+</code> or <code>-</code>) to each number in a given array <code>nums</code> so that the resulting sum equals a target value. This is known as the &ldquo;Target Sum&rdquo; problem. Given an array <code>nums</code> of positive integers and an integer <code>target</code>, the task is to compute how many different ways you can achieve <code>target</code> by assigning either <code>+</code> or <code>-</code> to each element of <code>nums</code>.</p>
<p>For instance, if <code>nums = [1, 1, 1, 1, 1]</code> and <code>target = 3</code>, then there are 5 different ways to assign symbols to reach the target of 3.</p>
<h3 id="approach">Approach</h3>
<p>The solution uses a recursive dynamic programming (DP) approach with memoization. The main idea is to use recursion to try all possible combinations of <code>+</code> and <code>-</code> signs for each element in the array and count the ways that reach the <code>target</code>. By storing previously computed results in a memoization table, we avoid redundant calculations and significantly improve efficiency.</p>
<p>Here’s a breakdown of the approach:</p>
<ol>
<li>
<p><strong>Recursive Decision-Making</strong>:</p>
<ul>
<li>For each number in <code>nums</code>, we make two recursive calls: one that subtracts the current number from the target and another that adds it to the target.</li>
<li>This generates all possible sums using the numbers in <code>nums</code>, with each call exploring a different combination of <code>+</code> and <code>-</code> symbols for each number.</li>
</ul>
</li>
<li>
<p><strong>Memoization to Avoid Redundant Calculations</strong>:</p>
<ul>
<li>A <code>map&lt;int, map&lt;int, int&gt;&gt;</code> structure, <code>mp</code>, is used to store intermediate results. Here, <code>mp[target][idx]</code> represents the number of ways to reach the <code>target</code> with elements starting from the index <code>idx</code> in <code>nums</code>.</li>
<li>If we encounter a subproblem (defined by a specific <code>target</code> and <code>idx</code>) that has already been solved, we retrieve the result from <code>mp</code> instead of recalculating it, reducing the time complexity.</li>
</ul>
</li>
<li>
<p><strong>Base Case</strong>:</p>
<ul>
<li>When we reach the end of the array (<code>idx == nums.size()</code>), we check if the <code>target</code> is zero. If it is, we have found a valid combination, so we return <code>1</code>. Otherwise, we return <code>0</code> to indicate an invalid combination.</li>
</ul>
</li>
<li>
<p><strong>Count the Number of Ways</strong>:</p>
<ul>
<li>The recursive calls accumulate the count of valid combinations that result in the <code>target</code>, and this count is stored in <code>mp[target][idx]</code> for later use.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>The solution code is implemented with a recursive helper function <code>dp</code> and a main function <code>findTargetSumWays</code> that initializes the process.</p>
<ol>
<li>
<p><strong>Member Variables</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> nums;
</span></span></code></pre></div><ul>
<li><code>mp</code> serves as the memoization table, where each <code>target</code> and <code>idx</code> pair stores the computed result for that subproblem.</li>
<li><code>nums</code> stores the input array, allowing it to be accessible in the <code>dp</code> function.</li>
</ul>
</li>
<li>
<p><strong>Recursive Function (<code>dp</code>)</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dp</span>(<span style="color:#0b0;font-weight:bold">int</span> target, <span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> nums.size()) <span style="color:#a2f;font-weight:bold">return</span> target <span style="color:#666">==</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mp.count(target))
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(mp[target].count(idx)) <span style="color:#a2f;font-weight:bold">return</span> mp[target][idx];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> dp(target <span style="color:#666">-</span> nums[idx], idx <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> dp(target <span style="color:#666">+</span> nums[idx], idx <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> mp[target][idx] <span style="color:#666">=</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Base Case</strong>: If <code>idx</code> equals the size of <code>nums</code>, we’ve reached the end of the array. We return <code>1</code> if <code>target</code> is <code>0</code>, indicating a valid combination, and <code>0</code> otherwise.</li>
<li><strong>Memoization Check</strong>: Before performing the recursive calls, we check if <code>mp</code> already contains the result for <code>target</code> and <code>idx</code>. If it does, we return that result directly.</li>
<li><strong>Recursive Calls</strong>: We make two recursive calls:
<ul>
<li>One where the current element is subtracted from <code>target</code>.</li>
<li>Another where the current element is added to <code>target</code>.</li>
</ul>
</li>
<li><strong>Memoization Storage</strong>: The result of both recursive calls is stored in <code>mp[target][idx]</code>.</li>
</ul>
</li>
<li>
<p><strong>Main Function (<code>findTargetSumWays</code>)</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">findTargetSumWays</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> target) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">-&gt;</span>nums <span style="color:#666">=</span> nums;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> dp(target, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Initialization</strong>: <code>nums</code> is assigned to the class variable, making it accessible within the <code>dp</code> function.</li>
<li><strong>Recursive Call</strong>: The main function starts the recursion by calling <code>dp</code> with the initial <code>target</code> and <code>idx = 0</code>, representing the full array.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is approximately <code>O(n * T)</code>, where <code>n</code> is the size of <code>nums</code> and <code>T</code> is the range of possible values for <code>target</code>. The memoization table limits the number of recursive calls, as we reuse results for previously computed subproblems.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is also <code>O(n * T)</code>, accounting for the memoization table that stores intermediate results.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the &ldquo;Target Sum&rdquo; problem by combining recursion with memoization. The approach leverages dynamic programming to avoid redundant calculations, which is particularly useful for problems involving combinatorial choices, as we have here with the <code>+</code> and <code>-</code> signs. This recursive strategy provides an optimal and reliable solution for computing the number of ways to achieve the target sum, demonstrating the power of memoization in reducing the time complexity of recursive solutions.</p>
<p><a href="https://leetcode.com/problems/target-sum/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Rdie0uPp7e8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
