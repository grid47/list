<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 786: K-th Smallest Prime Fraction | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 786: K-th Smallest Prime Fraction">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 786: K-th Smallest Prime Fraction in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-786-k-th-smallest-prime-fraction/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 786: K-th Smallest Prime Fraction">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 786: K-th Smallest Prime Fraction in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 786: K-th Smallest Prime Fraction</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1305s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/786.webp" 
           alt="A set of fractions where the kth smallest prime fraction is found, glowing softly as it is identified." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 786: K-th Smallest Prime Fraction Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1305s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> kthSmallestPrimeFraction(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> arr.size();
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span>, pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span>, pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        pq.push(make_pair(<span style="color:#666">-</span><span style="color:#666">1.0</span><span style="color:#666">*</span>arr[i]<span style="color:#666">/</span>arr[n <span style="color:#666">-</span> <span style="color:#666">1</span>], make_pair(i, n <span style="color:#666">-</span> <span style="color:#666">1</span>)));
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> i, j;        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(k<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> p <span style="color:#666">=</span> pq.top().second; pq.pop();
</span></span><span style="display:flex;"><span>            i <span style="color:#666">=</span> p.first;
</span></span><span style="display:flex;"><span>            j <span style="color:#666">=</span> p.second;
</span></span><span style="display:flex;"><span>            pq.push(make_pair(<span style="color:#666">-</span><span style="color:#666">1.0</span><span style="color:#666">*</span>arr[i]<span style="color:#666">/</span>arr[j<span style="color:#666">-</span><span style="color:#666">1</span>], make_pair(i, j <span style="color:#666">-</span> <span style="color:#666">1</span>)));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>{arr[i], arr[j]};
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the <strong>k-th smallest fraction</strong> that can be formed by taking two numbers from a sorted array <code>arr</code>. The numerator of the fraction is an element of the array, and the denominator is another element of the array, such that the numerator is less than the denominator. Given a sorted array <code>arr</code> of distinct integers, and an integer <code>k</code>, we are to return the <strong>k-th smallest fraction</strong> from all possible fractions that can be formed.</p>
<h3 id="approach">Approach</h3>
<p>This problem requires us to identify and retrieve the k-th smallest fraction from all possible combinations of elements in the array. A brute-force approach where we generate all possible pairs of fractions and sort them would be inefficient, especially for larger arrays. Instead, we use a <strong>priority queue (min-heap)</strong> approach to efficiently keep track of the smallest fractions.</p>
<p>The solution works by maintaining a priority queue (min-heap) that stores fractions along with the indices of the array elements involved in forming those fractions. The priority queue allows us to efficiently retrieve the smallest fraction at each step. After retrieving a fraction, the algorithm pushes the next fraction in sequence into the heap, ensuring that we keep track of only the next smallest fractions.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s break down the code step by step to understand how it works:</p>
<ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>The function accepts two inputs: a sorted array <code>arr</code> and an integer <code>k</code>.</li>
<li><code>n</code> is set to the size of the array <code>arr</code>.</li>
<li>We initialize a <strong>priority queue</strong> (<code>pq</code>) that will hold pairs of the form <code>(fraction value, (numerator index, denominator index))</code>. This queue is used to store fractions and allows us to always retrieve the smallest fraction efficiently.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> arr.size();
</span></span><span style="display:flex;"><span>priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span>, pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span>, pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;&gt;</span> pq;
</span></span></code></pre></div></li>
<li>
<p><strong>Filling the Priority Queue</strong>:</p>
<ul>
<li>We loop through the array to create an initial set of fractions where each fraction is formed by dividing the current element (<code>arr[i]</code>) by the last element (<code>arr[n - 1]</code>), ensuring that the fraction is of the form <code>arr[i] / arr[n-1]</code>.</li>
<li>The priority queue is populated with these fractions, and each fraction is represented by the value of the fraction and the indices <code>(i, n-1)</code>. The priority queue is sorted in descending order, meaning the fraction with the smallest value will always be at the top.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    pq.push(make_pair(<span style="color:#666">-</span><span style="color:#666">1.0</span> <span style="color:#666">*</span> arr[i] <span style="color:#666">/</span> arr[n <span style="color:#666">-</span> <span style="color:#666">1</span>], make_pair(i, n <span style="color:#666">-</span> <span style="color:#666">1</span>)));
</span></span></code></pre></div></li>
<li>
<p><strong>Extracting k-th Smallest Fraction</strong>:</p>
<ul>
<li>The main loop runs <code>k</code> times, each time extracting the fraction at the top of the priority queue (the smallest one), and then pushing the next fraction that can be formed by using the numerator at index <code>i</code> and the next possible denominator <code>arr[j-1]</code>, where <code>j</code> is the second element of the pair.</li>
<li>The pair <code>(i, j)</code> represents the indices of the fraction. After extracting the smallest fraction, we push a new fraction formed by <code>arr[i]</code> and <code>arr[j-1]</code> into the priority queue.</li>
<li>We continue this until we pop the k-th smallest fraction from the heap.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> i, j;        
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(k<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">auto</span> p <span style="color:#666">=</span> pq.top().second; pq.pop();
</span></span><span style="display:flex;"><span>    i <span style="color:#666">=</span> p.first;
</span></span><span style="display:flex;"><span>    j <span style="color:#666">=</span> p.second;
</span></span><span style="display:flex;"><span>    pq.push(make_pair(<span style="color:#666">-</span><span style="color:#666">1.0</span> <span style="color:#666">*</span> arr[i] <span style="color:#666">/</span> arr[j <span style="color:#666">-</span> <span style="color:#666">1</span>], make_pair(i, j <span style="color:#666">-</span> <span style="color:#666">1</span>)));
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Returning the Result</strong>:</p>
<ul>
<li>After <code>k</code> iterations, the fraction at the top of the priority queue is the k-th smallest fraction.</li>
<li>The result is a vector containing the two elements forming the k-th smallest fraction, i.e., the numerator <code>arr[i]</code> and the denominator <code>arr[j]</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>{arr[i], arr[j]};
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The main time complexity comes from maintaining and updating the priority queue. Inserting an element into a priority queue takes <strong>O(log m)</strong> time, where <code>m</code> is the number of elements in the priority queue.</li>
<li>Initially, we insert <code>n</code> elements into the priority queue (one for each <code>i</code> from <code>0</code> to <code>n-1</code>). After that, we perform <code>k</code> pop and push operations. Each pop and push operation takes <strong>O(log n)</strong> time since there are at most <code>n</code> elements in the priority queue at any given time.</li>
<li>Therefore, the time complexity is <strong>O(n log n + k log n)</strong>. The <code>n log n</code> term comes from the initial filling of the priority queue, and <code>k log n</code> comes from processing the top <code>k</code> smallest fractions.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is <strong>O(n)</strong>, as we store at most <code>n</code> elements in the priority queue at any given time. The space required for the output vector is negligible in comparison to the priority queue.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently finds the <strong>k-th smallest fraction</strong> using a <strong>priority queue (min-heap)</strong>. By leveraging the heap&rsquo;s properties, we can efficiently retrieve the smallest fractions without needing to sort all possible fractions, which makes this approach much more efficient than a brute-force method. The use of the priority queue ensures that we only need to keep track of the smallest fractions, reducing unnecessary computation and making the solution scalable for larger inputs.</p>
<p>This algorithm is optimal for solving problems involving ordered or sorted data where we need to find specific elements in the sequence, such as the k-th smallest item. It&rsquo;s a perfect example of how data structures like priority queues can help us tackle problems efficiently, even when dealing with large datasets. The approach is both time and space efficient, making it well-suited for practical applications where performance is a priority.</p>
<p>In summary, this approach provides a clean, optimal solution to the problem by making use of heap properties to keep track of the smallest fractions efficiently, offering a significant performance improvement over naive methods.</p>
<p><a href="https://leetcode.com/problems/k-th-smallest-prime-fraction/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/sJdJTXhxqjo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
