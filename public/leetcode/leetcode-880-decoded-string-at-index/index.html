<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 880: Decoded String at Index | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 880: Decoded String at Index">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 880: Decoded String at Index in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-880-decoded-string-at-index/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 880: Decoded String at Index">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 880: Decoded String at Index in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 880: Decoded String at Index</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1369s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string decodeAtIndex(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> N <span style="color:#666">=</span> <span style="color:#666">0</span>, i;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(i <span style="color:#666">=</span> <span style="color:#666">0</span>; N <span style="color:#666">&lt;</span> k; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            N <span style="color:#666">=</span> isdigit(s[i])<span style="color:#666">?</span> (s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>) <span style="color:#666">*</span> <span style="color:#a0a000">N</span>: N <span style="color:#666">+</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(isdigit(s[i])) {
</span></span><span style="display:flex;"><span>                N <span style="color:#666">/=</span> (s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>                k <span style="color:#666">%=</span> N;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (k <span style="color:#666">%</span> N<span style="color:#666">--</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">return</span> string(<span style="color:#666">1</span>, s[i]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b44">&#34;hello yasir&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to decode a string <code>s</code> and find the character at the <code>k</code>-th position of the decoded string. The string <code>s</code> consists of letters and digits. Each digit <code>x</code> in the string represents a repetition of the preceding substring <code>x</code> times. Our task is to determine the character at the <code>k</code>-th position of the fully decoded string without fully decoding it, which could result in a large memory footprint.</p>
<p>For example, given <code>s = &quot;leet2code3&quot;</code>, the decoded string would be <code>&quot;leetleetcodeleetcode&quot;</code>. If <code>k = 10</code>, the character at the 10th position is <code>&quot;o&quot;</code>, and that is what we should return.</p>
<h3 id="approach">Approach</h3>
<p>The challenge in this problem is to avoid fully decoding the string since it can become very large, especially if the string contains large numbers. Instead of building the entire decoded string, we simulate the decoding process using the length of the decoded string. We maintain a running total of the length of the string as it would be after decoding. This allows us to find the <code>k</code>-th character without ever explicitly constructing the decoded string.</p>
<p>We employ the following approach:</p>
<ol>
<li>
<p><strong>Calculate the total length of the decoded string</strong>:
First, we iterate over the string <code>s</code> to calculate the total length <code>N</code> of the decoded string. During this pass, we handle characters and digits accordingly:</p>
<ul>
<li>If the character is a letter, we increment the length by 1 (since letters are added as is).</li>
<li>If the character is a digit, it means the previous substring is repeated <code>x</code> times, and we multiply the current length <code>N</code> by this digit.</li>
</ul>
</li>
<li>
<p><strong>Backtrack to find the k-th character</strong>:
Once we have the total length <code>N</code>, we start from the end of the string and backtrack:</p>
<ul>
<li>If the current character is a digit, it means we have just encountered a repetition. We divide the length <code>N</code> by the digit and update <code>k</code> as <code>k % N</code> (this effectively reduces the position relative to the new size of the current substring).</li>
<li>If the character is a letter, we check if it corresponds to the <code>k</code>-th position in the string. If <code>k % N == 0</code>, this means we have found the position, and we return the character.</li>
</ul>
</li>
<li>
<p><strong>Edge Cases</strong>:</p>
<ul>
<li>If the string does not contain any digits, the problem simplifies, and we can directly access the <code>k</code>-th character in the string.</li>
<li>If <code>k</code> is larger than the total length of the decoded string, we continue adjusting <code>k</code> as we backtrack until we reach the correct position.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here is a step-by-step breakdown of the code implementation:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string decodeAtIndex(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> N <span style="color:#666">=</span> <span style="color:#666">0</span>, i;  <span style="color:#080;font-style:italic">// Initialize the total length of the decoded string (N) and index (i)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Calculate the total length of the decoded string
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(i <span style="color:#666">=</span> <span style="color:#666">0</span>; N <span style="color:#666">&lt;</span> k; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (isdigit(s[i])) {  <span style="color:#080;font-style:italic">// If the current character is a digit
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                N <span style="color:#666">=</span> (s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>) <span style="color:#666">*</span> N;  <span style="color:#080;font-style:italic">// Multiply the total length by the digit (repetition factor)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                N <span style="color:#666">+=</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// If the character is a letter, increase the length by 1
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Backtrack to find the k-th character
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">while</span>(i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(isdigit(s[i])) {  <span style="color:#080;font-style:italic">// If the current character is a digit
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                N <span style="color:#666">/=</span> (s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>);  <span style="color:#080;font-style:italic">// Reduce the total length by dividing by the repetition factor
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                k <span style="color:#666">%=</span> N;  <span style="color:#080;font-style:italic">// Update the position of k relative to the reduced length
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (k <span style="color:#666">%</span> N<span style="color:#666">--</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {  <span style="color:#080;font-style:italic">// If the character is a letter and k corresponds to the position
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                <span style="color:#a2f;font-weight:bold">return</span> string(<span style="color:#666">1</span>, s[i]);  <span style="color:#080;font-style:italic">// Return the letter as the result
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b44">&#34;hello yasir&#34;</span>;  <span style="color:#080;font-style:italic">// Default return (should not reach here for valid input)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Let&rsquo;s break down the key sections:</p>
<ol>
<li>
<p><strong>Initial Setup and Loop for Total Length Calculation</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(i <span style="color:#666">=</span> <span style="color:#666">0</span>; N <span style="color:#666">&lt;</span> k; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    N <span style="color:#666">=</span> isdigit(s[i]) <span style="color:#666">?</span> (s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>) <span style="color:#666">*</span> <span style="color:#a0a000">N</span> : N <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><p>This loop runs until the total length <code>N</code> of the decoded string is at least <code>k</code>. As it processes the string <code>s</code>:</p>
<ul>
<li>If the character <code>s[i]</code> is a digit, we multiply the current total length <code>N</code> by the value of the digit. This simulates the effect of repeating the previous part of the string.</li>
<li>If it&rsquo;s a letter, we simply increment the total length <code>N</code> by 1.</li>
</ul>
</li>
<li>
<p><strong>Backtracking to Find the k-th Character</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(isdigit(s[i])) {
</span></span><span style="display:flex;"><span>        N <span style="color:#666">/=</span> (s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>        k <span style="color:#666">%=</span> N;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (k <span style="color:#666">%</span> N<span style="color:#666">--</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> string(<span style="color:#666">1</span>, s[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>After calculating the total decoded length <code>N</code>, we backtrack through the string:</p>
<ul>
<li>If the current character is a digit, it means we&rsquo;re in a repeated section. We divide <code>N</code> by the digit to simulate reducing the length of the substring.</li>
<li>We update <code>k</code> by taking <code>k % N</code>, which gives the relative position within the current substring.</li>
<li>If the current character is a letter and <code>k % N == 0</code>, it means the current character is at the <code>k</code>-th position in the decoded string, and we return it.</li>
</ul>
</li>
<li>
<p><strong>Final Return</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b44">&#34;hello yasir&#34;</span>;
</span></span></code></pre></div><p>This line is effectively a fallback in case of unexpected behavior, though it should never be hit given valid input.</p>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li><strong>O(n)</strong> where <code>n</code> is the length of the string <code>s</code>. We traverse the string twice: once to calculate the total decoded length and once to backtrack and find the k-th character. Both passes are linear in terms of the number of characters in <code>s</code>.</li>
</ul>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li><strong>O(1)</strong>. We only use a few variables for tracking the length and the current position in the string. There is no additional space used that grows with the size of the input.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution is highly efficient for finding the k-th character in a potentially very large decoded string without explicitly decoding the entire string. By simulating the decoding process using the total length and backtracking, we manage to determine the correct character in an optimal manner. This approach works particularly well when the string contains large repetition factors, making it ideal for solving large-scale problems in a time-efficient way.</p>
<p><a href="https://leetcode.com/problems/decoded-string-at-index/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
