<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1589: Maximum Sum Obtained of Any Permutation | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1589: Maximum Sum Obtained of Any Permutation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1589: Maximum Sum Obtained of Any Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1589-maximum-sum-obtained-of-any-permutation/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1589: Maximum Sum Obtained of Any Permutation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1589: Maximum Sum Obtained of Any Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1589: Maximum Sum Obtained of Any Permutation</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode285s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxSumRangeQuery(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> req) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> cnt(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">r</span>: req) {
</span></span><span style="display:flex;"><span>            cnt[r[<span style="color:#666">0</span>]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(r[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&lt;</span> n)
</span></span><span style="display:flex;"><span>                cnt[r[<span style="color:#666">1</span>] <span style="color:#666">+</span><span style="color:#666">1</span>]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            cnt[i] <span style="color:#666">+=</span> cnt[i <span style="color:#666">-</span><span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>        sort(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>        sort(cnt.begin(), cnt.end());
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span>  ((<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>) nums[i] <span style="color:#666">*</span> cnt[i]);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res <span style="color:#666">%</span> <span style="color:#666">1000000007</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand requires us to calculate the maximum sum of values from a given array based on specified range queries. Each query indicates a range of indices within the array, and our goal is to find an optimal arrangement of contributions from these values in a way that maximizes the total sum.</p>
<h3 id="approach">Approach</h3>
<p>To achieve this, we will take the following steps:</p>
<ol>
<li>
<p><strong>Count Contributions</strong>: For each query, we will determine how many times each index in the <code>nums</code> array is included in the specified ranges.</p>
</li>
<li>
<p><strong>Cumulative Count</strong>: Using a technique similar to a prefix sum array, we will derive the total contributions for each index from the range queries.</p>
</li>
<li>
<p><strong>Sorting</strong>: To maximize the sum, we will sort both the <code>nums</code> array and the cumulative contribution counts in descending order.</p>
</li>
<li>
<p><strong>Calculate Maximum Sum</strong>: By multiplying the values from the sorted <code>nums</code> array with the sorted contribution counts, we can find the maximum possible sum from the ranges.</p>
</li>
<li>
<p><strong>Modulo Operation</strong>: Since the result could be large, we will return it modulo (10^9 + 7).</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Letâ€™s go through the code and explain its functionality in detail:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxSumRangeQuery(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> req) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(); <span style="color:#080;font-style:italic">// Get the size of the nums array
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Initialize the result variable to store the maximum sum
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> cnt(n, <span style="color:#666">0</span>); <span style="color:#080;font-style:italic">// Create a count array initialized to zero
</span></span></span></code></pre></div><ul>
<li><strong>Initialization</strong>: We begin by initializing the result variable <code>res</code> to store the cumulative sum. The <code>cnt</code> array will track how many times each index of <code>nums</code> contributes to the total sum as determined by the queries.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">r</span>: req) { <span style="color:#080;font-style:italic">// Loop through each range query
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            cnt[r[<span style="color:#666">0</span>]]<span style="color:#666">++</span>; <span style="color:#080;font-style:italic">// Increment the start of the range
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">if</span>(r[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&lt;</span> n) <span style="color:#080;font-style:italic">// Check if the end of the range exceeds the array bounds
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                cnt[r[<span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>]<span style="color:#666">--</span>; <span style="color:#080;font-style:italic">// Decrement the position after the end of the range
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span></code></pre></div><ul>
<li><strong>Counting Contributions</strong>: For each query, we increment the start index and decrement the index just after the end of the range. This marks the beginning and end of the contributions for that query.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) <span style="color:#080;font-style:italic">// Convert the count array to cumulative counts
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            cnt[i] <span style="color:#666">+=</span> cnt[i <span style="color:#666">-</span> <span style="color:#666">1</span>]; <span style="color:#080;font-style:italic">// Accumulate counts to get total contributions for each index
</span></span></span></code></pre></div><ul>
<li><strong>Cumulative Count Calculation</strong>: Here, we transform the <code>cnt</code> array into a cumulative count. This means that each index now holds the total number of times it was included across all range queries.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        sort(nums.begin(), nums.end()); <span style="color:#080;font-style:italic">// Sort the nums array in ascending order
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        sort(cnt.begin(), cnt.end()); <span style="color:#080;font-style:italic">// Sort the count array in ascending order
</span></span></span></code></pre></div><ul>
<li><strong>Sorting Arrays</strong>: We sort both the <code>nums</code> array and the cumulative count array. Sorting ensures that we can maximize the sum when we multiply the largest contributions with the largest numbers.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) <span style="color:#080;font-style:italic">// Calculate the maximum sum
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            res <span style="color:#666">+=</span> ((<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>) nums[i] <span style="color:#666">*</span> cnt[i]); <span style="color:#080;font-style:italic">// Multiply corresponding elements from nums and cnt
</span></span></span></code></pre></div><ul>
<li><strong>Calculating the Maximum Sum</strong>: In this loop, we multiply the corresponding elements of the sorted <code>nums</code> and <code>cnt</code> arrays. The result is accumulated into the <code>res</code> variable.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res <span style="color:#666">%</span> <span style="color:#666">1000000007</span>; <span style="color:#080;font-style:italic">// Return the result modulo 10^9 + 7
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Final Return</strong>: Finally, we return the result modulo (10^9 + 7) to ensure that we handle large sums correctly.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this algorithm is (O(n + k \log k)), where (n) is the size of the <code>nums</code> array and (k) is the number of queries. The most time-consuming steps are the sorting operations which each take (O(k \log k)).</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the additional count array used for tracking contributions.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution efficiently calculates the maximum sum of contributions from the <code>nums</code> array based on the specified range queries. By leveraging cumulative counts and sorting, we ensure that we maximize the sum effectively.</p>
<p>This approach showcases a clever use of array manipulation and sorting techniques to derive an optimal solution for a problem that could otherwise involve more complex and computationally expensive operations.</p>
<p>In summary, this algorithm effectively addresses the problem by:</p>
<ul>
<li>Utilizing a counting technique to handle overlapping ranges.</li>
<li>Transforming the count into a cumulative format to easily manage contributions.</li>
<li>Employing sorting to ensure maximum contributions align with the largest values.</li>
</ul>
<p>This method is robust and can handle various input sizes, making it suitable for competitive programming and applications where performance is crucial.</p>
<p><a href="https://leetcode.com/problems/maximum-sum-obtained-of-any-permutation/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/TyZ_FFGIZgs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
