<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2483: Minimum Penalty for a Shop | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2483: Minimum Penalty for a Shop">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2483: Minimum Penalty for a Shop in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2483-minimum-penalty-for-a-shop/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2483: Minimum Penalty for a Shop">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2483: Minimum Penalty for a Shop in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2483: Minimum Penalty for a Shop</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode788s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> bestClosingTime(string a) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> s <span style="color:#666">=</span> a.size();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> y,n;
</span></span><span style="display:flex;"><span>        y.push_back(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        n.push_back(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(a[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;N&#39;</span>) cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            n.push_back(cnt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> s <span style="color:#666">-</span><span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(a[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;Y&#39;</span>) cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            y.push_back(cnt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        reverse (y.begin(), y.end());
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> INT_MAX, ind <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s <span style="color:#666">+</span><span style="color:#666">1</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> h <span style="color:#666">=</span> n[i] <span style="color:#666">+</span> y[i];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(h<span style="color:#666">&lt;</span>ans) {
</span></span><span style="display:flex;"><span>                ans <span style="color:#666">=</span> h;
</span></span><span style="display:flex;"><span>                ind <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ind;        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<p>The provided code is a solution to a problem where we are asked to determine the best time to close a shop, such that the total number of customers left outside the shop (in the &ldquo;N&rdquo; state) is minimized, given a string representing customer states during each hour of operation.</p>
<p>Let’s break down the problem, approach, and the code step-by-step to understand how the solution works and how to derive its time and space complexities. This breakdown will be useful for any programmer aiming to optimize or understand such algorithms in a more structured manner.</p>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given a string <code>a</code> consisting of characters &lsquo;Y&rsquo; and &lsquo;N&rsquo;, where each character represents the state of a customer at an hour of the day:</p>
<ul>
<li>&lsquo;Y&rsquo; means the customer has already entered the shop.</li>
<li>&lsquo;N&rsquo; means the customer has not yet entered the shop.</li>
</ul>
<p>The goal is to determine the best hour to close the shop such that the total number of customers left outside (those in the &lsquo;N&rsquo; state) is minimized. The shop can be closed at any hour, and we need to calculate how many customers would remain outside for each possible closing time.</p>
<p>The solution must:</p>
<ul>
<li>Account for how many customers are inside (<code>'Y'</code>).</li>
<li>Account for how many customers are outside (<code>'N'</code>).</li>
<li>Find the optimal closing time that minimizes the total number of customers left outside.</li>
</ul>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can utilize the following strategy:</p>
<ol>
<li>
<p><strong>Count customers outside (&lsquo;N&rsquo;) before closing time</strong>: As we scan the string from left to right, we need to keep track of how many customers are still in the &lsquo;N&rsquo; state. This will help us determine the number of customers left outside at any given closing time.</p>
</li>
<li>
<p><strong>Count customers inside (&lsquo;Y&rsquo;) after closing time</strong>: As we scan the string from right to left, we need to keep track of how many customers have entered the shop (the &lsquo;Y&rsquo; state) after a given closing hour.</p>
</li>
<li>
<p><strong>Combine the counts</strong>: For each possible closing time, calculate the total number of customers left outside (those who are &lsquo;N&rsquo; before the closing time and those who are &lsquo;Y&rsquo; after the closing time).</p>
</li>
<li>
<p><strong>Minimize the total</strong>: The objective is to minimize the sum of customers left outside. Hence, we need to find the closing time that results in the minimum sum.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s break down the solution code in more detail:</p>
<h4 id="1-initialization-and-variable-setup">1. <strong>Initialization and Variable Setup</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> s <span style="color:#666">=</span> a.size();
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> y, n;
</span></span><span style="display:flex;"><span>y.push_back(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>n.push_back(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>s</code> stores the size of the input string <code>a</code>, which represents the state of the customers at each hour.</li>
<li>Two vectors <code>y</code> and <code>n</code> are initialized to store the cumulative counts of customers who have entered (<code>'Y'</code>) and the cumulative counts of customers who have not entered (<code>'N'</code>).</li>
<li>The vector <code>y</code> keeps track of the count of &lsquo;Y&rsquo; customers from right to left, and <code>n</code> tracks the count of &lsquo;N&rsquo; customers from left to right.</li>
</ul>
<h4 id="2-count-the-n-customers-from-left-to-right">2. <strong>Count the &lsquo;N&rsquo; Customers from Left to Right</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(a[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;N&#39;</span>) cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    n.push_back(cnt);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We iterate over the string <code>a</code> from left to right.</li>
<li>Each time we encounter an &lsquo;N&rsquo;, we increment the <code>cnt</code> (counter for &lsquo;N&rsquo; customers).</li>
<li>The cumulative count of &lsquo;N&rsquo; customers is stored in the <code>n</code> vector, so <code>n[i]</code> represents the number of &lsquo;N&rsquo; customers up to and including hour <code>i</code>.</li>
</ul>
<h4 id="3-count-the-y-customers-from-right-to-left">3. <strong>Count the &lsquo;Y&rsquo; Customers from Right to Left</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> s <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(a[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;Y&#39;</span>) cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    y.push_back(cnt);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>After counting the &lsquo;N&rsquo; customers, we reset the counter <code>cnt</code> to 0 and begin iterating over the string from right to left.</li>
<li>For each &lsquo;Y&rsquo; encountered, we increment the <code>cnt</code> (counter for &lsquo;Y&rsquo; customers).</li>
<li>The cumulative count of &lsquo;Y&rsquo; customers is stored in the <code>y</code> vector, so <code>y[i]</code> represents the number of &lsquo;Y&rsquo; customers from hour <code>i</code> onward.</li>
</ul>
<h4 id="4-reverse-the-y-vector">4. <strong>Reverse the &lsquo;Y&rsquo; Vector</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>reverse (y.begin(), y.end());
</span></span></code></pre></div><ul>
<li>After the loop, the <code>y</code> vector contains the counts of &lsquo;Y&rsquo; customers from right to left. To use it effectively in subsequent calculations, we reverse the vector so that it represents the count of &lsquo;Y&rsquo; customers from left to right.</li>
</ul>
<h4 id="5-calculate-the-best-closing-time">5. <strong>Calculate the Best Closing Time</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> INT_MAX, ind <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> h <span style="color:#666">=</span> n[i] <span style="color:#666">+</span> y[i];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(h <span style="color:#666">&lt;</span> ans) {
</span></span><span style="display:flex;"><span>        ans <span style="color:#666">=</span> h;
</span></span><span style="display:flex;"><span>        ind <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ind;
</span></span></code></pre></div><ul>
<li>We initialize <code>ans</code> to store the minimum number of customers left outside, and <code>ind</code> to store the index of the optimal closing time.</li>
<li>We iterate through each possible closing time (from hour 0 to hour <code>s</code>), where <code>i</code> represents the closing time index.</li>
<li>For each closing time <code>i</code>, the total number of customers left outside is the sum of:
<ul>
<li><code>n[i]</code>: the number of &lsquo;N&rsquo; customers before hour <code>i</code>.</li>
<li><code>y[i]</code>: the number of &lsquo;Y&rsquo; customers from hour <code>i</code> onward.</li>
</ul>
</li>
<li>If the sum <code>h</code> is less than the current <code>ans</code>, we update <code>ans</code> and set <code>ind</code> to the current closing time <code>i</code>.</li>
<li>Finally, we return <code>ind</code>, which is the optimal closing time.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity of this solution is <strong>O(s)</strong>, where <code>s</code> is the length of the string <code>a</code>. This is because:
<ul>
<li>We scan through the string once to count &lsquo;N&rsquo; customers and once more to count &lsquo;Y&rsquo; customers.</li>
<li>The final loop over the closing times also runs <code>s + 1</code> times, which is still <strong>O(s)</strong>.</li>
</ul>
</li>
</ul>
<p>Thus, the overall time complexity is <strong>O(s)</strong>.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(s)</strong> because we use two vectors <code>y</code> and <code>n</code>, each of size <code>s + 1</code>, to store the cumulative counts.</li>
</ul>
<p>Thus, the overall space complexity is <strong>O(s)</strong>.</p>
<h3 id="conclusion">Conclusion</h3>
<p>The given solution efficiently calculates the optimal closing time for the shop by utilizing two vectors to store the cumulative counts of &lsquo;N&rsquo; and &lsquo;Y&rsquo; customers. The code&rsquo;s time and space complexities are both linear, making it a scalable solution for large input sizes.</p>
<p><a href="https://leetcode.com/problems/minimum-penalty-for-a-shop/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/0d7ShRoOFVE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
