<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1590: Make Sum Divisible by P | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1590: Make Sum Divisible by P">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1590: Make Sum Divisible by P in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1590-make-sum-divisible-by-p/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1590: Make Sum Divisible by P">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1590: Make Sum Divisible by P in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1590: Make Sum Divisible by P</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode286s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> minSubarray(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> p) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        mp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(), res <span style="color:#666">=</span> n, cur <span style="color:#666">=</span> <span style="color:#666">0</span>, need <span style="color:#666">=</span> <span style="color:#666">0</span>, want <span style="color:#666">=</span> <span style="color:#666">0</span>;   
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">a</span> : nums)
</span></span><span style="display:flex;"><span>            need <span style="color:#666">=</span> (need <span style="color:#666">+</span> a) <span style="color:#666">%</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> (cur <span style="color:#666">+</span> nums[i]) <span style="color:#666">%</span> p;
</span></span><span style="display:flex;"><span>            mp[cur] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>            want <span style="color:#666">=</span> (cur <span style="color:#666">-</span> need <span style="color:#666">+</span> p) <span style="color:#666">%</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (mp.count(want))
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> min(res, i <span style="color:#666">-</span> mp[want]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res <span style="color:#666">&lt;</span> n<span style="color:#666">?</span> <span style="color:#a0a000">res</span> : <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves finding the minimum length of a subarray in an array <code>nums</code> such that when the sum of its elements is removed from the array, the remaining elements&rsquo; sum is divisible by a given integer <code>p</code>. If no such subarray exists, we should return -1.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we will utilize the concept of prefix sums and hash maps. The steps are as follows:</p>
<ol>
<li>
<p><strong>Calculate the Total Remainder</strong>: First, we compute the total sum of the array <code>nums</code> modulo <code>p</code>. This will give us the remainder that needs to be compensated by removing a subarray.</p>
</li>
<li>
<p><strong>Use a Hash Map to Track Prefix Remainders</strong>: As we iterate through the array, we will maintain a running sum and track the indices of the remainders we encounter. This will allow us to find subarrays that can adjust the total sum to be divisible by <code>p</code>.</p>
</li>
<li>
<p><strong>Calculate the Required Remainder</strong>: For each element in the array, we calculate what the required remainder would be if we were to remove the current subarray. If this required remainder has been seen before, we can determine the length of the subarray to remove.</p>
</li>
<li>
<p><strong>Find the Minimum Length</strong>: Throughout the iteration, we will keep track of the minimum length of valid subarrays that can be removed.</p>
</li>
<li>
<p><strong>Return the Result</strong>: If we found valid subarrays, we return the minimum length; otherwise, we return -1.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s delve into the code to understand its workings in detail:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> minSubarray(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> p) {
</span></span></code></pre></div><ul>
<li><strong>Class and Method Declaration</strong>: We define the <code>Solution</code> class and the method <code>minSubarray</code>, which takes a vector of integers <code>nums</code> and an integer <code>p</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp; <span style="color:#080;font-style:italic">// Map to store the last occurrence of each prefix sum remainder
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        mp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Initialize with the case where the prefix sum is zero
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(), res <span style="color:#666">=</span> n, cur <span style="color:#666">=</span> <span style="color:#666">0</span>, need <span style="color:#666">=</span> <span style="color:#666">0</span>, want <span style="color:#666">=</span> <span style="color:#666">0</span>;   
</span></span></code></pre></div><ul>
<li><strong>Initialization</strong>: We initialize a hash map <code>mp</code> to track the indices of the last occurrences of each remainder. We set <code>mp[0]</code> to -1 to handle cases where removing a prefix subarray is possible. We also define variables for the size of the array <code>n</code>, the result <code>res</code> initialized to <code>n</code>, and variables for the current prefix sum <code>cur</code>, the total remainder needed <code>need</code>, and the desired remainder <code>want</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">a</span> : nums)
</span></span><span style="display:flex;"><span>            need <span style="color:#666">=</span> (need <span style="color:#666">+</span> a) <span style="color:#666">%</span> p; <span style="color:#080;font-style:italic">// Calculate the total remainder needed from the full array
</span></span></span></code></pre></div><ul>
<li><strong>Calculating Total Remainder</strong>: We iterate through the <code>nums</code> array and accumulate the total sum modulo <code>p</code> to determine the remainder <code>need</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> (cur <span style="color:#666">+</span> nums[i]) <span style="color:#666">%</span> p; <span style="color:#080;font-style:italic">// Update the current prefix sum remainder
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            mp[cur] <span style="color:#666">=</span> i; <span style="color:#080;font-style:italic">// Store the current index of this remainder
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            want <span style="color:#666">=</span> (cur <span style="color:#666">-</span> need <span style="color:#666">+</span> p) <span style="color:#666">%</span> p; <span style="color:#080;font-style:italic">// Calculate the required remainder to adjust the sum
</span></span></span></code></pre></div><ul>
<li><strong>Iterating Through the Array</strong>: We loop through the <code>nums</code> array. In each iteration, we update the current prefix sum <code>cur</code>, store its last occurrence in the map, and compute the required remainder <code>want</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (mp.count(want))
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> min(res, i <span style="color:#666">-</span> mp[want]); <span style="color:#080;font-style:italic">// If the required remainder exists, calculate the minimum length
</span></span></span></code></pre></div><ul>
<li><strong>Checking for Valid Subarrays</strong>: We check if the <code>want</code> remainder exists in our map. If it does, we calculate the length of the subarray from the last occurrence of <code>want</code> to the current index <code>i</code>, and we update <code>res</code> if this length is smaller than the previous minimum.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res <span style="color:#666">&lt;</span> n <span style="color:#666">?</span> <span style="color:#a0a000">res</span> : <span style="color:#666">-</span><span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Return the minimum length found, or -1 if no valid subarray exists
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Final Return Statement</strong>: After iterating through the array, we check if a valid subarray length was found. If <code>res</code> is less than <code>n</code>, it indicates that we found a valid subarray, so we return its length; otherwise, we return -1.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this algorithm is (O(n)), where (n) is the number of elements in the <code>nums</code> array. This is due to the single pass through the array and the average constant time complexity of operations on the hash map.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(p)), where (p) is the modulus value. This space is required to store the remainder indices in the hash map.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently finds the minimum length of a subarray whose removal allows the sum of the remaining elements to be divisible by a specified integer <code>p</code>.</p>
<p>Key takeaways from this solution include:</p>
<ul>
<li><strong>Utilization of Prefix Sums</strong>: By maintaining a running total and its remainder, we can dynamically adjust our search for valid subarrays.</li>
<li><strong>Hash Map for Quick Lookups</strong>: The use of a hash map allows for quick access to previously encountered remainders, making it easy to compute the necessary lengths of potential subarrays to remove.</li>
<li><strong>Modular Arithmetic</strong>: The problem leverages modular arithmetic to handle the condition of divisibility efficiently.</li>
</ul>
<p>This algorithm is both efficient and elegant, making it well-suited for scenarios requiring quick calculations involving subarrays and conditions on their sums. The clear structure and logic provide a robust framework for tackling similar problems in array manipulation and mathematical constraints.</p>
<p><a href="https://leetcode.com/problems/make-sum-divisible-by-p/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/tZXsLAyE0SE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
