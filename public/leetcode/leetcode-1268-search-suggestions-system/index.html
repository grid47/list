<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1268: Search Suggestions System | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1268: Search Suggestions System">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1268: Search Suggestions System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1268-search-suggestions-system/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1268: Search Suggestions System">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1268: Search Suggestions System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Trie">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1268: Search Suggestions System</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode128s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> suggestedProducts(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> A, string w) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> A.begin();
</span></span><span style="display:flex;"><span>        sort(it, A.end());
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> res;
</span></span><span style="display:flex;"><span>        string cur <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">char</span> <span style="color:#a0a000">c</span> : w) {
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">+=</span> c;
</span></span><span style="display:flex;"><span>            vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> sdg;
</span></span><span style="display:flex;"><span>            it <span style="color:#666">=</span> lower_bound(it, A.end(), cur);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">3</span> <span style="color:#666">&amp;&amp;</span> (it <span style="color:#666">+</span> i) <span style="color:#666">!=</span> A.end(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>        string<span style="color:#666">&amp;</span> s <span style="color:#666">=</span> <span style="color:#666">*</span>(i <span style="color:#666">+</span> it);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(s.find(cur)) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        sdg.push_back(s);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            res.push_back(sdg);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The goal is to provide product suggestions based on a prefix derived from a given input string. Given a list of product names and a string <code>w</code>, you need to return a list of suggested products for each prefix of <code>w</code>. Each suggestion list should contain up to three products that start with the corresponding prefix.</p>
<p>For example, if the product list is <code>[&quot;mobile&quot;, &quot;mouse&quot;, &quot;moneypot&quot;, &quot;monitor&quot;, &quot;mousepad&quot;]</code> and the input string is <code>&quot;mouse&quot;</code>, the function should return:</p>
<ul>
<li>For prefix <code>&quot;m&quot;</code>: <code>[&quot;mobile&quot;, &quot;moneypot&quot;, &quot;monitor&quot;]</code></li>
<li>For prefix <code>&quot;mo&quot;</code>: <code>[&quot;mobile&quot;, &quot;moneypot&quot;, &quot;monitor&quot;]</code></li>
<li>For prefix <code>&quot;mou&quot;</code>: <code>[&quot;mouse&quot;, &quot;mousepad&quot;]</code></li>
<li>For prefix <code>&quot;mous&quot;</code>: <code>[&quot;mouse&quot;]</code></li>
<li>For prefix <code>&quot;mouse&quot;</code>: <code>[&quot;mouse&quot;]</code></li>
</ul>
<p>The function should efficiently return these suggestions even as the prefixes grow longer.</p>
<h3 id="approach">Approach</h3>
<p>To achieve the desired results efficiently, we can use the following approach:</p>
<ol>
<li><strong>Sorting the Product List</strong>: First, sort the product names lexicographically. This enables efficient searching and makes it easy to find products that start with a given prefix.</li>
<li><strong>Prefix Iteration</strong>: For each character in the input string <code>w</code>, construct the current prefix and find the range of products that match this prefix.</li>
<li><strong>Binary Search</strong>: Use binary search to find the starting position of products that match the current prefix using <code>lower_bound</code>.</li>
<li><strong>Gather Suggestions</strong>: Collect up to three products that start with the current prefix and store them in the result list.</li>
</ol>
<p>This method ensures that we can efficiently find suggestions with minimal comparisons.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> suggestedProducts(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> A, string w) {
</span></span></code></pre></div><ul>
<li><strong>Line 1-2</strong>: The <code>Solution</code> class is defined with a public member function <code>suggestedProducts</code>, which takes a vector of strings <code>A</code> (the product list) and a string <code>w</code> (the input string) as arguments.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> A.begin();
</span></span><span style="display:flex;"><span>        sort(it, A.end());
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> res;
</span></span><span style="display:flex;"><span>        string cur <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span></code></pre></div><ul>
<li><strong>Line 3-6</strong>:
<ul>
<li><code>it</code> is initialized to the beginning of the vector <code>A</code>.</li>
<li>The products are sorted to prepare for binary search.</li>
<li>A 2D vector <code>res</code> is initialized to store the lists of suggested products for each prefix.</li>
<li>An empty string <code>cur</code> is initialized to build prefixes.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">char</span> <span style="color:#a0a000">c</span> : w) {
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">+=</span> c;
</span></span><span style="display:flex;"><span>            vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> sdg;
</span></span></code></pre></div><ul>
<li><strong>Line 7-9</strong>: A loop iterates over each character <code>c</code> in the string <code>w</code>:
<ul>
<li>The current character <code>c</code> is appended to the prefix <code>cur</code>.</li>
<li>A temporary vector <code>sdg</code> is initialized to hold the suggestions for the current prefix.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            it <span style="color:#666">=</span> lower_bound(it, A.end(), cur);
</span></span></code></pre></div><ul>
<li><strong>Line 10</strong>: We find the position of the first product that is not less than the current prefix <code>cur</code> using <code>lower_bound</code>. This ensures that we start checking for matches from this position onwards.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">3</span> <span style="color:#666">&amp;&amp;</span> (it <span style="color:#666">+</span> i) <span style="color:#666">!=</span> A.end(); i<span style="color:#666">++</span>) {
</span></span></code></pre></div><ul>
<li><strong>Line 11</strong>: A loop iterates up to 3 times to gather suggestions:
<ul>
<li>We check if we are within the bounds of the vector <code>A</code>.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                string<span style="color:#666">&amp;</span> s <span style="color:#666">=</span> <span style="color:#666">*</span>(i <span style="color:#666">+</span> it);
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(s.find(cur)) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                sdg.push_back(s);
</span></span></code></pre></div><ul>
<li><strong>Line 12-14</strong>:
<ul>
<li>We access the string at position <code>it + i</code>.</li>
<li>We check if the string <code>s</code> contains the current prefix <code>cur</code> using <code>find</code>. Note that this should ideally check if <code>s</code> starts with <code>cur</code> (i.e., <code>s.find(cur) == 0</code>), as the current implementation checks if the prefix exists anywhere in the string.</li>
<li>If the prefix is found, we break the loop. Otherwise, we add <code>s</code> to the suggestions vector <code>sdg</code>.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            res.push_back(sdg);
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Line 15-16</strong>: After checking for the current prefix, the collected suggestions <code>sdg</code> are added to the results <code>res</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Line 17-18</strong>: Finally, the function returns the result vector <code>res</code>, containing all suggested products for each prefix of <code>w</code>.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>Sorting the product list takes (O(n \log n)), where (n) is the number of products in <code>A</code>.</li>
<li>For each character in <code>w</code>, the function performs a binary search (<code>lower_bound</code>) and then checks up to 3 products for each prefix, resulting in a linear complexity relative to the length of <code>w</code>. Thus, the overall complexity is (O(n \log n + m)), where (m) is the length of <code>w</code>.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(m + n)) for storing the result and temporary variables.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>suggestedProducts</code> function efficiently provides product suggestions based on prefixes derived from the input string <code>w</code>. By leveraging sorting and binary search, the function minimizes the number of comparisons needed to find matching products, ensuring optimal performance even for larger inputs. This solution illustrates the power of combining data structures with algorithmic techniques to solve problems effectively in a competitive programming context.</p>
<p>In summary, this implementation is a prime example of how to handle string prefix searching efficiently while maintaining clear and readable code. The use of STL functions like <code>sort</code> and <code>lower_bound</code> showcases the elegance of C++&rsquo;s Standard Library, making it a valuable approach for developers seeking to optimize their solutions.</p>
<p><a href="https://leetcode.com/problems/search-suggestions-system/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/PLNDfB0Vg9Y?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
