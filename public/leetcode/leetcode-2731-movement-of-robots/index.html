<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2731: Movement of Robots | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2731: Movement of Robots">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2731: Movement of Robots in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2731-movement-of-robots/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2731: Movement of Robots">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2731: Movement of Robots in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Brainteaser">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2731: Movement of Robots</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode918s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> sumDistance(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, string s, <span style="color:#0b0;font-weight:bold">int</span> d) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;L&#39;</span>) nums[i] <span style="color:#666">-=</span> d;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> nums[i] <span style="color:#666">+=</span> d;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        sort(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>, dist <span style="color:#666">=</span> <span style="color:#666">0</span>, mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            dist <span style="color:#666">+=</span> ((<span style="color:#0b0;font-weight:bold">long</span>)nums[i] <span style="color:#666">-</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) <span style="color:#666">*</span> (i);
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">=</span> (ans <span style="color:#666">+</span> dist) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are given a list of integers, a string representing movement directions, and a number <code>d</code> indicating how far the positions should change. Our task is to compute the total distance between all pairs of numbers after applying the changes described in the string.</p>
<p>The string <code>s</code> consists of characters &lsquo;L&rsquo; and &lsquo;R&rsquo;, where:</p>
<ul>
<li>&lsquo;L&rsquo; means that the corresponding number in the <code>nums</code> array will decrease by <code>d</code>.</li>
<li>&lsquo;R&rsquo; means that the corresponding number will increase by <code>d</code>.</li>
</ul>
<p>After modifying the numbers based on the string <code>s</code>, we need to calculate the total distance between all pairs of numbers in the modified list, modulo (10^9 + 7).</p>
<h3 id="approach">Approach</h3>
<p>We can break the problem into the following steps:</p>
<ol>
<li>
<p><strong>Adjust the <code>nums</code> Array</strong>:</p>
<ul>
<li>For each element in the <code>nums</code> array, we modify it based on the corresponding character in the string <code>s</code>. If the character is &lsquo;L&rsquo;, we decrease the value by <code>d</code>; if the character is &lsquo;R&rsquo;, we increase the value by <code>d</code>.</li>
</ul>
</li>
<li>
<p><strong>Sort the Array</strong>:</p>
<ul>
<li>After applying the modifications, the next step is to sort the modified array. This will help us easily compute the distance between all pairs of elements in an ordered manner, reducing the complexity of the distance computation.</li>
</ul>
</li>
<li>
<p><strong>Compute the Total Distance</strong>:</p>
<ul>
<li>Once the array is sorted, we can compute the sum of distances between all pairs. This can be done efficiently by observing that the total distance between pairs can be broken down as a sum of differences between each element and all elements before it in the sorted array.</li>
</ul>
</li>
<li>
<p><strong>Modulo Operation</strong>:</p>
<ul>
<li>Since the result could be large, we need to return the answer modulo (10^9 + 7).</li>
</ul>
</li>
</ol>
<h3 id="step-by-step-code-breakdown">Step-by-Step Code Breakdown</h3>
<h4 id="step-1-adjust-the-nums-array">Step 1: Adjust the <code>nums</code> Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;L&#39;</span>) nums[i] <span style="color:#666">-=</span> d;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span> nums[i] <span style="color:#666">+=</span> d;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We loop over the entire <code>nums</code> array.</li>
<li>For each element, we check the corresponding character in string <code>s</code>.
<ul>
<li>If the character is &lsquo;L&rsquo;, we subtract <code>d</code> from the element at index <code>i</code>.</li>
<li>If the character is &lsquo;R&rsquo;, we add <code>d</code> to the element at index <code>i</code>.</li>
</ul>
</li>
<li>This modifies the <code>nums</code> array based on the given movement directions.</li>
</ul>
<h4 id="step-2-sort-the-nums-array">Step 2: Sort the <code>nums</code> Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(nums.begin(), nums.end());
</span></span></code></pre></div><ul>
<li>After adjusting all the values in the <code>nums</code> array, we sort the array.</li>
<li>Sorting helps in calculating the distance between all pairs efficiently. In a sorted array, for any pair of elements <code>nums[i]</code> and <code>nums[j]</code> (where <code>i &lt; j</code>), the distance between them can be calculated directly by subtracting the smaller element from the larger one.</li>
</ul>
<h4 id="step-3-compute-the-total-distance-between-all-pairs">Step 3: Compute the Total Distance Between All Pairs</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>, dist <span style="color:#666">=</span> <span style="color:#666">0</span>, mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    dist <span style="color:#666">+=</span> ((<span style="color:#0b0;font-weight:bold">long</span>)nums[i] <span style="color:#666">-</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) <span style="color:#666">*</span> (i);
</span></span><span style="display:flex;"><span>    ans <span style="color:#666">=</span> (ans <span style="color:#666">+</span> dist) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We first initialize variables: <code>n</code> to the size of the array, <code>ans</code> to store the total distance, <code>dist</code> to track the intermediate distances, and <code>mod</code> to store (10^9 + 7) for the modulo operation.</li>
<li>We then iterate over the array starting from the second element (<code>i = 1</code>).</li>
<li>For each element <code>nums[i]</code>, we calculate the difference between <code>nums[i]</code> and <code>nums[i-1]</code>. This represents the distance between the current element and the previous element in the sorted array.</li>
<li>We then multiply this difference by <code>i</code>, the index of the element, to account for how many times this difference will appear in the total distance sum. The reason we multiply by <code>i</code> is because for each <code>nums[i]</code>, it contributes to the distance between itself and all previous elements in the sorted array (from index <code>0</code> to <code>i-1</code>).</li>
<li>We add this result to <code>dist</code>, which accumulates the total distance for the current index.</li>
<li>Finally, we update <code>ans</code> with the accumulated distance modulo (10^9 + 7).</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>After processing all elements in the sorted <code>nums</code> array, we return the accumulated distance <code>ans</code>, which contains the total distance between all pairs modulo (10^9 + 7).</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity</h4>
<ul>
<li><strong>Adjusting the <code>nums</code> array</strong>: This takes (O(n)) time, where <code>n</code> is the length of the <code>nums</code> array, because we iterate over all the elements once and modify them based on the corresponding character in the string <code>s</code>.</li>
<li><strong>Sorting the <code>nums</code> array</strong>: Sorting the array takes (O(n \log n)) time, which is the most time-consuming operation in this solution.</li>
<li><strong>Computing the total distance</strong>: After sorting, we compute the total distance in a single pass through the array, which takes (O(n)) time.</li>
<li>Therefore, the overall time complexity is dominated by the sorting step, so the total time complexity is <strong>O(n \log n)</strong>.</li>
</ul>
<h4 id="space-complexity">Space Complexity</h4>
<ul>
<li>We use additional space for the input <code>nums</code> and the string <code>s</code>, but no other significant space is used. The space complexity is <strong>O(n)</strong> due to the space used by the <code>nums</code> array and the intermediate variables used for computation.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently computes the total distance between all pairs of modified integers in the array after applying the given movement directions. The sliding window approach reduces the complexity of the problem to <strong>O(n \log n)</strong> due to the sorting step, and the modulo operation ensures that we return the result within the required bounds. This approach is both time-efficient and space-efficient, making it suitable for large input sizes.</p>
<p><a href="https://leetcode.com/problems/movement-of-robots/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/L86PHNze5RM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
