<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 394: Decode String | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 394: Decode String">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 394: Decode String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-394-decode-string/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 394: Decode String">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 394: Decode String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Stack">
    <meta property="article:tag" content="Recursion">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 394: Decode String</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1129s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/394.webp" 
           alt="A string decoding into a sequence, with each decoded character softly illuminated." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 394: Decode String Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1129s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string decodeString(string s) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">decode</span>(s, i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    string <span style="color:#00a000">decode</span>(string <span style="color:#666">&amp;</span>s, <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#666">&amp;</span>i) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        string res <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> s[i] <span style="color:#666">!=</span> <span style="color:#b44">&#39;]&#39;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>isdigit(s[i]))
</span></span><span style="display:flex;"><span>                res <span style="color:#666">+=</span> s[i<span style="color:#666">++</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> isdigit(s[i]))
</span></span><span style="display:flex;"><span>                    n <span style="color:#666">=</span> n <span style="color:#666">*</span> <span style="color:#666">10</span> <span style="color:#666">+</span> (s[i<span style="color:#666">++</span>] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                string t <span style="color:#666">=</span> decode(s, i);
</span></span><span style="display:flex;"><span>                i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">while</span>(n<span style="color:#666">--&gt;</span> <span style="color:#666">0</span>) res <span style="color:#666">+=</span> t;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-problem-statement">🚀 Problem Statement</h3>
<p>We’re tasked with decoding a string that contains encoded substrings in the format of <code>[k[string]]</code>. In this encoding, <code>k</code> is a number that tells us how many times the substring inside the brackets should be repeated. The goal is to decode the string by expanding each encoded pattern into its repeated form.</p>
<p>For example:</p>
<ul>
<li><code>&quot;3[a]2[bc]&quot;</code> becomes <code>&quot;aaabcbc&quot;</code>.</li>
<li><code>&quot;3[a2[c]]&quot;</code> becomes <code>&quot;accaccacc&quot;</code>.</li>
</ul>
<p>Let&rsquo;s break it down and see how we can implement the solution!</p>
<hr>
<h3 id="-approach">🧠 Approach</h3>
<p>To tackle this problem, we’ll use a recursive approach that processes the string step by step:</p>
<ol>
<li><strong>Iterate through the string</strong>: As we loop through the string, we will decode characters and handle digits that represent repetition counts.</li>
<li><strong>Digit handling</strong>: When a digit is encountered, it signals that a substring should be repeated <code>k</code> times, where <code>k</code> is the number we find next to the brackets.</li>
<li><strong>Recursion for nested substrings</strong>: Whenever we encounter a <code>[</code>, it indicates that there’s a nested encoded substring. We need to process that substring recursively before moving on.</li>
<li><strong>Base case for recursion</strong>: Recursion ends when we encounter a <code>]</code>, signaling the completion of a nested substring.</li>
<li><strong>Build the string</strong>: We’ll accumulate our result string as we decode each part.</li>
</ol>
<p>By using recursion, we can cleanly handle nested substrings and repetition patterns.</p>
<hr>
<h3 id="-step-by-step-code-breakdown">🔨 Step-by-Step Code Breakdown</h3>
<p>Here’s how the solution works step by step:</p>
<h4 id="step-1-initialize-the-function">Step 1: Initialize the Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>string <span style="color:#00a000">decodeString</span>(string s) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> decode(s, i);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The function <code>decodeString</code> kicks off the decoding process. We initialize an index <code>i</code> to track our position in the string, and call the <code>decode</code> function with the string and index.</li>
</ul>
<h4 id="step-2-recursive-decode-function">Step 2: Recursive Decode Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>string <span style="color:#00a000">decode</span>(string <span style="color:#666">&amp;</span>s, <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#666">&amp;</span>i) {
</span></span><span style="display:flex;"><span>    string res <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> s[i] <span style="color:#666">!=</span> <span style="color:#b44">&#39;]&#39;</span>) {
</span></span></code></pre></div><ul>
<li>The <code>decode</code> function is where the magic happens! It iterates through the string until it hits a <code>]</code>, which indicates the end of the current substring.</li>
</ul>
<h4 id="step-3-handling-regular-characters">Step 3: Handling Regular Characters</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>isdigit(s[i]))
</span></span><span style="display:flex;"><span>        res <span style="color:#666">+=</span> s[i<span style="color:#666">++</span>];
</span></span></code></pre></div><ul>
<li>If the current character is not a digit (i.e., it&rsquo;s a regular letter), we simply add it to the result string <code>res</code>.</li>
</ul>
<h4 id="step-4-handling-digits-repetition-factor">Step 4: Handling Digits (Repetition Factor)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> isdigit(s[i]))
</span></span><span style="display:flex;"><span>            n <span style="color:#666">=</span> n <span style="color:#666">*</span> <span style="color:#666">10</span> <span style="color:#666">+</span> (s[i<span style="color:#666">++</span>] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        string t <span style="color:#666">=</span> decode(s, i);
</span></span><span style="display:flex;"><span>        i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(n<span style="color:#666">--&gt;</span> <span style="color:#666">0</span>) res <span style="color:#666">+=</span> t;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>When a digit is found, we calculate the repetition count <code>n</code> by parsing the digits until we encounter a <code>[</code> (opening a substring).</li>
<li>After determining <code>n</code>, we recursively decode the substring inside the brackets.</li>
<li>The decoded substring is repeated <code>n</code> times and added to the result.</li>
</ul>
<h4 id="step-5-return-the-result">Step 5: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>Once the entire string has been processed, we return the decoded result.</li>
</ul>
<hr>
<h3 id="-complexity-analysis">📈 Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Time Complexity</strong>: <code>O(n)</code>, where <code>n</code> is the length of the input string. Each character in the string is processed once. The recursion is efficient, as it only dives deeper into nested substrings and processes them directly.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Space Complexity</strong>: <code>O(n)</code>, because the recursion stack and result string both grow with the size of the input string. In the worst case, all characters could be part of a deeply nested structure, making space usage linear.</li>
</ul>
<hr>
<h3 id="-conclusion">🏁 Conclusion</h3>
<p>This solution is efficient and elegant for decoding strings with repeated and nested patterns. By using recursion, we’re able to handle both repetition factors and nested substrings in a clean, easy-to-understand way. The solution runs in linear time (<code>O(n)</code>) and uses linear space (<code>O(n)</code>), making it optimal for typical input sizes.</p>
<p>So go ahead and try it out! 🚀</p>
<p><a href="https://leetcode.com/problems/decode-string/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/kNW1SlfDuJY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
