<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 31: Next Permutation | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 31: Next Permutation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 31: Next Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-31-next-permutation/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 31: Next Permutation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 31: Next Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-11-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 31: Next Permutation</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1049s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/31.webp" 
           alt="A flowing sequence of shapes or words shifting and reshaping into a new, calming formation." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 31: Next Permutation Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1049s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> nextPermutation(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> idx <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">2</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&lt;</span> nums[i<span style="color:#666">+</span><span style="color:#666">1</span>]) { 
</span></span><span style="display:flex;"><span>                idx <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==-</span><span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>            reverse(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;</span> idx; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&gt;</span> nums[idx]) {
</span></span><span style="display:flex;"><span>                swap(nums[idx], nums[i]);
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        reverse(nums.begin() <span style="color:#666">+</span> idx <span style="color:#666">+</span> <span style="color:#666">1</span>, nums.end());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-next-lexicographically-greater-permutation">🌟 <strong>Next Lexicographically Greater Permutation</strong></h3>
<p>This problem involves finding the next lexicographically greater permutation of a list of numbers. If no greater permutation exists (i.e., the input is already the largest permutation), the list should be rearranged into the smallest permutation possible (sorted in ascending order).</p>
<hr>
<h3 id="-approach-overview">🧠 <strong>Approach Overview</strong></h3>
<p>To find the next permutation, we use a well-defined approach that optimizes the process. We work by examining the permutation from right to left, identifying a point where the current arrangement can be increased, then making the smallest possible increase to ensure we generate the next permutation in lexicographical order.</p>
<h4 id="steps-to-solve-the-problem"><strong>Steps to Solve the Problem:</strong></h4>
<ol>
<li>
<p><strong>Find the Rightmost Ascending Pair:</strong><br>
Identify the first position from the right where the sequence stops increasing. This tells us where we can make the permutation larger.</p>
</li>
<li>
<p><strong>Find the Next Larger Element:</strong><br>
Find the smallest element to the right of this position that is larger than the element at that position.</p>
</li>
<li>
<p><strong>Swap the Elements:</strong><br>
Swap the two identified elements to create a larger permutation.</p>
</li>
<li>
<p><strong>Reverse the Suffix:</strong><br>
Reverse the elements after the swapped position to ensure the resulting sequence is the smallest possible permutation (sorted in ascending order).</p>
</li>
<li>
<p><strong>Edge Case (Largest Permutation):</strong><br>
If no such pair exists, the permutation is the largest possible. In this case, simply reverse the entire list to get the smallest permutation.</p>
</li>
</ol>
<hr>
<h3 id="-breaking-down-the-code">👇 <strong>Breaking Down the Code:</strong></h3>
<h4 id="step-1-find-the-rightmost-ascending-pair"><strong>Step 1: Find the Rightmost Ascending Pair</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> idx <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">2</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&lt;</span> nums[i<span style="color:#666">+</span><span style="color:#666">1</span>]) { 
</span></span><span style="display:flex;"><span>        idx <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We scan from right to left to find the first element <code>nums[i]</code> that is smaller than <code>nums[i+1]</code>. This marks the point where the order breaks, indicating that the permutation can still be increased.</li>
</ul>
<h4 id="step-2-handle-the-edge-case-largest-permutation"><strong>Step 2: Handle the Edge Case (Largest Permutation)</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>    reverse(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If no such ascending pair is found (i.e., the list is in descending order), we reverse the entire list to obtain the smallest permutation.</li>
</ul>
<h4 id="step-3-find-the-next-larger-element"><strong>Step 3: Find the Next Larger Element</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;</span> idx; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&gt;</span> nums[idx]) {
</span></span><span style="display:flex;"><span>        swap(nums[idx], nums[i]);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We now look for the smallest element larger than <code>nums[idx]</code> from the right side. Once found, we swap them to ensure the next permutation is as close as possible to the current one but larger.</li>
</ul>
<h4 id="step-4-reverse-the-suffix"><strong>Step 4: Reverse the Suffix</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>reverse(nums.begin() <span style="color:#666">+</span> idx <span style="color:#666">+</span> <span style="color:#666">1</span>, nums.end());
</span></span></code></pre></div><ul>
<li>After swapping, the sublist from <code>idx+1</code> to the end of the list is in descending order. Reversing this part ensures that the list is in the smallest lexicographical order after the change.</li>
</ul>
<hr>
<h3 id="-complexity-breakdown">⏳ <strong>Complexity Breakdown</strong></h3>
<ul>
<li>
<p><strong>Time Complexity: O(n)</strong><br>
The algorithm involves:</p>
<ol>
<li>A linear scan from right to left to find the first ascending pair (O(n)).</li>
<li>Another linear scan from the right side to find the element to swap with <code>nums[idx]</code> (O(n)).</li>
<li>A reverse operation (O(n)) on the portion of the list after the swap.</li>
</ol>
<p>Thus, the overall time complexity is <strong>O(n)</strong>, where <code>n</code> is the number of elements in the list.</p>
</li>
<li>
<p><strong>Space Complexity: O(1)</strong><br>
The algorithm uses only a constant amount of extra space (excluding the input list), which is required for the index <code>idx</code> and the loop variables.</p>
</li>
</ul>
<hr>
<h3 id="-key-insights">💡 <strong>Key Insights</strong></h3>
<ul>
<li>
<p><strong>In-Place Algorithm:</strong> The algorithm works by modifying the input list in place, meaning it doesn’t require any additional space beyond the variables needed for the calculation.</p>
</li>
<li>
<p><strong>Efficient:</strong> This solution operates in <strong>O(n)</strong> time, making it suitable for large input sizes. The use of <strong>constant space</strong> ensures minimal memory usage.</p>
</li>
<li>
<p><strong>Edge Case Handling:</strong> The algorithm efficiently handles the case when the input is already the largest permutation by reversing the entire list.</p>
</li>
</ul>
<hr>
<h3 id="-conclusion">🚀 <strong>Conclusion</strong></h3>
<p>This solution provides an optimal way to generate the next lexicographically greater permutation of a list of numbers. By using an efficient in-place algorithm with a time complexity of <strong>O(n)</strong> and a space complexity of <strong>O(1)</strong>, it ensures that the next permutation is computed quickly and with minimal memory usage.</p>
<p>This approach is ideal for problems involving permutations or order constraints, and the techniques used here (finding ascending pairs, swapping, and reversing) are commonly applied in various algorithmic challenges related to permutations.</p>
<p><a href="https://leetcode.com/problems/next-permutation/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/6qXO72FkqwM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
