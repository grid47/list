<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 90: Subsets II | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 90: Subsets II">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 90: Subsets II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-90-subsets-ii/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 90: Subsets II">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 90: Subsets II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-10-29T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Backtracking">
    <meta property="article:tag" content="Bit Manipulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 90: Subsets II</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1380s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/90.webp" 
           alt="A glowing, branching set of subsets gently forming in a calm, peaceful pattern." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 90: Subsets II Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1380s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, <span style="color:#0b0;font-weight:bold">bool</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> subsetsWithDup(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> ans;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> tmp;
</span></span><span style="display:flex;"><span>        sort(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>        mp.clear();
</span></span><span style="display:flex;"><span>        bt(ans, tmp, nums, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">bt</span>(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> <span style="color:#666">&amp;</span>ans, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>tmp,
</span></span><span style="display:flex;"><span>            vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>nums, <span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> nums.size()) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>mp.count(tmp)) {
</span></span><span style="display:flex;"><span>                ans.push_back(tmp);
</span></span><span style="display:flex;"><span>                mp[tmp] <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        bt(ans, tmp, nums, idx <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        tmp.push_back(nums[idx]);
</span></span><span style="display:flex;"><span>        bt(ans, tmp, nums, idx <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        tmp.pop_back();            
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-problem-statement">üìù <strong>Problem Statement</strong></h3>
<p>Given a list of integers <code>nums</code>, generate all possible subsets. If <code>nums</code> contains duplicate elements, avoid including duplicate subsets in the final result.</p>
<h4 id="example">Example:</h4>
<ul>
<li><strong>Input:</strong> <code>nums = [1, 2, 2]</code></li>
<li><strong>Output:</strong> <code>[[], [1], [1, 2], [1, 2, 2], [2], [2, 2]]</code></li>
</ul>
<h3 id="-approach">üîç <strong>Approach</strong></h3>
<p>The problem can be tackled using <strong>backtracking</strong>. Additionally, to avoid duplicates, we&rsquo;ll <strong>sort the input array</strong> and apply a <strong>recursive approach</strong> to generate subsets efficiently. Here&rsquo;s a breakdown of the approach:</p>
<ol>
<li>
<p><strong>Sort the Input</strong>: Sorting ensures that duplicates are adjacent, which makes it easier to skip duplicates during the generation process.</p>
</li>
<li>
<p><strong>Backtracking with Recursion</strong>:</p>
<ul>
<li>Use a backtracking function to recursively decide whether to include or exclude each element in the subset.</li>
<li>Avoid adding duplicate subsets by ensuring the subsets are built in a specific order and skipping over duplicate elements when necessary.</li>
</ul>
</li>
</ol>
<h3 id="-code-breakdown">üßë‚Äçüíª <strong>Code Breakdown</strong></h3>
<h4 id="step-1-initial-setup">Step 1: Initial Setup</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> subsetsWithDup(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> ans;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> tmp;
</span></span><span style="display:flex;"><span>    sort(nums.begin(), nums.end());  <span style="color:#080;font-style:italic">// Sort to handle duplicates
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    backtrack(ans, tmp, nums, <span style="color:#666">0</span>);    <span style="color:#080;font-style:italic">// Start the backtracking process
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><code>ans</code>: Holds all unique subsets.</li>
<li><code>tmp</code>: A temporary vector to store the current subset during recursion.</li>
<li>We sort <code>nums</code> to group duplicate elements together, which helps in avoiding generating duplicate subsets.</li>
<li>The backtracking function <code>backtrack</code> is called starting from index <code>0</code>.</li>
</ul>
<h4 id="step-2-the-backtracking-function">Step 2: The Backtracking Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">backtrack</span>(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> ans, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> tmp, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> idx) {
</span></span><span style="display:flex;"><span>    ans.push_back(tmp);  <span style="color:#080;font-style:italic">// Add the current subset to the result
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> idx; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Skip duplicates: If the current element is the same as the previous one, skip it
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">if</span> (i <span style="color:#666">&gt;</span> idx <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">==</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        tmp.push_back(nums[i]);      <span style="color:#080;font-style:italic">// Include the current element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        backtrack(ans, tmp, nums, i <span style="color:#666">+</span> <span style="color:#666">1</span>);  <span style="color:#080;font-style:italic">// Recurse with the next element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        tmp.pop_back();             <span style="color:#080;font-style:italic">// Backtrack: Remove the last element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Base Case</strong>: At each recursive step, we add the current subset (<code>tmp</code>) to <code>ans</code> before making any recursive calls.</li>
<li><strong>Recursive Case</strong>: We iterate through <code>nums</code>, starting from the current index <code>idx</code>. For each element:
<ul>
<li>We skip duplicate elements by checking if the current element is the same as the previous one (this ensures we don&rsquo;t generate duplicate subsets).</li>
<li>We then recursively generate subsets by including the current element, and after recursion, we backtrack by removing the last added element.</li>
</ul>
</li>
</ul>
<h4 id="step-3-handling-duplicates">Step 3: Handling Duplicates</h4>
<ul>
<li><strong>Skip Duplicate Elements</strong>: By sorting <code>nums</code> initially, duplicates are adjacent. We skip over duplicate elements by checking if the current element is equal to the previous one in the iteration (<code>if (i &gt; idx &amp;&amp; nums[i] == nums[i - 1]) continue</code>).</li>
</ul>
<h3 id="-complexity-analysis">‚è± <strong>Complexity Analysis</strong></h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Sorting</strong>: Sorting the input array <code>nums</code> takes <strong>O(n log n)</strong>, where <code>n</code> is the length of <code>nums</code>.</li>
<li><strong>Backtracking</strong>: In the worst case, we generate all subsets, which takes <strong>O(2^n)</strong> time. For each subset, we might perform a check to avoid duplicates, but the skipping mechanism ensures we don&rsquo;t generate duplicate subsets.
<ul>
<li>The overall time complexity is <strong>O(n log n + 2^n)</strong>.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Result Storage</strong>: The space required to store all unique subsets is proportional to the number of subsets, which is <strong>O(2^n)</strong> in the worst case.</li>
<li><strong>Recursion Stack</strong>: The maximum depth of the recursion is <code>n</code>, so the recursion stack requires <strong>O(n)</strong> space.
<ul>
<li>Total space complexity: <strong>O(2^n + n)</strong>.</li>
</ul>
</li>
</ul>
<h3 id="-conclusion">üéØ <strong>Conclusion</strong></h3>
<p>This approach efficiently generates all unique subsets of the list <code>nums</code> using <strong>backtracking</strong> with a sorted array to handle duplicates. The time complexity is driven by the exponential number of possible subsets, and the space complexity accounts for both the recursion stack and the storage of the result. This method ensures that no duplicate subsets are included in the final result and is well-suited for handling input lists with duplicate elements.</p>
<hr>
<h4 id="-final-thoughts">üåü <strong>Final Thoughts</strong>:</h4>
<p>This backtracking solution is both time-efficient and space-efficient, handling the complexity of duplicates elegantly. By sorting the input and skipping duplicates in the iteration, we ensure optimal performance for generating subsets.</p>
<p><a href="https://leetcode.com/problems/subsets-ii/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Vn2v6ajA7U0?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
