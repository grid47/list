<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 424: Longest Repeating Character Replacement | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 424: Longest Repeating Character Replacement">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 424: Longest Repeating Character Replacement in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-424-longest-repeating-character-replacement/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 424: Longest Repeating Character Replacement">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 424: Longest Repeating Character Replacement in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 424: Longest Repeating Character Replacement</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1130s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/424.webp" 
           alt="A string with a character being replaced to form the longest substring, glowing softly with each change." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 424: Longest Repeating Character Replacement Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1130s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> characterReplacement(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ma;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>, mx <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span>  <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            ma[s[i]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            mx <span style="color:#666">=</span> max(mx, ma[s[i]]);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&gt;</span> mx <span style="color:#666">+</span> k) {
</span></span><span style="display:flex;"><span>                ma[s[j]]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> max(res, i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the length of the longest substring in a given string <code>s</code> that can be transformed into a substring where all characters are the same, by replacing at most <code>k</code> characters. We are provided a string <code>s</code> and an integer <code>k</code>, representing the maximum number of character replacements allowed. The goal is to determine the length of the longest possible substring after performing the replacements.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can use the <strong>sliding window technique</strong> combined with a frequency count of characters. The idea is to maintain a window of characters such that:</p>
<ol>
<li>The number of replacements needed to make all characters within the window identical does not exceed <code>k</code>.</li>
<li>We aim to maximize the length of the window under this constraint.</li>
</ol>
<p>Hereâ€™s how the approach works step by step:</p>
<ol>
<li><strong>Sliding Window</strong>: We maintain a window defined by two pointers, <code>j</code> (the start of the window) and <code>i</code> (the end of the window). The window will expand as we iterate over the string with the <code>i</code> pointer, and we adjust the <code>j</code> pointer to maintain the validity of the window.</li>
<li><strong>Character Count</strong>: As we expand the window by moving <code>i</code>, we count the frequency of each character in the window using a <code>map</code>. The frequency count helps determine how many characters in the current window are not equal to the most frequent character.</li>
<li><strong>Replacement Condition</strong>: The key observation is that if the number of characters that need to be changed to make all characters the same in the window exceeds <code>k</code>, we adjust the window by moving <code>j</code> to the right, thereby shrinking the window until the condition is satisfied again.</li>
<li><strong>Max Length Calculation</strong>: During each iteration, we calculate the length of the current window and update the result if the length is greater than the previous maximum.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialization">Step 1: Initialization</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ma;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>, mx <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>We initialize a map <code>ma</code> to store the frequency count of characters within the current window.</li>
<li><code>res</code> is used to keep track of the maximum length of the valid substring found.</li>
<li><code>j</code> is the starting pointer of the sliding window.</li>
<li><code>mx</code> stores the maximum frequency of any character within the current window.</li>
</ul>
<h4 id="step-2-expanding-the-window">Step 2: Expanding the Window</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    ma[s[i]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    mx <span style="color:#666">=</span> max(mx, ma[s[i]]);
</span></span></code></pre></div><ul>
<li>We start iterating over the string <code>s</code> using the <code>i</code> pointer.</li>
<li>For each character <code>s[i]</code>, we increment its count in the map <code>ma</code>.</li>
<li>We also update <code>mx</code> to be the maximum frequency of any character in the current window (from <code>j</code> to <code>i</code>).</li>
</ul>
<h4 id="step-3-checking-window-validity">Step 3: Checking Window Validity</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&gt;</span> mx <span style="color:#666">+</span> k) {
</span></span><span style="display:flex;"><span>    ma[s[j]]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>    j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The condition <code>i - j + 1 &gt; mx + k</code> checks if the length of the current window exceeds the number of allowed replacements (<code>k</code>). If it does, this means we need more than <code>k</code> replacements to make all characters the same in the window.</li>
<li>In this case, we shrink the window by incrementing <code>j</code> (move the left pointer of the window) and reducing the frequency count of the character at <code>s[j]</code>.</li>
</ul>
<h4 id="step-4-update-maximum-length">Step 4: Update Maximum Length</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>res <span style="color:#666">=</span> max(res, i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span></code></pre></div><ul>
<li>After adjusting the window, we update the result <code>res</code> with the maximum length of the valid substring found so far. The length of the current window is <code>i - j + 1</code>.</li>
</ul>
<h4 id="step-5-return-the-result">Step 5: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>Finally, we return the value of <code>res</code>, which is the length of the longest substring where we can make all characters the same with at most <code>k</code> replacements.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity of this algorithm is <strong>O(n)</strong>, where <code>n</code> is the length of the string <code>s</code>. This is because both the <code>i</code> and <code>j</code> pointers move from the start to the end of the string, and each pointer moves at most <code>n</code> times. The <code>map</code> operations (insertion and updating the frequency) are efficient with average time complexity of <strong>O(1)</strong>, as the number of unique characters is limited to the alphabet size (which is constant).</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(1)</strong> with respect to the input size, as the map <code>ma</code> stores the frequency of characters, and the maximum number of unique characters in the string is limited (26 lowercase English letters). Therefore, the space used by the map is constant.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The given solution efficiently solves the problem of finding the longest substring that can be transformed into a string with identical characters using at most <code>k</code> replacements. The sliding window technique combined with character frequency counting allows us to explore the solution in linear time, making the algorithm optimal for large inputs. With a space complexity of <strong>O(1)</strong>, the solution is also memory-efficient.</p>
<p>By utilizing this approach, we ensure that we handle both the constraints of the problem and edge cases, such as strings with all identical characters or strings where replacements are not needed.</p>
<p><a href="https://leetcode.com/problems/longest-repeating-character-replacement/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/tkNWKvxI3mU?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
