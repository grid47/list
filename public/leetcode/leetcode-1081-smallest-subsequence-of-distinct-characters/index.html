<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1081: Smallest Subsequence of Distinct Characters | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1081: Smallest Subsequence of Distinct Characters">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1081: Smallest Subsequence of Distinct Characters in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1081-smallest-subsequence-of-distinct-characters/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1081: Smallest Subsequence of Distinct Characters">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1081: Smallest Subsequence of Distinct Characters in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Stack">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Monotonic Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1081: Smallest Subsequence of Distinct Characters</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode55s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string smallestSubsequence(string s) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.size();
</span></span><span style="display:flex;"><span>        string res <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> in(<span style="color:#666">26</span>, <span style="color:#666">0</span>), seen(<span style="color:#666">26</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            in[s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> c <span style="color:#666">=</span> s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (seen[c]<span style="color:#666">++</span> <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span> (<span style="color:#666">!</span>stk.empty() <span style="color:#666">&amp;&amp;</span> stk.back() <span style="color:#666">&gt;</span> c <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">&lt;</span> in[stk.back()]) {
</span></span><span style="display:flex;"><span>                seen[stk.back()] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                stk.pop_back();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            stk.push_back(c);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> stk.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span> (<span style="color:#b44">&#39;a&#39;</span> <span style="color:#666">+</span> stk[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">// that problem was there were
</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the smallest lexicographical subsequence of a string that contains all unique characters. A subsequence is defined as a sequence derived from another sequence where elements are deleted without changing the order of the remaining elements. The goal is to ensure that the resultant subsequence is as small as possible while including each character only once and maintaining the lexicographical order.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we will use a greedy algorithm with the help of a stack. The basic idea is to iterate through the string while maintaining a stack that contains the characters of the smallest subsequence. We will also use two auxiliary arrays: one to track the last occurrence of each character and another to check if a character is already included in the stack.</p>
<ol>
<li><strong>Track Last Occurrences</strong>: First, we traverse the string to record the last index of each character.</li>
<li><strong>Use a Stack</strong>: We maintain a stack to build the smallest subsequence. As we iterate through the string:
<ul>
<li>If the character is already in the stack, we skip it.</li>
<li>If the current character is smaller than the character at the top of the stack, and if the character at the top of the stack appears later in the string, we pop the stack.</li>
<li>Finally, we push the current character onto the stack.</li>
</ul>
</li>
<li><strong>Build Result</strong>: After processing all characters, we convert the stack to a string, which represents the desired smallest subsequence.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Class Definition</strong>: The class <code>Solution</code> contains the method <code>smallestSubsequence</code> that will implement the solution.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string smallestSubsequence(string s) {
</span></span></code></pre></div></li>
<li>
<p><strong>Initialization</strong>: We declare a string <code>res</code> to hold the result and two vectors, <code>in</code> and <code>seen</code>, to track the last occurrence of each character and whether a character has been added to the stack, respectively.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.size();
</span></span><span style="display:flex;"><span>        string res <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> in(<span style="color:#666">26</span>, <span style="color:#666">0</span>), seen(<span style="color:#666">26</span>, <span style="color:#666">0</span>);
</span></span></code></pre></div></li>
<li>
<p><strong>Recording Last Occurrences</strong>: We iterate through the string and record the last index for each character.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            in[s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>] <span style="color:#666">=</span> i;
</span></span></code></pre></div></li>
<li>
<p><strong>Stack for Result</strong>: We declare a vector <code>stk</code> to act as a stack for building our result.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span></code></pre></div></li>
<li>
<p><strong>Main Loop</strong>: We iterate through each character in the string <code>s</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> c <span style="color:#666">=</span> s[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Skip Seen Characters</strong>: If the character has already been added to the stack (i.e., <code>seen[c]</code> is greater than zero), we skip it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (seen[c]<span style="color:#666">++</span> <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Pop from Stack</strong>: While the stack is not empty, and the top character of the stack is lexicographically larger than the current character, we check if the top character appears later in the string using the <code>in</code> array. If it does, we can safely pop it from the stack.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span> (<span style="color:#666">!</span>stk.empty() <span style="color:#666">&amp;&amp;</span> stk.back() <span style="color:#666">&gt;</span> c <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">&lt;</span> in[stk.back()]) {
</span></span><span style="display:flex;"><span>                seen[stk.back()] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                stk.pop_back();
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div></li>
<li>
<p><strong>Push Current Character</strong>: We push the current character onto the stack.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            stk.push_back(c);
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div></li>
<li>
<p><strong>Build the Result String</strong>: Finally, we convert the stack into a string <code>res</code> by appending the characters.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> stk.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span> (<span style="color:#b44">&#39;a&#39;</span> <span style="color:#666">+</span> stk[i]);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of the algorithm is (O(N)), where (N) is the length of the input string. This is because we make a single pass through the string and each character is pushed and popped from the stack at most once.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(1)) in terms of the character set, as we are using fixed-size arrays of size 26 for the English alphabet. The stack can grow up to the size of the input string in the worst case, leading to a potential space complexity of (O(N)) for the stack itself.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided C++ code efficiently solves the problem of finding the smallest lexicographical subsequence of a string containing all unique characters. By leveraging a greedy approach with a stack, the algorithm ensures that each character is included only once and that the order is maintained, resulting in an optimal solution.</p>
<p>This algorithm is useful in various applications, such as text processing, data compression, and similar problems where maintaining unique characters in a specific order is essential. Its linear time complexity and minimal space usage make it a robust choice for efficiently handling this type of problem.</p>
<p>In summary, the <code>smallestSubsequence</code> method demonstrates a clear and effective technique to achieve the desired result, showcasing the power of greedy algorithms and stack data structures in solving string-related challenges.</p>
<p><a href="https://leetcode.com/problems/smallest-subsequence-of-distinct-characters/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
