<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1712: Ways to Split Array Into Three Subarrays | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1712: Ways to Split Array Into Three Subarrays">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1712: Ways to Split Array Into Three Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1712-ways-to-split-array-into-three-subarrays/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1712: Ways to Split Array Into Three Subarrays">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1712: Ways to Split Array Into Three Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-19T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1712: Ways to Split Array Into Three Subarrays</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode347s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> <span style="color:#666">1000000007</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> waysToSplit(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(), res<span style="color:#666">=</span><span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        partial_sum(nums.begin(), nums.end(), nums.begin());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>, k <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            j <span style="color:#666">=</span> max(i <span style="color:#666">+</span> <span style="color:#666">1</span>, j);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(j <span style="color:#666">&lt;</span> n <span style="color:#666">-</span> <span style="color:#666">1</span> <span style="color:#666">&amp;&amp;</span> <span style="color:#666">2</span> <span style="color:#666">*</span> nums[i] <span style="color:#666">&gt;</span> nums[j]) j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            k <span style="color:#666">=</span> max(j, k);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(k <span style="color:#666">&lt;</span> n <span style="color:#666">-</span> <span style="color:#666">1</span> <span style="color:#666">&amp;&amp;</span> nums[k] <span style="color:#666">-</span> nums[i] <span style="color:#666">&lt;=</span> nums[n <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">-</span> nums[k]) k<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> (res <span style="color:#666">+</span> (k <span style="color:#666">-</span> j)) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;            
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to determine the number of ways to split an array <code>nums</code> into three contiguous parts such that the sum of the first part is less than or equal to the sum of the second part, and the sum of the second part is less than or equal to the sum of the third part. This can be visualized as finding indices (i), (j), and (k) that satisfy the conditions:</p>
<ul>
<li>( \text{sum}(nums[0:i]) \leq \text{sum}(nums[i:j]) )</li>
<li>( \text{sum}(nums[i:j]) \leq \text{sum}(nums[j:n]) )</li>
</ul>
<p>Where (n) is the size of the array, and we need to find all such valid splits.</p>
<p>For example, given an array <code>[1, 2, 2, 3, 5]</code>, the valid splits could be identified, and the task is to count how many such splits exist.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem, we can use the following approach:</p>
<ol>
<li>
<p><strong>Prefix Sum Calculation</strong>: First, compute the prefix sums for the input array. This allows us to easily calculate the sum of any subarray in constant time.</p>
</li>
<li>
<p><strong>Two-Pointer Technique</strong>: Use a two-pointer approach to efficiently find valid positions for the split:</p>
<ul>
<li>Iterate through potential starting indices for the first part (denoted by (i)).</li>
<li>For each (i), find the appropriate indices for (j) and (k):
<ul>
<li>(j) should point to the first index where the sum of the first part exceeds half of the total sum, i.e., (2 \times \text{sum}(nums[0:i]) &gt; \text{sum}(nums)).</li>
<li>(k) should point to the first index where the sum of the second part is less than or equal to the sum of the third part.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Counting Valid Splits</strong>: For each valid (i), the valid positions for (j) and (k) give the range of possible splits, and we can count how many valid splits exist between these two pointers.</p>
</li>
<li>
<p><strong>Modulo Operation</strong>: Since the number of ways can be large, we will return the result modulo (10^9 + 7).</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Now, letâ€™s delve into the provided code to understand its implementation:</p>
<ol>
<li>
<p><strong>Class Declaration</strong>: The solution is encapsulated within a class named <code>Solution</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> <span style="color:#666">1000000007</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Method Declaration</strong>: The public method <code>waysToSplit</code> takes a reference to a vector of integers and returns an integer representing the number of valid ways to split the array.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> waysToSplit(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span></code></pre></div></li>
<li>
<p><strong>Variable Initialization</strong>: We initialize variables for the size of the array (n), a result counter (res), and the modulo constant.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(), res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Prefix Sum Calculation</strong>: We calculate the prefix sum using the <code>partial_sum</code> function, which modifies the original <code>nums</code> array to contain cumulative sums.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>partial_sum(nums.begin(), nums.end(), nums.begin());
</span></span></code></pre></div></li>
<li>
<p><strong>Main Loop</strong>: The outer loop iterates through potential starting indices (i) for the first part, going up to (n - 2) since we need at least two more elements for parts two and three.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>, k <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>; i<span style="color:#666">++</span>) {
</span></span></code></pre></div></li>
<li>
<p><strong>Finding j</strong>: We increment the pointer (j) to find the first index such that (2 \times \text{sum}(nums[0:i]) &gt; \text{sum}(nums[j:n])).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>j <span style="color:#666">=</span> max(i <span style="color:#666">+</span> <span style="color:#666">1</span>, j);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(j <span style="color:#666">&lt;</span> n <span style="color:#666">-</span> <span style="color:#666">1</span> <span style="color:#666">&amp;&amp;</span> <span style="color:#666">2</span> <span style="color:#666">*</span> nums[i] <span style="color:#666">&gt;</span> nums[j]) j<span style="color:#666">++</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Finding k</strong>: We increment the pointer (k) to find the first index that maintains the condition for the sum of the second part being less than or equal to the sum of the third part.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>k <span style="color:#666">=</span> max(j, k);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(k <span style="color:#666">&lt;</span> n <span style="color:#666">-</span> <span style="color:#666">1</span> <span style="color:#666">&amp;&amp;</span> nums[k] <span style="color:#666">-</span> nums[i] <span style="color:#666">&lt;=</span> nums[n <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">-</span> nums[k]) k<span style="color:#666">++</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Count Valid Splits</strong>: The number of valid splits for the current (i) is given by the range between (j) and (k), and we add this count to (res).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>res <span style="color:#666">=</span> (res <span style="color:#666">+</span> (k <span style="color:#666">-</span> j)) <span style="color:#666">%</span> mod;
</span></span></code></pre></div></li>
<li>
<p><strong>Return the Result</strong>: After processing all indices, we return the total count of valid splits.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this solution is (O(n)) because each pointer (j) and (k) is incremented at most (n) times during the entire iteration of the outer loop.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(1)) beyond the input storage, as we are only using a fixed amount of extra space for variables.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>In conclusion, this solution efficiently counts the number of ways to split an array into three contiguous parts with specific sum conditions using a combination of prefix sums and a two-pointer approach. The use of cumulative sums allows for rapid sum calculations, while the two-pointer technique optimally finds valid split points without unnecessary iterations. The algorithm is designed to handle larger inputs within the constraints typically expected in competitive programming, ensuring performance and correctness. Overall, the code is cleanly structured, demonstrating a solid understanding of array manipulation and efficient algorithm design.</p>
<p><a href="https://leetcode.com/problems/ways-to-split-array-into-three-subarrays/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/u5GIK6GaNWk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
