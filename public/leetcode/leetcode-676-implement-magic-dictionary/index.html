<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 676: Implement Magic Dictionary | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 676: Implement Magic Dictionary">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 676: Implement Magic Dictionary in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-676-implement-magic-dictionary/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 676: Implement Magic Dictionary">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 676: Implement Magic Dictionary in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-31T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Trie">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 676: Implement Magic Dictionary</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1249s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/676.webp" 
           alt="A glowing dictionary where each word is stored and retrieved, with each word softly glowing as itâ€™s found." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 676: Implement Magic Dictionary Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1249s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">MagicDictionary</span> {
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span>string, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    MagicDictionary() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">buildDict</span>(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> dict) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(string <span style="color:#a0a000">s</span>: dict) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.length();            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                string t <span style="color:#666">=</span> s.substr(<span style="color:#666">0</span>, i) <span style="color:#666">+</span> s.substr(i<span style="color:#666">+</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>                pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> p(i, s[i]);                
</span></span><span style="display:flex;"><span>                mp[t].push_back(p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">search</span>(string word) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> word.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            string key <span style="color:#666">=</span> word.substr(<span style="color:#666">0</span>, i) <span style="color:#666">+</span> word.substr(i<span style="color:#666">+</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> <span style="color:#a0a000">sk</span> : mp[key])
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(sk.first <span style="color:#666">==</span> i <span style="color:#666">&amp;&amp;</span> sk.second<span style="color:#666">!=</span>word[i])
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;             
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your MagicDictionary object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * MagicDictionary* obj = new MagicDictionary();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;buildDict(dictionary);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * bool param_2 = obj-&gt;search(searchWord);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The task is to implement a <code>MagicDictionary</code> class that allows for two main operations:</p>
<ol>
<li><strong>buildDict()</strong>: This method takes a list of words and builds a dictionary.</li>
<li><strong>search()</strong>: This method checks if a given word can be formed by modifying exactly one character of any word in the dictionary.</li>
</ol>
<p>The goal is to determine if it is possible to convert a given search word into another word from the dictionary by changing exactly one character.</p>
<h3 id="approach">Approach:</h3>
<p>To solve the problem, we need to handle two operations:</p>
<ul>
<li><strong>Building the Dictionary</strong>: We need to store a collection of words in a way that allows us to efficiently search for a word by modifying one of its characters.</li>
<li><strong>Searching for a Word</strong>: We need to check whether the word can be converted to any word in the dictionary by changing exactly one character.</li>
</ul>
<p>We will use a map (hashmap) to store substrings of the words, where the key will be the word with one character removed, and the value will be a list of pairs containing the index of the removed character and the character itself. This allows efficient lookups when searching for words with one character modification.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="step-1-magicdictionary-class-constructor">Step 1: <code>MagicDictionary</code> Class Constructor</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">MagicDictionary</span> {
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span>string, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    MagicDictionary() {
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The class <code>MagicDictionary</code> is designed with an internal map <code>mp</code> that stores words and their modifications. The key of the map is a substring derived by removing one character from a word, and the value is a list of pairs where each pair contains the index of the removed character and the character itself.</li>
<li>The constructor initializes the object, and there is no need for any complex initialization at this point.</li>
</ul>
<h4 id="step-2-builddict-method">Step 2: <code>buildDict</code> Method</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">buildDict</span>(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> dict) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(string <span style="color:#a0a000">s</span>: dict) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.length();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                string t <span style="color:#666">=</span> s.substr(<span style="color:#666">0</span>, i) <span style="color:#666">+</span> s.substr(i<span style="color:#666">+</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>                pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> p(i, s[i]);
</span></span><span style="display:flex;"><span>                mp[t].push_back(p);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The <code>buildDict</code> method takes a list of words (the dictionary) and processes each word one by one.</li>
<li>For each word, we iterate through its characters, remove one character at a time, and create a substring <code>t</code> that represents the word without that character.</li>
<li>We then store this substring in the map <code>mp</code> as a key and the removed character and its index as the value (a pair of <code>index</code> and <code>character</code>).</li>
<li>The idea behind this approach is to create multiple versions of each word by removing one character and storing them in a map. This allows us to later search for words that differ by exactly one character.</li>
</ul>
<h4 id="step-3-search-method">Step 3: <code>search</code> Method</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">search</span>(string word) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> word.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            string key <span style="color:#666">=</span> word.substr(<span style="color:#666">0</span>, i) <span style="color:#666">+</span> word.substr(i<span style="color:#666">+</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span> <span style="color:#a0a000">sk</span> : mp[key])
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(sk.first <span style="color:#666">==</span> i <span style="color:#666">&amp;&amp;</span> sk.second <span style="color:#666">!=</span> word[i])
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>The <code>search</code> method checks if the given word can be converted into a word in the dictionary by changing exactly one character.</li>
<li>For each character <code>i</code> in the <code>word</code>, we create a key by removing that character (just as we did during the dictionary build phase).</li>
<li>We then check if the key exists in the map <code>mp</code>. If it does, we iterate through the list of pairs associated with that key.</li>
<li>For each pair, we check if the character at the removed index (<code>sk.first == i</code>) does not match the current character in the word (<code>sk.second != word[i]</code>).</li>
<li>If this condition holds true, it means the word in the dictionary can be formed by changing one character in the given word, so we return <code>true</code>.</li>
<li>If no such modification is found after checking all characters, we return <code>false</code>.</li>
</ul>
<h4 id="step-4-example-usage">Step 4: Example Usage</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>MagicDictionary<span style="color:#666">*</span> obj <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> MagicDictionary();
</span></span><span style="display:flex;"><span>obj<span style="color:#666">-&gt;</span>buildDict(dictionary);
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> param_2 <span style="color:#666">=</span> obj<span style="color:#666">-&gt;</span>search(searchWord);
</span></span></code></pre></div><ul>
<li>The <code>MagicDictionary</code> object is created and initialized.</li>
<li>The <code>buildDict()</code> method is called to populate the dictionary with words.</li>
<li>The <code>search()</code> method is called to check if a given search word can be transformed into any dictionary word by modifying exactly one character.</li>
</ul>
<h3 id="complexity">Complexity:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>
<p><strong><code>buildDict()</code></strong>: The time complexity of the <code>buildDict()</code> method is <code>O(N * L)</code>, where <code>N</code> is the number of words in the dictionary and <code>L</code> is the average length of the words. For each word, we generate <code>L</code> substrings (one for each character removal) and store them in the map. Each insertion into the map takes constant time on average.</p>
</li>
<li>
<p><strong><code>search()</code></strong>: The time complexity of the <code>search()</code> method is <code>O(L * M)</code>, where <code>L</code> is the length of the word being searched, and <code>M</code> is the number of substrings generated for that word. In the worst case, for each character, we will look up the map and iterate through the list of values stored in the map for that key. This can be O(L * M) in the worst case.</p>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is dominated by the map <code>mp</code>, which stores substrings and their corresponding modifications. This leads to a space complexity of <code>O(N * L)</code>, where <code>N</code> is the number of words and <code>L</code> is the average word length. Each word results in <code>L</code> substrings, and each substring is stored with a list of pairs, so the space complexity is proportional to the total number of such substrings.</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>The <code>MagicDictionary</code> class efficiently handles both dictionary building and word searching with respect to single character modifications. By preprocessing the dictionary and storing modified versions of each word, the <code>search()</code> operation can be performed efficiently. This approach ensures that we can quickly find whether a given word can be transformed into any word in the dictionary by changing exactly one character.</p>
<ul>
<li>The key innovation in this solution is the use of the map to store substrings and their corresponding modifications, which allows for efficient lookups during the search phase.</li>
<li>While the time complexity can be high for large dictionaries or long words, the approach is optimal for many practical use cases, especially when the dictionary size is moderate.</li>
</ul>
<p>This approach provides an elegant solution to the problem and can be used for applications like spell-checking, auto-correction, and word transformation games where minimal changes to words are required.</p>
<p><a href="https://leetcode.com/problems/implement-magic-dictionary/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
