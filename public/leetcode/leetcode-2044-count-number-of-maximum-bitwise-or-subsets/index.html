<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2044: Count Number of Maximum Bitwise-OR Subsets | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2044: Count Number of Maximum Bitwise-OR Subsets">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2044: Count Number of Maximum Bitwise-OR Subsets in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2044-count-number-of-maximum-bitwise-or-subsets/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2044: Count Number of Maximum Bitwise-OR Subsets">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2044: Count Number of Maximum Bitwise-OR Subsets in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Backtracking">
    <meta property="article:tag" content="Bit Manipulation">
    <meta property="article:tag" content="Enumeration">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2044: Count Number of Maximum Bitwise-OR Subsets</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode528s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countMaxOrSubsets(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> mx <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> dp[<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> <span style="color:#666">17</span>] <span style="color:#666">=</span> {<span style="color:#666">1</span>};
</span></span><span style="display:flex;"><span>        dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">a</span> : nums) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> mx; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#666">|</span> a] <span style="color:#666">+=</span> dp[i];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            mx <span style="color:#666">|=</span> a;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp[mx];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires finding the number of subsets within a given list of integers <code>nums</code> that, when combined using a bitwise OR operation, yield the maximum possible OR value obtainable from any subset of <code>nums</code>. Our goal is to efficiently calculate how many subsets of <code>nums</code> achieve this maximum OR value.</p>
<h3 id="approach">Approach</h3>
<p>To solve this, we use dynamic programming (DP) combined with bitwise operations. The bitwise OR operation compares each bit position in two integers, setting each bit in the result to 1 if either of the corresponding bits in the operands is 1. Using this approach, we aim to maximize the OR value across all possible subsets of <code>nums</code> and count how many subsets reach this maximum.</p>
<p>Here&rsquo;s a breakdown of the approach:</p>
<ol>
<li><strong>Initialize Variables</strong>: We define a variable <code>mx</code> to store the maximum OR value we can achieve, and a DP array <code>dp</code> where each entry <code>dp[i]</code> tracks the number of ways to reach a specific OR value <code>i</code>.</li>
<li><strong>Calculate Possible OR Values</strong>: We iterate over each number in <code>nums</code>, updating the <code>dp</code> array to record all possible OR values and the number of ways to achieve each.</li>
<li><strong>Track Maximum OR Value</strong>: As we iterate, we also keep updating <code>mx</code> to reflect the largest OR value obtained across subsets.</li>
<li><strong>Return Count of Maximum OR Subsets</strong>: Finally, <code>dp[mx]</code> will contain the count of all subsets whose OR is equal to <code>mx</code>.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s break down each part of the code to understand how it implements this approach.</p>
<ol>
<li>
<p><strong>Class and Method Definition</strong>: We define the class <code>Solution</code> with the method <code>countMaxOrSubsets</code>, which takes a vector <code>nums</code> as input and returns an integer representing the count of subsets with the maximum OR value.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countMaxOrSubsets(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span></code></pre></div></li>
<li>
<p><strong>Initialize Maximum OR Value (<code>mx</code>) and DP Array (<code>dp</code>)</strong>: We start by defining an integer <code>mx</code>, which will hold the maximum OR value we achieve, and a DP array <code>dp</code> of size <code>1 &lt;&lt; 17</code> (enough to hold OR values given the constraints). We initialize <code>dp[0]</code> to 1, representing the base case (empty subset).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> mx <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> dp[<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> <span style="color:#666">17</span>] <span style="color:#666">=</span> {<span style="color:#666">1</span>};
</span></span><span style="display:flex;"><span>dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Iterate Over Each Element in <code>nums</code></strong>: For each integer <code>a</code> in <code>nums</code>, we update the DP array to record all possible OR values we can obtain by including <code>a</code> in various subsets.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">a</span> : nums) {
</span></span></code></pre></div></li>
<li>
<p><strong>Update DP Array</strong>: For each element <code>a</code>, we iterate backward through the DP array from <code>mx</code> down to 0. For each index <code>i</code> in <code>dp</code>, <code>dp[i | a] += dp[i]</code> updates the count of subsets achieving the OR value <code>i | a</code> (which represents adding <code>a</code> to the subset represented by <code>i</code>).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> mx; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>        dp[i <span style="color:#666">|</span> a] <span style="color:#666">+=</span> dp[i];
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div></li>
<li>
<p><strong>Update Maximum OR Value</strong>: After processing each element, we update <code>mx</code> to reflect the cumulative maximum OR value achievable with the current subset of <code>nums</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    mx <span style="color:#666">|=</span> a;
</span></span></code></pre></div></li>
<li>
<p><strong>Return Result</strong>: After processing all elements, <code>dp[mx]</code> will contain the number of subsets with the maximum OR value <code>mx</code>. We return this value.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> dp[mx];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity is (O(n \cdot 2^{\text{max_bits}})), where <code>n</code> is the number of elements in <code>nums</code>, and <code>max_bits</code> represents the bit width necessary to cover all potential OR results given the constraints. Since we iterate over each element in <code>nums</code> and process a limited range of OR values for each, the complexity is feasible within the problem constraints.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(2^{\text{max_bits}})) due to the DP array <code>dp</code>, which stores the counts of each possible OR result up to <code>1 &lt;&lt; max_bits</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution uses a clever combination of dynamic programming and bitwise operations to efficiently find the count of subsets achieving the maximum OR value for any list of integers <code>nums</code>. By keeping track of possible OR values with a DP array, the code ensures that all possible subsets are accounted for without explicitly generating them. The result is a highly optimized solution that leverages the power of bitwise operations for an efficient count of maximum OR subsets. This approach demonstrates an effective way to handle subset generation problems with specific bitwise criteria.</p>
<p><a href="https://leetcode.com/problems/count-number-of-maximum-bitwise-or-subsets/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/_wBj3IMV7tY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
