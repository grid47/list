<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2410: Maximum Matching of Players With Trainers | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2410: Maximum Matching of Players With Trainers">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2410: Maximum Matching of Players With Trainers in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2410-maximum-matching-of-players-with-trainers/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2410: Maximum Matching of Players With Trainers">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2410: Maximum Matching of Players With Trainers in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2410: Maximum Matching of Players With Trainers</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode742s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> matchPlayersAndTrainers(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> man, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> master) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> pq, qq;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> man.size(), n <span style="color:#666">=</span> master.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            pq.push(man[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            qq.push(master[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty() <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>qq.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>qq.empty() <span style="color:#666">&amp;&amp;</span> pq.top() <span style="color:#666">&gt;</span> qq.top())
</span></span><span style="display:flex;"><span>                qq.pop();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>qq.empty()) {
</span></span><span style="display:flex;"><span>                cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                qq.pop();
</span></span><span style="display:flex;"><span>                pq.pop();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given two lists <code>man</code> and <code>master</code>, where each list contains positive integers representing the skill levels of players and trainers, respectively, the task is to match the players to the trainers. Each player can be matched with a trainer if the player&rsquo;s skill is less than or equal to the trainer&rsquo;s skill. The goal is to determine the maximum number of matches that can be made under these constraints.</p>
<h3 id="approach">Approach</h3>
<p>The key idea is to match the players to trainers in an optimal way by always attempting to find the least skilled trainer who can accommodate the current player. This allows for the most efficient use of trainers, ensuring that players are matched as often as possible.</p>
<p>The approach involves sorting the players and trainers, and using a greedy approach to match them. Here is a detailed breakdown of the approach:</p>
<ol>
<li>
<p><strong>Use Two Priority Queues</strong>:</p>
<ul>
<li>A priority queue (min-heap) is used to store both players and trainers. The players are pushed into the queue to ensure that we can always process the least skilled player first.</li>
<li>Similarly, the trainers are stored in another priority queue to retrieve the least skilled trainer who is still available.</li>
</ul>
</li>
<li>
<p><strong>Greedy Matching</strong>:</p>
<ul>
<li>For each player (starting from the least skilled), we check if there exists a trainer whose skill is greater than or equal to the player&rsquo;s skill. If such a trainer is found, the player is matched with the trainer, and both are removed from their respective queues.</li>
<li>The process continues until no more matches can be made.</li>
</ul>
</li>
<li>
<p><strong>End Condition</strong>:</p>
<ul>
<li>The algorithm terminates when either all players have been matched or there are no more trainers who can accommodate the remaining players.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-initialize-priority-queues">1. Initialize Priority Queues</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> pq, qq;
</span></span></code></pre></div><ul>
<li>Two priority queues are declared: <code>pq</code> for storing players and <code>qq</code> for storing trainers.</li>
<li>The <code>greater&lt;int&gt;</code> comparator is used to turn the default priority queue (which is a max-heap) into a min-heap. This ensures that the player with the lowest skill level is always at the top of the heap.</li>
</ul>
<h4 id="2-populate-the-priority-queues-with-players-and-trainers">2. Populate the Priority Queues with Players and Trainers</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> man.size(), n <span style="color:#666">=</span> master.size();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    pq.push(man[i]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    qq.push(master[i]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>man</code> vector (players) and <code>master</code> vector (trainers) are processed to fill the priority queues.</li>
<li>Each element in the <code>man</code> vector (representing player skill levels) is pushed into the <code>pq</code> priority queue.</li>
<li>Similarly, each element in the <code>master</code> vector (representing trainer skill levels) is pushed into the <code>qq</code> priority queue.</li>
</ul>
<h4 id="3-greedily-match-players-with-trainers">3. Greedily Match Players with Trainers</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty() <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>qq.empty()) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>qq.empty() <span style="color:#666">&amp;&amp;</span> pq.top() <span style="color:#666">&gt;</span> qq.top()) {
</span></span><span style="display:flex;"><span>        qq.pop();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>qq.empty()) {
</span></span><span style="display:flex;"><span>        cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        qq.pop();
</span></span><span style="display:flex;"><span>        pq.pop();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>A variable <code>cnt</code> is initialized to <code>0</code> to keep track of the number of successful matches.</li>
<li>The outer <code>while</code> loop continues as long as both priority queues (<code>pq</code> and <code>qq</code>) are not empty.
<ul>
<li><strong>Inner while loop</strong>: This loop checks if the current player’s skill (at the top of the <code>pq</code>) is greater than the current trainer&rsquo;s skill (at the top of the <code>qq</code>). If the player&rsquo;s skill is higher, the trainer is removed from the <code>qq</code> queue because the trainer cannot accommodate this player, and we need to try the next trainer.</li>
<li><strong>Matching</strong>: If a trainer is found that can accommodate the current player (i.e., the player&rsquo;s skill is less than or equal to the trainer’s skill), we increment the match count <code>cnt</code>, and both the player and the trainer are removed from their respective queues.</li>
</ul>
</li>
</ul>
<h4 id="4-return-the-result">4. Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span></code></pre></div><ul>
<li>Once all possible matches have been made, the function returns the total count <code>cnt</code>, which is the number of successful matches.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ol>
<li>
<p><strong>Filling the Priority Queues</strong>:</p>
<ul>
<li>Pushing each element from the <code>man</code> and <code>master</code> vectors into the priority queues takes <code>O(m log m)</code> and <code>O(n log n)</code> time, respectively, where <code>m</code> is the number of players and <code>n</code> is the number of trainers.</li>
</ul>
</li>
<li>
<p><strong>Greedy Matching</strong>:</p>
<ul>
<li>The greedy matching part involves checking each player against the available trainers. The worst-case scenario involves popping from the priority queue for each player, which takes <code>O(log n)</code> time.</li>
<li>Hence, for <code>m</code> players, the greedy matching loop takes <code>O(m log n)</code> time.</li>
</ul>
</li>
</ol>
<p>Thus, the overall time complexity is:</p>
<ul>
<li><strong>O(m log m + n log n + m log n)</strong></li>
</ul>
<p>This can be simplified to <strong>O(m log m + n log n)</strong>, as the matching process does not exceed the number of players <code>m</code>.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is dominated by the space used by the two priority queues, each of which can hold up to <code>m</code> and <code>n</code> elements, respectively.</li>
</ul>
<p>Thus, the space complexity is <strong>O(m + n)</strong>.</p>
<h3 id="conclusion">Conclusion</h3>
<p>The solution efficiently solves the problem of matching players to trainers using a greedy approach with priority queues. By sorting the players and trainers based on their skill levels, and then attempting to match the least skilled player with the least skilled trainer that can accommodate them, we ensure that the number of successful matches is maximized.</p>
<p>This approach is both time and space efficient, with a time complexity of <strong>O(m log m + n log n)</strong> and space complexity of <strong>O(m + n)</strong>, making it well-suited for large inputs.</p>
<p><a href="https://leetcode.com/problems/maximum-matching-of-players-with-trainers/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/rvASCADV4Lw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
