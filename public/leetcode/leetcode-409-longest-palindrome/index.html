<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 409: Longest Palindrome | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 409: Longest Palindrome">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 409: Longest Palindrome in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-409-longest-palindrome/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 409: Longest Palindrome">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 409: Longest Palindrome in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Greedy">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 409: Longest Palindrome</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1123s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/409.webp" 
           alt="A string where the longest palindrome is highlighted, with characters mirroring in a soft glow." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 409: Longest Palindrome Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1123s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> longestPalindrome(string s) {
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">char</span> <span style="color:#a0a000">x</span>: s)
</span></span><span style="display:flex;"><span>            mp[x]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">bool</span> odd <span style="color:#666">=</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> [key, val]<span style="color:#666">:</span> mp) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(val <span style="color:#666">%</span> <span style="color:#666">2</span>) odd <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span> (val<span style="color:#666">/</span><span style="color:#666">2</span>) <span style="color:#666">*</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> odd<span style="color:#666">?</span> res <span style="color:#666">+</span> <span style="color:#666">1</span><span style="color:#666">:</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to find the length of the longest palindrome that can be formed by rearranging the characters in a given string. A palindrome is a string that reads the same forwards and backwards. The goal is to determine the length of the longest possible palindrome that can be formed using the characters of the input string.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to focus on understanding the structure of palindromes and how to maximize the number of characters used to form a palindrome.</p>
<ol>
<li>
<p><strong>Palindrome Structure</strong>:</p>
<ul>
<li>A palindrome has the property that characters appear in pairs. For example, in the string &ldquo;abba&rdquo;, the characters &lsquo;a&rsquo; and &lsquo;b&rsquo; appear twice.</li>
<li>The key observation here is that for a string to form a palindrome, every character except at most one must appear an even number of times. The character that appears an odd number of times can be placed in the center of the palindrome (if necessary), but it can only contribute one occurrence to the palindrome.</li>
</ul>
</li>
<li>
<p><strong>Steps to Solve</strong>:</p>
<ul>
<li><strong>Count Character Frequencies</strong>: We begin by counting the frequency of each character in the string.</li>
<li><strong>Use Characters with Even Frequencies</strong>: For each character that appears an even number of times, we can use all of its occurrences to form pairs in the palindrome.</li>
<li><strong>Handle Odd Frequency Characters</strong>: If a character appears an odd number of times, we can use the largest even number of occurrences (i.e., the count minus one) to form pairs, and at most one such character can be placed at the center of the palindrome.</li>
</ul>
</li>
<li>
<p><strong>Result Calculation</strong>:</p>
<ul>
<li>The total length of the palindrome is calculated by summing the lengths of pairs formed by even-frequency characters.</li>
<li>If there are characters with odd frequencies, one character can be placed at the center, contributing 1 additional character to the palindrome.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-count-character-frequencies">Step 1: Count Character Frequencies</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">char</span> <span style="color:#a0a000">x</span>: s)
</span></span><span style="display:flex;"><span>    mp[x]<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>We first initialize a <code>map</code> called <code>mp</code> to store the frequency of each character in the string <code>s</code>. The <code>map</code> automatically sorts the characters by their keys (i.e., characters in lexicographical order).</li>
<li>Then, we iterate over each character <code>x</code> in the string <code>s</code> and update its count in the map. After this step, <code>mp</code> contains each character and its corresponding frequency in the string.</li>
</ul>
<h4 id="step-2-calculate-the-length-of-the-palindrome">Step 2: Calculate the Length of the Palindrome</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> odd <span style="color:#666">=</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> [key, val]<span style="color:#666">:</span> mp) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(val <span style="color:#666">%</span> <span style="color:#666">2</span>) odd <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> (val<span style="color:#666">/</span><span style="color:#666">2</span>) <span style="color:#666">*</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We initialize two variables:
<ul>
<li><code>odd</code>, a boolean flag to track whether we have encountered any characters with an odd frequency.</li>
<li><code>res</code>, an integer to accumulate the total length of the longest palindrome that can be formed.</li>
</ul>
</li>
<li>We then iterate over the <code>map</code> of character frequencies (<code>mp</code>), where <code>key</code> is the character and <code>val</code> is its frequency.
<ul>
<li>If <code>val</code> is odd (<code>val % 2</code>), we set the <code>odd</code> flag to <code>true</code>, indicating that we have encountered at least one character with an odd frequency.</li>
<li>For each character, we add the largest even number of occurrences to the result. This is achieved by calculating <code>(val / 2) * 2</code>, which ensures that we only count the even occurrences of each character (for example, if a character appears 5 times, we add 4 to the result).</li>
</ul>
</li>
</ul>
<h4 id="step-3-final-adjustment-for-center-character">Step 3: Final Adjustment for Center Character</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> odd <span style="color:#666">?</span> res <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">:</span> res;
</span></span></code></pre></div><ul>
<li>After processing all characters, we check if we have encountered any character with an odd frequency (<code>odd</code> is <code>true</code>). If so, we can place one character in the center of the palindrome, contributing 1 additional character to the result.</li>
<li>If there is at least one character with an odd frequency, we add 1 to <code>res</code> to account for this center character.</li>
<li>Finally, we return the result, which is the length of the longest palindrome that can be formed.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Counting Frequencies</strong>: The first step, counting the frequency of characters in the string, takes <code>O(n)</code> time, where <code>n</code> is the length of the string.</li>
<li><strong>Iterating Over the Map</strong>: The second step involves iterating over the map of character frequencies. The number of distinct characters in the string is at most 26 (if the string contains only lowercase English letters). Therefore, this step takes <code>O(26)</code> time, which simplifies to <code>O(1)</code> as it is a constant time operation.</li>
<li><strong>Overall Time Complexity</strong>: The overall time complexity of the algorithm is dominated by the time it takes to count character frequencies, which is <code>O(n)</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>We are using a <code>map</code> to store the frequencies of characters. In the worst case, if all characters in the string are distinct, the map will contain <code>n</code> entries. Therefore, the space complexity is <code>O(n)</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution effectively solves the problem of finding the length of the longest palindrome that can be formed from a given string by:</p>
<ul>
<li>Counting the frequencies of characters in the string.</li>
<li>Summing up the largest even counts of characters to form pairs in the palindrome.</li>
<li>Adding 1 character in the center if there are characters with odd frequencies.</li>
</ul>
<p>This approach is optimal, with a time complexity of <code>O(n)</code> and space complexity of <code>O(n)</code>, making it efficient even for larger strings. The solution is easy to implement and leverages simple principles of palindrome construction to efficiently calculate the result.</p>
<p><a href="https://leetcode.com/problems/longest-palindrome/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/_g9jrLuAphs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
