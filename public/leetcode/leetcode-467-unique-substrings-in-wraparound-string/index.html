<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 467: Unique Substrings in Wraparound String | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 467: Unique Substrings in Wraparound String">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 467: Unique Substrings in Wraparound String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-467-unique-substrings-in-wraparound-string/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 467: Unique Substrings in Wraparound String">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 467: Unique Substrings in Wraparound String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 467: Unique Substrings in Wraparound String</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1153s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/467.webp" 
           alt="A glowing string where unique substrings wrap around and light up as they form distinct patterns." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 467: Unique Substrings in Wraparound String Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1153s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> findSubstringInWraproundString(string p) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> len(<span style="color:#666">26</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cur <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        len[p[<span style="color:#666">0</span>] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> p.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>((p[i] <span style="color:#666">+</span> <span style="color:#666">26</span> <span style="color:#666">-</span> p[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) <span style="color:#666">%</span> <span style="color:#666">26</span> <span style="color:#666">==</span> <span style="color:#666">1</span>) cur<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> cur <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            len[p[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>] <span style="color:#666">=</span> max(len[p[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>], cur);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">accumulate</span>(len.begin(), len.end(), <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires finding the number of unique substrings that can be formed from a string <code>p</code> in a wraparound string. A wraparound string is one where after the last character, the string wraps around to the first character in a cyclic manner. The substrings we are interested in must be contiguous, and they need to follow the wraparound rule. The goal is to determine how many distinct substrings can be created from such a string.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem efficiently, we must think about how we can utilize the cyclic nature of the string and the fact that substrings can overlap. Instead of explicitly generating all substrings and checking for uniqueness, we can leverage dynamic programming (DP) to keep track of the longest possible substring that ends at each character. The key observation is that substrings formed from a continuous sequence of consecutive characters in the alphabet (in a wraparound manner) should be handled effectively using a linear scan.</p>
<h4 id="key-insights">Key Insights:</h4>
<ol>
<li>
<p><strong>Wraparound Substrings</strong>: If two consecutive characters in the string <code>p</code> form a valid subsequence in a cyclic manner, we should treat them as a part of a larger valid substring.</p>
<ul>
<li>For example, if <code>p = &quot;abc&quot;</code>, then the substrings <code>&quot;a&quot;</code>, <code>&quot;b&quot;</code>, <code>&quot;c&quot;</code>, <code>&quot;ab&quot;</code>, <code>&quot;bc&quot;</code>, and <code>&quot;abc&quot;</code> are all valid.</li>
<li>Similarly, for wraparound behavior, the substring <code>&quot;z&quot;</code> followed by <code>&quot;a&quot;</code> should be treated as part of a larger substring.</li>
</ul>
</li>
<li>
<p><strong>Dynamic Programming</strong>: We can use a DP approach where:</p>
<ul>
<li>We maintain an array <code>len[26]</code> of size 26 to store the maximum length of a substring that ends with each character (<code>'a'</code>, <code>'b'</code>, &hellip;, <code>'z'</code>).</li>
<li>As we iterate through the string <code>p</code>, we calculate the length of substrings that end at each character, considering the cyclic nature of the string.</li>
</ul>
</li>
<li>
<p><strong>Accumulate Results</strong>: The total number of unique substrings can be calculated by summing the values stored in the <code>len</code> array, which represent the maximum lengths of substrings that end at each character.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-data-structures">Step 1: Initialize Data Structures</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> len(<span style="color:#666">26</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cur <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>len[p[<span style="color:#666">0</span>] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>We initialize a vector <code>len</code> of size 26, where each element corresponds to a character of the alphabet. Initially, all values are set to 0.</li>
<li>We also initialize <code>cur</code> to 1, representing the current length of the substring that we are examining.</li>
<li>The first character in the string <code>p</code> is considered as a valid substring of length 1, so we set <code>len[p[0] - 'a'] = 1</code>.</li>
</ul>
<h4 id="step-2-iterate-through-the-string">Step 2: Iterate Through the String</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> p.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>((p[i] <span style="color:#666">+</span> <span style="color:#666">26</span> <span style="color:#666">-</span> p[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) <span style="color:#666">%</span> <span style="color:#666">26</span> <span style="color:#666">==</span> <span style="color:#666">1</span>) cur<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span> cur <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    len[p[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>] <span style="color:#666">=</span> max(len[p[i] <span style="color:#666">-</span> <span style="color:#b44">&#39;a&#39;</span>], cur);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We start iterating over the string <code>p</code> from the second character (index 1).</li>
<li>For each character <code>p[i]</code>, we check if it forms a valid substring with the previous character <code>p[i - 1]</code> based on the wraparound condition.
<ul>
<li>The expression <code>(p[i] + 26 - p[i - 1]) % 26 == 1</code> checks whether the characters <code>p[i]</code> and <code>p[i - 1]</code> are consecutive in the alphabet (considering wraparound).</li>
<li>If this condition holds true, it means that we can extend the current valid substring, so we increment the <code>cur</code> value.</li>
<li>If the condition doesn&rsquo;t hold, we reset <code>cur</code> to 1 because we cannot extend the current substring.</li>
</ul>
</li>
<li>We then update <code>len[p[i] - 'a']</code> to store the maximum length of a substring that ends with the character <code>p[i]</code>.</li>
</ul>
<h4 id="step-3-sum-the-results">Step 3: Sum the Results</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">accumulate</span>(len.begin(), len.end(), <span style="color:#666">0</span>);
</span></span></code></pre></div><ul>
<li>After iterating through the string and updating the <code>len</code> array, we simply sum all the values in <code>len</code> using <code>accumulate</code>. Each value in <code>len</code> represents the maximum length of substrings that end with the corresponding character. By summing these values, we get the total number of distinct substrings that can be formed from the string <code>p</code> under the wraparound constraint.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Iterating Through the String</strong>: We iterate through the string <code>p</code> once, which takes <code>O(n)</code> time, where <code>n</code> is the length of the string.</li>
<li><strong>Accumulate</strong>: We perform a sum operation over the array <code>len</code>, which takes <code>O(26)</code> time since the array has a fixed size of 26.</li>
<li><strong>Overall Time Complexity</strong>: The total time complexity of the solution is <code>O(n)</code>, where <code>n</code> is the length of the string <code>p</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Space for <code>len</code> Array</strong>: We use an array <code>len</code> of size 26 to store the maximum length of substrings ending with each character, which takes <code>O(1)</code> space (constant space).</li>
<li><strong>Overall Space Complexity</strong>: The space complexity is <code>O(1)</code> because we only use a constant amount of extra space for the <code>len</code> array.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently computes the number of unique substrings in the wraparound string using a dynamic programming approach. The algorithm processes the string in a single pass (<code>O(n)</code> time complexity) and uses constant space (<code>O(1)</code> space complexity), making it highly efficient. The key insight is to track the longest valid substring that ends at each character and sum the results to get the total number of unique substrings. This approach ensures that we consider all possible wraparound substrings without explicitly generating each one, making it optimal for large inputs.</p>
<p><a href="https://leetcode.com/problems/unique-substrings-in-wraparound-string/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
