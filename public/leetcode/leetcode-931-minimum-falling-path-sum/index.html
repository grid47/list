<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 931: Minimum Falling Path Sum | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 931: Minimum Falling Path Sum">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 931: Minimum Falling Path Sum in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-931-minimum-falling-path-sum/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 931: Minimum Falling Path Sum">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 931: Minimum Falling Path Sum in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-05T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Matrix">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 931: Minimum Falling Path Sum</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1398s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> minFallingPathSum(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> mtx) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> mtx.size(), n <span style="color:#666">=</span> mtx[<span style="color:#666">0</span>].size();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> max(j <span style="color:#666">-</span> <span style="color:#666">1</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> r <span style="color:#666">=</span> min(j <span style="color:#666">+</span> <span style="color:#666">1</span>, n <span style="color:#666">-</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            mtx[i][j] <span style="color:#666">+=</span> min(mtx[i<span style="color:#666">-</span> <span style="color:#666">1</span>][l], min(mtx[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j], mtx[i <span style="color:#666">-</span> <span style="color:#666">1</span>][r]));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> mtx[m <span style="color:#666">-</span> <span style="color:#666">1</span>][<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        res <span style="color:#666">=</span> min(res, mtx[m <span style="color:#666">-</span> <span style="color:#666">1</span>][j]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find the minimum sum of a falling path through a matrix. A falling path starts at any element in the first row and chooses one element from each row. For each element, the next row element must be chosen from one of the three possible positions: directly below, or diagonally left or right. The goal is to minimize the sum of the elements along the falling path.</p>
<h3 id="approach">Approach</h3>
<p>This problem can be efficiently solved using <strong>dynamic programming</strong>. The idea is to build a solution incrementally, where each element in the matrix represents the minimum sum of the falling path to reach that element.</p>
<h4 id="key-steps-to-solve-the-problem">Key Steps to Solve the Problem:</h4>
<ol>
<li>
<p><strong>Dynamic Programming Table (In-Place Modification)</strong>:
We use the matrix itself to store the intermediate results. For each element in the matrix, the value is updated to represent the minimum sum of a falling path that ends at that element.</p>
</li>
<li>
<p><strong>Transition</strong>:</p>
<ul>
<li>For each element in the current row, the value is updated by adding the current element to the minimum of the three possible previous elements from the row above (directly above, left-diagonal, right-diagonal).</li>
<li>This allows us to &ldquo;fall&rdquo; from row to row, choosing the best path while minimizing the sum.</li>
</ul>
</li>
<li>
<p><strong>Boundary Considerations</strong>:</p>
<ul>
<li>The first row has no previous row to consider, so it remains unchanged.</li>
<li>For each element in a row, we calculate the minimum sum from the previous row, considering only the valid indices (left, center, and right).</li>
</ul>
</li>
<li>
<p><strong>Final Result</strong>:
Once the matrix is updated, the final answer is the minimum value in the last row, as it represents the minimum sum of the falling paths that end in any column of the last row.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Matrix Dimensions</strong>:
First, we define <code>m</code> and <code>n</code> to represent the number of rows and columns in the matrix, respectively.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> mtx.size(), n <span style="color:#666">=</span> mtx[<span style="color:#666">0</span>].size();
</span></span></code></pre></div></li>
<li>
<p><strong>Dynamic Programming Update</strong>:
We start from the second row (since the first row doesn&rsquo;t need updating) and update each element. For each element, we consider the three possible positions from the row above (directly above, left-diagonal, right-diagonal). The value of the current element is updated by adding the minimum of these three values.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> max(j <span style="color:#666">-</span> <span style="color:#666">1</span>, <span style="color:#666">0</span>);  <span style="color:#080;font-style:italic">// Left diagonal (with boundary check)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">int</span> r <span style="color:#666">=</span> min(j <span style="color:#666">+</span> <span style="color:#666">1</span>, n <span style="color:#666">-</span> <span style="color:#666">1</span>);  <span style="color:#080;font-style:italic">// Right diagonal (with boundary check)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    mtx[i][j] <span style="color:#666">+=</span> min(mtx[i<span style="color:#666">-</span><span style="color:#666">1</span>][l], min(mtx[i<span style="color:#666">-</span><span style="color:#666">1</span>][j], mtx[i<span style="color:#666">-</span><span style="color:#666">1</span>][r]));
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Here, we use <code>max(j - 1, 0)</code> to ensure that the left diagonal doesn&rsquo;t go out of bounds, and <code>min(j + 1, n - 1)</code> ensures the right diagonal stays within bounds.</p>
</li>
<li>
<p><strong>Result Calculation</strong>:
Once the matrix is updated, the result is the minimum value from the last row, as it represents the smallest falling path sum from the first row to the last row.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> mtx[m <span style="color:#666">-</span> <span style="color:#666">1</span>][<span style="color:#666">0</span>];  <span style="color:#080;font-style:italic">// Start with the first element of the last row
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    res <span style="color:#666">=</span> min(res, mtx[m <span style="color:#666">-</span> <span style="color:#666">1</span>][j]);  <span style="color:#080;font-style:italic">// Find the minimum value in the last row
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Return the Result</strong>:
Finally, we return the result, which is the minimum falling path sum.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div></li>
</ol>
<h3 id="time-complexity">Time Complexity</h3>
<p>The time complexity of this solution is <strong>O(m * n)</strong>, where <code>m</code> is the number of rows and <code>n</code> is the number of columns in the matrix. Here&rsquo;s why:</p>
<ul>
<li>We loop through each element of the matrix exactly once.</li>
<li>For each element, we perform constant-time operations (comparing three values and updating the matrix).</li>
</ul>
<p>Thus, the total time complexity is proportional to the size of the matrix.</p>
<h3 id="space-complexity">Space Complexity</h3>
<p>The space complexity is <strong>O(1)</strong> if we modify the matrix in place (as done in this solution). Since we are not using any additional data structures that depend on the size of the input matrix, the space complexity remains constant.</p>
<h3 id="edge-cases">Edge Cases</h3>
<ul>
<li><strong>Single Row Matrix</strong>: If the matrix has only one row, there is no falling path to calculate, so the result is simply the minimum value from that row.</li>
<li><strong>Single Column Matrix</strong>: If the matrix has only one column, there is only one path (straight down), and the result is the sum of the elements along that path.</li>
<li><strong>Matrix with All Positive Values</strong>: In this case, the algorithm will simply return the minimal sum path based on the grid structure.</li>
<li><strong>Matrix with All Negative Values</strong>: The algorithm still works for negative values, but it will find the path that results in the least negative sum.</li>
<li><strong>Empty Matrix</strong>: The solution assumes a non-empty matrix, but handling an empty matrix can be done by checking for this case at the start and returning <code>0</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution to this problem efficiently computes the minimum sum of a falling path using dynamic programming. By modifying the input matrix in-place, we reduce the space complexity to <strong>O(1)</strong> while maintaining an <strong>O(m * n)</strong> time complexity, which is optimal for this problem. This method is not only efficient but also straightforward, making it an ideal approach for solving matrix-related dynamic programming problems involving path sums.</p>
<p>By applying this approach, you can handle larger input sizes efficiently while maintaining clarity in the solution&rsquo;s logic. The use of the sliding window (for each element&rsquo;s left and right neighbors) ensures that we consider only valid transitions, which makes the solution robust and adaptable to various types of grid configurations.</p>
<p><a href="https://leetcode.com/problems/minimum-falling-path-sum/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/b_F3mz9l-uQ?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
