<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 811: Subdomain Visit Count | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 811: Subdomain Visit Count">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 811: Subdomain Visit Count in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-811-subdomain-visit-count/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 811: Subdomain Visit Count">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 811: Subdomain Visit Count in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-17T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Counting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 811: Subdomain Visit Count</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1323s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/811.webp" 
           alt="A set of web domains where subdomains are counted, with each subdomain glowing softly as itâ€™s identified." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 811: Subdomain Visit Count Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1323s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> subdomainVisits(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> cpdomains) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span>string, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> count;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">cp</span>: cpdomains) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> cp.find(<span style="color:#b44">&#34; &#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> stoi(cp.substr(<span style="color:#666">0</span>, i));
</span></span><span style="display:flex;"><span>            string s <span style="color:#666">=</span> cp.substr(i <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;.&#39;</span>)
</span></span><span style="display:flex;"><span>                    count[s.substr(i <span style="color:#666">+</span> <span style="color:#666">1</span>)] <span style="color:#666">+=</span> n;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            count[s] <span style="color:#666">+=</span> n;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> res;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: count)
</span></span><span style="display:flex;"><span>        res.push_back(to_string(it.second) <span style="color:#666">+</span> <span style="color:#b44">&#34; &#34;</span> <span style="color:#666">+</span> it.first);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task involves counting the number of visits to various subdomains from a given list of domain visit counts. Each element in the list contains a domain and the number of times it was visited. The challenge is to break down these domain visits into subdomains and tally the total number of visits to each subdomain. For instance, for a domain &ldquo;sports.yahoo.com&rdquo;, we should also consider visits to &ldquo;yahoo.com&rdquo; and &ldquo;com&rdquo;, and aggregate the visit counts accordingly.</p>
<p>We are required to return the total visit count for each subdomain in the format: <code>count subdomain</code>. Subdomains include not only the full domain name but also any part of it (e.g., for the domain &ldquo;sports.yahoo.com&rdquo;, the subdomains would include &ldquo;yahoo.com&rdquo;, &ldquo;com&rdquo;).</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we need to:</p>
<ol>
<li>Parse each domain visit string to extract the count and domain.</li>
<li>Split each domain into its respective subdomains.</li>
<li>Aggregate the visit counts for each subdomain.</li>
<li>Format the result by returning each subdomain with its total count.</li>
</ol>
<p>We can leverage the following approach:</p>
<ul>
<li><strong>Use a HashMap</strong>: The problem naturally fits the use of a hash map (<code>unordered_map</code>) to store and accumulate the visit counts for each subdomain.</li>
<li><strong>String Manipulation</strong>: For each domain, we break it down by iterating through the segments separated by periods (&rsquo;.&rsquo;), counting the visits for the full domain as well as its subdomains.</li>
<li><strong>Efficiency</strong>: Using a hash map allows us to efficiently store and update the visit counts. Given that we will be processing each domain string and its subdomains only once, the solution is optimal in terms of time complexity.</li>
</ul>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-declare-a-hashmap-to-track-subdomain-visits">Step 1: Declare a HashMap to Track Subdomain Visits</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span>string, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> count;
</span></span></code></pre></div><ul>
<li>We use an unordered map <code>count</code> to store the number of visits for each subdomain. The key is the subdomain string, and the value is the count of visits.</li>
</ul>
<h4 id="step-2-parse-the-input-list-of-domain-visits">Step 2: Parse the Input List of Domain Visits</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">cp</span>: cpdomains) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> cp.find(<span style="color:#b44">&#34; &#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> stoi(cp.substr(<span style="color:#666">0</span>, i)); <span style="color:#080;font-style:italic">// Extract the visit count
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    string s <span style="color:#666">=</span> cp.substr(i <span style="color:#666">+</span> <span style="color:#666">1</span>); <span style="color:#080;font-style:italic">// Extract the domain part
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li>We iterate over each domain visit string in <code>cpdomains</code>.</li>
<li><code>cp.find(&quot; &quot;)</code> finds the space that separates the visit count from the domain name.</li>
<li><code>n</code> stores the number of visits, which is extracted by taking the substring before the space and converting it to an integer using <code>stoi</code>.</li>
<li><code>s</code> contains the domain name, which is extracted from the part of the string after the space.</li>
</ul>
<h4 id="step-3-split-the-domain-into-subdomains">Step 3: Split the Domain into Subdomains</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;.&#39;</span>)
</span></span><span style="display:flex;"><span>        count[s.substr(i <span style="color:#666">+</span> <span style="color:#666">1</span>)] <span style="color:#666">+=</span> n;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>For each domain <code>s</code>, we iterate over its characters and check if the character is a dot (&rsquo;.&rsquo;).</li>
<li>Every time we encounter a dot, we consider the substring starting from the character after the dot as a subdomain.</li>
<li>We update the count for this subdomain in the map <code>count</code>, adding the visit count <code>n</code> for each occurrence of a subdomain.</li>
</ul>
<h4 id="step-4-include-the-full-domain-in-the-count">Step 4: Include the Full Domain in the Count</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>count[s] <span style="color:#666">+=</span> n;
</span></span></code></pre></div><ul>
<li>After processing all subdomains, we also increment the count for the full domain (<code>s</code>).</li>
</ul>
<h4 id="step-5-generate-the-result">Step 5: Generate the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> res;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: count)
</span></span><span style="display:flex;"><span>    res.push_back(to_string(it.second) <span style="color:#666">+</span> <span style="color:#b44">&#34; &#34;</span> <span style="color:#666">+</span> it.first);
</span></span></code></pre></div><ul>
<li>We create an empty vector <code>res</code> to store the final result.</li>
<li>We iterate over the entries in <code>count</code> and for each subdomain, we append a string to the result in the format <code>&quot;count subdomain&quot;</code>, where <code>count</code> is the total number of visits and <code>subdomain</code> is the domain.</li>
<li><code>to_string(it.second)</code> converts the count (an integer) into a string, and <code>it.first</code> is the subdomain.</li>
</ul>
<h4 id="step-6-return-the-final-result">Step 6: Return the Final Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>Finally, we return the <code>res</code> vector, which contains the visit counts for all subdomains.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n * m)</strong>:
<ul>
<li>Here, <code>n</code> is the number of domain visit entries in the <code>cpdomains</code> list, and <code>m</code> is the average length of the domain strings.</li>
<li>We process each domain string once and perform a substring operation for each segment of the domain (which is bounded by the number of dots in the domain).</li>
<li>Thus, the time complexity is linear in terms of the number of domain visit entries and the average length of the domain strings.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(k)</strong>:
<ul>
<li>Where <code>k</code> is the number of unique subdomains in the input list.</li>
<li>We store each subdomain in the hash map <code>count</code>, so the space complexity depends on the number of unique subdomains.</li>
<li>In the worst case, the space complexity is proportional to the number of distinct subdomains across all domain visit entries.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution efficiently counts the visits to each subdomain by leveraging string manipulation and hash maps. By processing each domain string once, breaking it down into subdomains, and aggregating the counts, we ensure that the solution is both time and space efficient.</p>
<p>The key steps in the algorithm are:</p>
<ol>
<li>Extracting the visit count and domain name from each entry.</li>
<li>Iterating through the domain to identify subdomains and accumulate the visit counts.</li>
<li>Storing the results in a hash map and then formatting the final output.</li>
</ol>
<p>This approach guarantees that the solution runs in linear time with respect to the number of domain entries and their lengths. The use of an unordered map ensures that subdomain visits are counted efficiently, providing an optimal solution for the problem.</p>
<p>Overall, this solution is well-suited for handling large input sizes due to its simplicity and efficiency. The problem combines the concepts of string manipulation and hash maps, which are common in real-world software engineering tasks such as web analytics and domain tracking.</p>
<p><a href="https://leetcode.com/problems/subdomain-visit-count/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/oe_eXlH5dUM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
