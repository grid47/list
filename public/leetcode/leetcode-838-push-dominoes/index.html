<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 838: Push Dominoes | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 838: Push Dominoes">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 838: Push Dominoes in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-838-push-dominoes/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 838: Push Dominoes">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 838: Push Dominoes in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 838: Push Dominoes</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1339s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string pushDominoes(string d) {
</span></span><span style="display:flex;"><span>        d <span style="color:#666">=</span> <span style="color:#b44">&#39;L&#39;</span> <span style="color:#666">+</span> d <span style="color:#666">+</span> <span style="color:#b44">&#39;R&#39;</span>;
</span></span><span style="display:flex;"><span>        string res <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> d.length(); j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(d[j] <span style="color:#666">==</span> <span style="color:#b44">&#39;.&#39;</span>) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> middle <span style="color:#666">=</span> j <span style="color:#666">-</span> i <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) 
</span></span><span style="display:flex;"><span>                res <span style="color:#666">+=</span> d[i];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(d[i] <span style="color:#666">==</span> d[j])
</span></span><span style="display:flex;"><span>                res <span style="color:#666">+=</span> string(middle, d[i]);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (d[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;L&#39;</span> <span style="color:#666">&amp;&amp;</span> d[j] <span style="color:#666">==</span> <span style="color:#b44">&#39;R&#39;</span>)
</span></span><span style="display:flex;"><span>                res <span style="color:#666">+=</span> string(middle, <span style="color:#b44">&#39;.&#39;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>                res <span style="color:#666">+=</span> string(middle<span style="color:#666">/</span><span style="color:#666">2</span>, <span style="color:#b44">&#39;R&#39;</span>) <span style="color:#666">+</span> string(middle<span style="color:#666">%</span><span style="color:#666">2</span>, <span style="color:#b44">&#39;.&#39;</span>) <span style="color:#666">+</span> string(middle<span style="color:#666">/</span><span style="color:#666">2</span>, <span style="color:#b44">&#39;L&#39;</span>);
</span></span><span style="display:flex;"><span>            i <span style="color:#666">=</span> j;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand is related to the &ldquo;Dominoes Falling&rdquo; game, where a string of dominoes is represented by the characters <code>'L'</code>, <code>'R'</code>, and <code>'.'</code>. In the string:</p>
<ul>
<li><code>'L'</code> represents a domino that is falling to the left.</li>
<li><code>'R'</code> represents a domino that is falling to the right.</li>
<li><code>'.'</code> represents a domino that is upright and has yet to fall.</li>
</ul>
<p>The goal is to simulate the domino falling process and determine the final state of all the dominoes. If a domino falls to the right (<code>'R'</code>), it will cause all the dominoes to fall in the same direction until either another domino falls to the left (<code>'L'</code>) or the end of the sequence is reached. Similarly, a domino falling to the left will cause all dominoes to fall leftwards until another domino falls to the right or the sequence ends.</p>
<h3 id="approach">Approach</h3>
<p>The solution can be approached by simulating the effect of each falling domino and determining the final state of the sequence after all dominoes have fallen. Here&rsquo;s a breakdown of the approach:</p>
<ol>
<li>
<p><strong>Preprocessing:</strong></p>
<ul>
<li>We append <code>'L'</code> at the start and <code>'R'</code> at the end of the string to handle edge cases where the first or last domino isn&rsquo;t affected by other falling dominoes.</li>
</ul>
</li>
<li>
<p><strong>Iterating through the string:</strong></p>
<ul>
<li>We iterate through the string and look for sequences of consecutive upright dominoes (represented by <code>'.'</code>). These dominoes are influenced by the nearest falling domino (<code>'L'</code> or <code>'R'</code>).</li>
<li>We split the string into segments between two falling dominoes (<code>'L'</code> or <code>'R'</code>), and based on the relationship between the two falling dominoes, we determine how the upright dominoes between them will fall:
<ul>
<li>If both sides have the same direction (<code>'L'</code> to <code>'L'</code> or <code>'R'</code> to <code>'R'</code>), the dominoes in between will all fall in the same direction.</li>
<li>If the dominoes are influenced by opposite directions (<code>'L'</code> to <code>'R'</code>), the dominoes will fall towards the middle with some remaining upright dominoes if the number of upright dominoes is odd.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Edge Handling:</strong></p>
<ul>
<li>The solution ensures that no dominoes are missed by handling cases where the sequence starts or ends with a chain of falling dominoes.</li>
</ul>
</li>
<li>
<p><strong>Efficiency:</strong></p>
<ul>
<li>The process involves a single pass through the string, making it an <strong>O(n)</strong> time complexity solution where <code>n</code> is the length of the domino sequence.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>d <span style="color:#666">=</span> <span style="color:#b44">&#39;L&#39;</span> <span style="color:#666">+</span> d <span style="color:#666">+</span> <span style="color:#b44">&#39;R&#39;</span>;
</span></span></code></pre></div><ul>
<li>We append <code>'L'</code> at the start and <code>'R'</code> at the end of the string. This ensures that edge cases, where the first or last domino is unperturbed, are handled smoothly by the simulation.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>string res <span style="color:#666">=</span> <span style="color:#b44">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> d.length(); j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(d[j] <span style="color:#666">==</span> <span style="color:#b44">&#39;.&#39;</span>) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> middle <span style="color:#666">=</span> j <span style="color:#666">-</span> i <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>We initialize the result string <code>res</code> to store the final configuration of the dominoes.</li>
<li>We then loop through the modified string from index <code>1</code> to <code>d.length() - 1</code> (because the first and last characters are <code>'L'</code> and <code>'R'</code>).</li>
<li>If the current character <code>d[j]</code> is a <code>'.'</code> (i.e., an upright domino), we continue to the next domino without doing anything.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) 
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> d[i];
</span></span></code></pre></div><ul>
<li>If <code>i</code> is greater than <code>0</code>, we append <code>d[i]</code> to the result string, as it represents the start of the next segment.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(d[i] <span style="color:#666">==</span> d[j])
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> string(middle, d[i]);
</span></span></code></pre></div><ul>
<li>If both <code>d[i]</code> and <code>d[j]</code> represent the same direction (<code>'L'</code> or <code>'R'</code>), the dominoes in between will all fall in the same direction. We append <code>middle</code> number of <code>d[i]</code> characters to the result string, where <code>middle</code> represents the number of upright dominoes between the two falling dominoes.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (d[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;L&#39;</span> <span style="color:#666">&amp;&amp;</span> d[j] <span style="color:#666">==</span> <span style="color:#b44">&#39;R&#39;</span>)
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> string(middle, <span style="color:#b44">&#39;.&#39;</span>);
</span></span></code></pre></div><ul>
<li>If the dominoes on both ends are in opposite directions (<code>'L'</code> and <code>'R'</code>), the dominoes in between will not fall. They will remain upright, so we append <code>middle</code> number of <code>'.'</code> to the result.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> string(middle<span style="color:#666">/</span><span style="color:#666">2</span>, <span style="color:#b44">&#39;R&#39;</span>) <span style="color:#666">+</span> string(middle<span style="color:#666">%</span><span style="color:#666">2</span>, <span style="color:#b44">&#39;.&#39;</span>) <span style="color:#666">+</span> string(middle<span style="color:#666">/</span><span style="color:#666">2</span>, <span style="color:#b44">&#39;L&#39;</span>);
</span></span></code></pre></div><ul>
<li>If the two falling dominoes are in opposite directions (<code>'R'</code> on the left and <code>'L'</code> on the right), the dominoes between them will fall towards the middle. We calculate how many dominoes will fall to the right and how many will fall to the left based on the number of dominoes in between:
<ul>
<li>The first part <code>string(middle/2, 'R')</code> represents the dominoes falling to the right.</li>
<li>The second part <code>string(middle%2, '.')</code> represents any dominoes that remain upright if the count of upright dominoes is odd.</li>
<li>The third part <code>string(middle/2, 'L')</code> represents the dominoes falling to the left.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>i <span style="color:#666">=</span> j;
</span></span></code></pre></div><ul>
<li>We update the index <code>i</code> to be <code>j</code>, as we have processed the segment between <code>i</code> and <code>j</code>, and <code>j</code> is now the new starting point for the next segment.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>Finally, we return the result string <code>res</code> containing the final configuration of the dominoes after all of them have fallen.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: We iterate over the string exactly once, performing constant-time operations (such as string concatenations and comparisons) in each iteration. Therefore, the time complexity is linear with respect to the length of the string.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: We use an additional string <code>res</code> to store the final configuration, which has a space complexity proportional to the length of the input string.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>pushDominoes</code> function provides an efficient and clear solution to simulate the falling dominoes problem. By using a simple greedy approach and string manipulations, the algorithm computes the final configuration of dominoes after all the forces have acted on them.</p>
<p>The code uses a single loop to process each segment between falling dominoes, and the use of basic string operations ensures that the solution remains efficient with a linear time complexity of <strong>O(n)</strong>. The approach is easy to understand and works well even for large inputs.</p>
<p>The problem is a great example of how dynamic behaviors (such as the falling dominoes) can be efficiently simulated with simple iterative techniques. By treating the problem as segments of dominoes between two fixed points (<code>'L'</code> and <code>'R'</code>), we avoid unnecessary calculations and provide a clean solution with minimal overhead.</p>
<p><a href="https://leetcode.com/problems/push-dominoes/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/0_XmKkgHSdI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
