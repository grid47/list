<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2871: Split Array Into Maximum Number of Subarrays | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2871: Split Array Into Maximum Number of Subarrays">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2871: Split Array Into Maximum Number of Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2871-split-array-into-maximum-number-of-subarrays/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2871: Split Array Into Maximum Number of Subarrays">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2871: Split Array Into Maximum Number of Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Bit Manipulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2871: Split Array Into Maximum Number of Subarrays</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode992s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxSubarrays(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, cur <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">n</span> : nums) {
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> cur <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">?</span> <span style="color:#a0a000">n</span> : cur <span style="color:#666">&amp;</span> n;
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span> cur <span style="color:#666">==</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(<span style="color:#666">1</span>, res);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find the maximum number of subarrays in the array <code>nums</code> such that the bitwise AND of all elements in each subarray is zero. The subarrays should be continuous, and we are required to return the maximum number of such subarrays that satisfy the condition. If no such subarray exists, return <code>1</code>.</p>
<p>A subarray is defined as a contiguous part of the array. For example, in the array <code>[1, 2, 3]</code>, subarrays include <code>[1]</code>, <code>[2]</code>, <code>[3]</code>, <code>[1, 2]</code>, <code>[2, 3]</code>, and <code>[1, 2, 3]</code>.</p>
<p>The bitwise AND operation between two numbers results in a number that has binary bits set to 1 only in positions where both operands have a 1. For example:</p>
<ul>
<li><code>4 &amp; 5 = 4</code> because their binary representations are <code>100</code> and <code>101</code>, respectively. The result will only have a 1 in the position where both numbers have a 1 (the first position).</li>
</ul>
<p>The goal is to identify subarrays where the bitwise AND of all its elements equals 0. We need to return the number of such subarrays and ensure that the number is not less than 1.</p>
<h3 id="approach">Approach</h3>
<p>The approach to solving this problem revolves around calculating the bitwise AND for different subarrays in a linear pass through the array. Since the AND operation tends to reduce the value as we include more numbers (i.e., adding more numbers to the AND will usually set more bits to 0), we can exploit this property.</p>
<p>The steps for this approach are as follows:</p>
<ol>
<li>
<p><strong>Track the AND of the Subarray:</strong> Start with the first element of the array and maintain a running AND of the current subarray. For each new element added to the subarray, update the running AND.</p>
</li>
<li>
<p><strong>Reset when AND becomes zero:</strong> If at any point, the running AND of the subarray becomes zero, this means we have found a valid subarray. We then reset the running AND and start a new subarray from the current position.</p>
</li>
<li>
<p><strong>Count the Number of Valid Subarrays:</strong> Every time the AND of a subarray becomes zero, we count it as a valid subarray. Continue this process until the entire array has been processed.</p>
</li>
<li>
<p><strong>Handle Edge Case:</strong> If no such subarrays exist, return <code>1</code>. This is done by ensuring that the minimum value of the result is <code>1</code>.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-the-result-variables">Step 1: Initialize the Result Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, cur <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>The variable <code>res</code> is initialized to 0. This will store the count of subarrays where the bitwise AND is zero.</li>
<li>The variable <code>cur</code> is initialized to 0. This will store the running AND of the current subarray as we iterate through the array.</li>
</ul>
<h4 id="step-2-iterate-through-the-array">Step 2: Iterate through the Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">n</span> : nums) {
</span></span><span style="display:flex;"><span>    cur <span style="color:#666">=</span> cur <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">?</span> <span style="color:#a0a000">n</span> : cur <span style="color:#666">&amp;</span> n;
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> cur <span style="color:#666">==</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The loop <code>for (int n : nums)</code> iterates over each element <code>n</code> in the array <code>nums</code>.</li>
<li>Inside the loop:
<ul>
<li><code>cur = cur == 0 ? n : cur &amp; n;</code> checks if the running AND (<code>cur</code>) is zero. If it is zero, the AND operation with the current element <code>n</code> is restarted with <code>n</code>. Otherwise, the AND of <code>cur</code> and <code>n</code> is computed and stored in <code>cur</code>.</li>
<li><code>res += cur == 0;</code> increments <code>res</code> if <code>cur</code> becomes zero after the AND operation. This means we found a subarray where the bitwise AND is zero.</li>
</ul>
</li>
</ul>
<h4 id="step-3-return-the-result">Step 3: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(<span style="color:#666">1</span>, res);
</span></span></code></pre></div><ul>
<li>Finally, we return <code>max(1, res)</code>. This ensures that if no subarray is found where the AND is zero, the result is at least <code>1</code>.</li>
</ul>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<h4 id="example-1-nums--1-2-3">Example 1: <code>nums = [1, 2, 3]</code></h4>
<ol>
<li>
<p><strong>Step 1: Initialize Variables</strong></p>
<ul>
<li><code>res = 0</code>, <code>cur = 0</code></li>
</ul>
</li>
<li>
<p><strong>Step 2: Iterate through Array</strong></p>
<ul>
<li>For <code>n = 1</code>: <code>cur = 1</code> (since <code>cur</code> is 0, it becomes <code>1</code>)</li>
<li>For <code>n = 2</code>: <code>cur = 0</code> (since <code>1 &amp; 2 = 0</code>), increment <code>res</code> to 1.</li>
<li>For <code>n = 3</code>: <code>cur = 3</code> (since <code>0 &amp; 3 = 0</code>, <code>cur</code> becomes <code>3</code>), but no increment for <code>res</code>.</li>
</ul>
</li>
<li>
<p><strong>Step 3: Return Result</strong></p>
<ul>
<li><code>res = 1</code>, so <code>return max(1, 1) = 1</code></li>
</ul>
</li>
</ol>
<p><strong>Output:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#666">1</span>
</span></span></code></pre></div><h4 id="example-2-nums--1-2-0-3">Example 2: <code>nums = [1, 2, 0, 3]</code></h4>
<ol>
<li>
<p><strong>Step 1: Initialize Variables</strong></p>
<ul>
<li><code>res = 0</code>, <code>cur = 0</code></li>
</ul>
</li>
<li>
<p><strong>Step 2: Iterate through Array</strong></p>
<ul>
<li>For <code>n = 1</code>: <code>cur = 1</code> (since <code>cur</code> is 0, it becomes <code>1</code>)</li>
<li>For <code>n = 2</code>: <code>cur = 0</code> (since <code>1 &amp; 2 = 0</code>), increment <code>res</code> to 1.</li>
<li>For <code>n = 0</code>: <code>cur = 0</code> (since <code>0 &amp; 0 = 0</code>), increment <code>res</code> to 2.</li>
<li>For <code>n = 3</code>: <code>cur = 0</code> (since <code>0 &amp; 3 = 0</code>), increment <code>res</code> to 3.</li>
</ul>
</li>
<li>
<p><strong>Step 3: Return Result</strong></p>
<ul>
<li><code>res = 3</code>, so <code>return max(1, 3) = 3</code></li>
</ul>
</li>
</ol>
<p><strong>Output:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#666">3</span>
</span></span></code></pre></div><h3 id="time-complexity">Time Complexity</h3>
<p>The time complexity of this solution is <strong>O(n)</strong>, where <code>n</code> is the length of the array <code>nums</code>. This is because we only iterate through the array once, performing constant-time operations (AND and comparisons) for each element.</p>
<h3 id="space-complexity">Space Complexity</h3>
<p>The space complexity of the solution is <strong>O(1)</strong>, as we only use a few variables (<code>res</code> and <code>cur</code>) to store intermediate results. We do not use any extra space proportional to the input size.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution is highly efficient, operating in linear time and constant space. The key observation is that the bitwise AND of a subarray will generally tend to zero as more elements are included. This makes it possible to count the valid subarrays in a single pass through the array. The algorithm is simple, effective, and works well even for larger inputs.</p>
<p><a href="https://leetcode.com/problems/split-array-into-maximum-number-of-subarrays/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/xgzsBxfu8Ew?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
