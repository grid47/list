<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2279: Maximum Bags With Full Capacity of Rocks | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2279: Maximum Bags With Full Capacity of Rocks">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2279: Maximum Bags With Full Capacity of Rocks in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2279-maximum-bags-with-full-capacity-of-rocks/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2279: Maximum Bags With Full Capacity of Rocks">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2279: Maximum Bags With Full Capacity of Rocks in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2279: Maximum Bags With Full Capacity of Rocks</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode662s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maximumBags(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> cap, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> rock, <span style="color:#0b0;font-weight:bold">int</span> cnt) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> rock.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            pq.push(cap[i] <span style="color:#666">-</span> rock[i]);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty() <span style="color:#666">&amp;&amp;</span> cnt <span style="color:#666">&gt;=</span> pq.top()) {
</span></span><span style="display:flex;"><span>            res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            cnt <span style="color:#666">-=</span> pq.top();
</span></span><span style="display:flex;"><span>            pq.pop();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are given two lists: <code>cap</code> and <code>rock</code>. <code>cap[i]</code> represents the capacity of the <code>i</code>-th bag, and <code>rock[i]</code> represents the number of rocks already present in that <code>i</code>-th bag. We are also given an integer <code>cnt</code> that denotes the number of additional rocks we can place into the bags.</p>
<p>Our task is to find the maximum number of bags that can be completely filled using the available <code>cnt</code> rocks. We need to determine the maximum number of bags we can fill by utilizing the rocks, with the condition that the number of rocks we place in a bag should not exceed the capacity of the bag.</p>
<h3 id="approach">Approach</h3>
<p>The key idea behind solving this problem is to first determine the number of available spaces in each bag, which is the difference between the bag&rsquo;s capacity and the number of rocks already in it. After calculating the available space in each bag, we want to prioritize filling the bags that require fewer rocks to be filled.</p>
<p>We can achieve this by sorting the bags based on the available space and trying to fill the bags starting from the one that requires the least amount of rocks. By doing so, we can maximize the number of bags filled with the available rocks.</p>
<p>The steps for solving this problem are as follows:</p>
<ol>
<li>
<p><strong>Calculate the space left in each bag</strong>: For each bag, calculate the difference between its capacity and the number of rocks already in it. This will give us the space available in each bag for more rocks.</p>
</li>
<li>
<p><strong>Use a priority queue (min-heap)</strong>: A priority queue can help efficiently retrieve the bags with the least space required. By using a min-heap, we can always pop the smallest available space, ensuring that we fill the bags with fewer requirements first.</p>
</li>
<li>
<p><strong>Fill the bags</strong>: While there are still rocks left (<code>cnt &gt; 0</code>), we continue filling the bags in the order of the available space, as long as the number of rocks we have is enough to fill the current bag.</p>
</li>
<li>
<p><strong>Return the result</strong>: Once we have exhausted the available rocks or filled all possible bags, we return the number of bags filled.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s go through the code step by step to understand how the solution is implemented.</p>
<h4 id="step-1-initialize-the-priority-queue">Step 1: Initialize the Priority Queue</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> pq;
</span></span></code></pre></div><ul>
<li>We use a <strong>priority queue</strong> (min-heap) to efficiently manage the available spaces in the bags. In C++, the default behavior of <code>priority_queue</code> is a max-heap. To make it a min-heap (which allows us to access the smallest element first), we use <code>greater&lt;int&gt;</code> as the comparison function.</li>
</ul>
<h4 id="step-2-populate-the-priority-queue-with-available-spaces">Step 2: Populate the Priority Queue with Available Spaces</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    pq.push(cap[i] <span style="color:#666">-</span> rock[i]);
</span></span></code></pre></div><ul>
<li>We iterate through all the bags (<code>i</code> from <code>0</code> to <code>n-1</code>).</li>
<li>For each bag, we calculate the available space as <code>cap[i] - rock[i]</code>, which is the number of rocks that can still be added to the bag.</li>
<li>We push this available space into the priority queue <code>pq</code>. The priority queue will store the available spaces in increasing order, with the smallest available space at the top.</li>
</ul>
<h4 id="step-3-fill-the-bags">Step 3: Fill the Bags</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty() <span style="color:#666">&amp;&amp;</span> cnt <span style="color:#666">&gt;=</span> pq.top()) {
</span></span><span style="display:flex;"><span>    res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    cnt <span style="color:#666">-=</span> pq.top();
</span></span><span style="display:flex;"><span>    pq.pop();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We initialize a variable <code>res</code> to track the number of bags we can fill.</li>
<li>In the <code>while</code> loop, we check whether there are still bags with available space (<code>pq.empty()</code>), and whether we have enough rocks to fill the smallest bag (<code>cnt &gt;= pq.top()</code>).</li>
<li>If both conditions are true, we:
<ul>
<li>Increment <code>res</code> to indicate that we are filling one more bag.</li>
<li>Decrease the number of available rocks (<code>cnt -= pq.top()</code>).</li>
<li>Remove the current bag from the priority queue (<code>pq.pop()</code>).</li>
</ul>
</li>
<li>This loop continues until we run out of bags or we no longer have enough rocks to fill the next smallest bag.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After the loop finishes, we return the value of <code>res</code>, which represents the maximum number of bags that can be filled.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity</h4>
<ol>
<li>
<p><strong>Filling the priority queue</strong>: In the first loop, we iterate over all the bags to calculate the available space and push it into the priority queue. This takes <strong>O(n log n)</strong> time, where <code>n</code> is the number of bags, because each insertion into the priority queue takes <strong>O(log n)</strong> time.</p>
</li>
<li>
<p><strong>Popping from the priority queue</strong>: In the second loop, we pop elements from the priority queue while we still have rocks and can fill bags. In the worst case, we will pop all the bags from the priority queue, which also takes <strong>O(n log n)</strong> time.</p>
</li>
</ol>
<p>Thus, the total time complexity is:</p>
<ul>
<li><strong>O(n log n)</strong> due to both the insertion and popping operations on the priority queue.</li>
</ul>
<h4 id="space-complexity">Space Complexity</h4>
<ul>
<li>The space complexity is determined by the size of the priority queue, which stores the available spaces for each bag. Therefore, the space complexity is:</li>
<li><strong>O(n)</strong>, where <code>n</code> is the number of bags.</li>
</ul>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<p>Let’s go through an example to understand how the solution works.</p>
<h4 id="example-1">Example 1</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cap <span style="color:#666">=</span> {<span style="color:#666">5</span>, <span style="color:#666">7</span>, <span style="color:#666">3</span>};
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> rock <span style="color:#666">=</span> {<span style="color:#666">2</span>, <span style="color:#666">5</span>, <span style="color:#666">1</span>};
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">6</span>;
</span></span></code></pre></div><ol>
<li>
<p>First, we calculate the available space in each bag:</p>
<ul>
<li>Bag 1: <code>cap[0] - rock[0] = 5 - 2 = 3</code></li>
<li>Bag 2: <code>cap[1] - rock[1] = 7 - 5 = 2</code></li>
<li>Bag 3: <code>cap[2] - rock[2] = 3 - 1 = 2</code></li>
</ul>
</li>
<li>
<p>We then push these available spaces into the priority queue: <code>pq = [2, 2, 3]</code>.</p>
</li>
<li>
<p>We start filling the bags:</p>
<ul>
<li>First, we fill the bag with 2 available spaces. We have enough rocks (<code>cnt = 6</code>), so we fill the bag, reducing <code>cnt</code> to 4.</li>
<li>Next, we fill another bag with 2 available spaces. We have enough rocks (<code>cnt = 4</code>), so we fill the bag, reducing <code>cnt</code> to 2.</li>
<li>Finally, we fill the bag with 3 available spaces. We have enough rocks (<code>cnt = 2</code>), so we cannot fill this bag, and the process stops here.</li>
</ul>
</li>
<li>
<p>The result is <code>res = 2</code> because we were able to fill two bags.</p>
</li>
</ol>
<h4 id="example-2">Example 2</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cap <span style="color:#666">=</span> {<span style="color:#666">10</span>, <span style="color:#666">20</span>, <span style="color:#666">30</span>};
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> rock <span style="color:#666">=</span> {<span style="color:#666">1</span>, <span style="color:#666">2</span>, <span style="color:#666">3</span>};
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">50</span>;
</span></span></code></pre></div><ol>
<li>
<p>We calculate the available space:</p>
<ul>
<li>Bag 1: <code>cap[0] - rock[0] = 10 - 1 = 9</code></li>
<li>Bag 2: <code>cap[1] - rock[1] = 20 - 2 = 18</code></li>
<li>Bag 3: <code>cap[2] - rock[2] = 30 - 3 = 27</code></li>
</ul>
</li>
<li>
<p>We push these available spaces into the priority queue: <code>pq = [9, 18, 27]</code>.</p>
</li>
<li>
<p>We fill the bags:</p>
<ul>
<li>We fill the first bag with 9 available spaces (<code>cnt = 50</code>), reducing <code>cnt</code> to 41.</li>
<li>We fill the second bag with 18 available spaces (<code>cnt = 41</code>), reducing <code>cnt</code> to 23.</li>
<li>We fill the third bag with 27 available spaces (<code>cnt = 23</code>), reducing <code>cnt</code> to -4.</li>
</ul>
</li>
<li>
<p>The result is <code>res = 3</code> because we successfully filled all three bags.</p>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>The solution efficiently calculates the maximum number of bags that can be filled using the available rocks by leveraging a priority queue (min-heap). This ensures that we always prioritize filling the bags with the least amount of required rocks. The solution has a time complexity of <strong>O(n log n)</strong>, making it scalable for larger input sizes. The space complexity is <strong>O(n)</strong> due to the priority queue used to store the available spaces of the bags. This solution is both efficient and easy to understand.</p>
<p><a href="https://leetcode.com/problems/maximum-bags-with-full-capacity-of-rocks/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/8s25uCT7vhY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
