<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2786: Visit Array Positions to Maximize Score | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2786: Visit Array Positions to Maximize Score">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2786: Visit Array Positions to Maximize Score in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2786-visit-array-positions-to-maximize-score/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2786: Visit Array Positions to Maximize Score">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2786: Visit Array Positions to Maximize Score in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2786: Visit Array Positions to Maximize Score</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode946s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> maxScore(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> n, <span style="color:#0b0;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> eve <span style="color:#666">=</span> n[<span style="color:#666">0</span>] <span style="color:#666">-</span> (n[<span style="color:#666">0</span>] <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">?</span> <span style="color:#a0a000">x</span> : <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> odd <span style="color:#666">=</span> n[<span style="color:#666">0</span>] <span style="color:#666">-</span> (n[<span style="color:#666">0</span>] <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">?</span> <span style="color:#666">0</span> <span style="color:#666">:</span> x);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n.size(); <span style="color:#666">++</span>i)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (n[i] <span style="color:#666">%</span> <span style="color:#666">2</span>)   odd <span style="color:#666">=</span> n[i] <span style="color:#666">+</span> max(odd, eve <span style="color:#666">-</span> x);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span>            eve <span style="color:#666">=</span> n[i] <span style="color:#666">+</span> max(eve, odd <span style="color:#666">-</span> x);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(eve, odd);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the maximum score that can be achieved by considering a sequence of numbers where you alternate between adding even and odd numbers. You can apply a penalty to an odd number when it is added to the score. The problem specifies a score calculation where:</p>
<ul>
<li>If the number is <strong>even</strong>, you can add it without penalty.</li>
<li>If the number is <strong>odd</strong>, you can add it to the score but you incur a penalty of <code>x</code> if it has been preceded by an even number, and no penalty if the odd number follows another odd number.</li>
</ul>
<p>Given an array of integers <code>n</code> and a penalty value <code>x</code>, the goal is to maximize the total score based on these rules.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to manage the alternating sequence of even and odd numbers while accounting for penalties when switching between them. We use dynamic programming to maintain two potential outcomes for the score:</p>
<ul>
<li>The first is the score if the last number we added is even (<code>eve</code>).</li>
<li>The second is the score if the last number we added is odd (<code>odd</code>).</li>
</ul>
<p>We iterate through the numbers in the array, updating these two possibilities at each step depending on whether the current number is even or odd.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#00a000">maxScore</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> n, <span style="color:#0b0;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> eve <span style="color:#666">=</span> n[<span style="color:#666">0</span>] <span style="color:#666">-</span> (n[<span style="color:#666">0</span>] <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">?</span> <span style="color:#a0a000">x</span> : <span style="color:#666">0</span>);  <span style="color:#080;font-style:italic">// Initial score if first number is even
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> odd <span style="color:#666">=</span> n[<span style="color:#666">0</span>] <span style="color:#666">-</span> (n[<span style="color:#666">0</span>] <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">?</span> <span style="color:#666">0</span> <span style="color:#666">:</span> x);  <span style="color:#080;font-style:italic">// Initial score if first number is odd
</span></span></span></code></pre></div><ul>
<li><strong>Initialization:</strong>
<ul>
<li>We start by considering the first number in the array, <code>n[0]</code>.</li>
<li>If <code>n[0]</code> is even, the score <code>eve</code> is simply <code>n[0]</code>.</li>
<li>If <code>n[0]</code> is odd, a penalty of <code>x</code> is applied, so the score <code>odd</code> starts as <code>n[0] - x</code>.</li>
<li>These two variables <code>eve</code> and <code>odd</code> will represent the best possible scores for an alternating sequence of even and odd numbers starting with <code>n[0]</code>.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n.size(); <span style="color:#666">++</span>i)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (n[i] <span style="color:#666">%</span> <span style="color:#666">2</span>)   <span style="color:#080;font-style:italic">// If n[i] is odd
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            odd <span style="color:#666">=</span> n[i] <span style="color:#666">+</span> max(odd, eve <span style="color:#666">-</span> x);  <span style="color:#080;font-style:italic">// Choose best outcome: add n[i] or subtract penalty
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">else</span>            <span style="color:#080;font-style:italic">// If n[i] is even
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            eve <span style="color:#666">=</span> n[i] <span style="color:#666">+</span> max(eve, odd <span style="color:#666">-</span> x);  <span style="color:#080;font-style:italic">// Choose best outcome: add n[i] or subtract penalty
</span></span></span></code></pre></div><ul>
<li>
<p><strong>Iteration and Dynamic Updates:</strong></p>
<ul>
<li>We loop over the rest of the elements in the array starting from index 1.</li>
<li>If <code>n[i]</code> is <strong>odd</strong>, we compute the new possible <code>odd</code> score. We take the maximum of:
<ul>
<li>Adding <code>n[i]</code> to the previous <code>odd</code> score (no penalty since the last number was odd).</li>
<li>Adding <code>n[i]</code> to the <code>eve</code> score and subtracting the penalty <code>x</code> (because we are switching from even to odd).</li>
</ul>
</li>
<li>If <code>n[i]</code> is <strong>even</strong>, we compute the new possible <code>eve</code> score. We take the maximum of:
<ul>
<li>Adding <code>n[i]</code> to the previous <code>eve</code> score (no penalty since the last number was even).</li>
<li>Adding <code>n[i]</code> to the <code>odd</code> score and subtracting the penalty <code>x</code> (because we are switching from odd to even).</li>
</ul>
</li>
</ul>
<p>This dynamic updating ensures that we always choose the maximum possible score at each step, considering the penalties and alternations between even and odd numbers.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(eve, odd);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Return Result:</strong>
<ul>
<li>After processing all the numbers in the array, we return the maximum of <code>eve</code> and <code>odd</code>.</li>
<li>This gives us the maximum possible score after considering all numbers in the array while alternating between even and odd numbers, applying penalties when necessary.</li>
</ul>
</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity of this solution is <strong>O(n)</strong>, where <code>n</code> is the number of elements in the input array <code>n</code>.
<ul>
<li>We iterate over the array exactly once, and at each step, we perform constant time operations (comparisons, additions, and subtractions).</li>
<li>Hence, the time complexity is linear with respect to the size of the input array.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(1)</strong>, since we only use a constant amount of extra space to store the variables <code>eve</code>, <code>odd</code>, and a few temporary variables for computation. No additional data structures are required, making this a space-efficient solution.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The solution leverages dynamic programming principles to track the maximum score achievable by alternating between even and odd numbers. We maintain two variables, <code>eve</code> and <code>odd</code>, which represent the best scores for sequences ending in an even or odd number, respectively. As we iterate through the array, we update these variables based on whether the current number is odd or even, considering the penalties for switching between odd and even numbers.</p>
<p>The time complexity is <strong>O(n)</strong>, where <code>n</code> is the length of the array, and the space complexity is <strong>O(1)</strong>, making this approach both time-efficient and space-efficient. This solution provides an optimal way to maximize the score while adhering to the rules of penalties for odd numbers and the alternation between even and odd numbers.</p>
<p><a href="https://leetcode.com/problems/visit-array-positions-to-maximize-score/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/JtogyeIxGWE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
