<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2506: Count Pairs Of Similar Strings | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2506: Count Pairs Of Similar Strings">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2506: Count Pairs Of Similar Strings in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2506-count-pairs-of-similar-strings/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2506: Count Pairs Of Similar Strings">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2506: Count Pairs Of Similar Strings in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Bit Manipulation">
    <meta property="article:tag" content="Counting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2506: Count Pairs Of Similar Strings</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode801s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> similarPairs(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> words) {
</span></span><span style="display:flex;"><span>		<span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>; 
</span></span><span style="display:flex;"><span>		unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> freq; 
</span></span><span style="display:flex;"><span>		<span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">word</span> : words) {
</span></span><span style="display:flex;"><span>			<span style="color:#0b0;font-weight:bold">int</span> mask <span style="color:#666">=</span> <span style="color:#666">0</span>; 
</span></span><span style="display:flex;"><span>			<span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">c</span> : word) mask <span style="color:#666">|=</span> <span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> (c<span style="color:#666">-</span><span style="color:#b44">&#39;a&#39;</span>); 
</span></span><span style="display:flex;"><span>			ans <span style="color:#666">+=</span> freq[mask]<span style="color:#666">++</span>; 
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a2f;font-weight:bold">return</span> ans;         
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to count how many pairs of words in a given list of strings <code>words</code> are <strong>similar</strong>. Two words are considered similar if they contain the exact same set of distinct characters, regardless of the order in which the characters appear. For example, the words &ldquo;abc&rdquo; and &ldquo;cab&rdquo; are similar because both contain the characters &lsquo;a&rsquo;, &lsquo;b&rsquo;, and &lsquo;c&rsquo;.</p>
<p>We are required to determine the number of such similar pairs in the list of words.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we need to utilize a technique that maps the characters in each word to a unique bitmask. This will allow us to compare words based on their set of characters rather than their actual content, reducing the complexity of the problem.</p>
<h4 id="key-insight">Key Insight:</h4>
<ul>
<li><strong>Bitmask Representation</strong>: Each word can be represented as a bitmask, where each bit corresponds to one of the 26 lowercase English letters. If a letter is present in the word, the corresponding bit is set to 1, otherwise, it is 0.</li>
<li><strong>Efficient Comparison</strong>: By using bitmasks, we can efficiently check if two words have the same set of characters. If two words have identical bitmasks, they have the same set of distinct characters, and we consider them similar.</li>
</ul>
<h3 id="detailed-breakdown-of-the-code">Detailed Breakdown of the Code</h3>
<h4 id="step-1-initializing-variables">Step 1: Initializing Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> freq;
</span></span></code></pre></div><ul>
<li><code>ans</code> will hold the final count of similar pairs.</li>
<li><code>freq</code> is an unordered map that tracks the frequency of each unique bitmask encountered in the list of words.</li>
</ul>
<h4 id="step-2-iterating-over-words">Step 2: Iterating Over Words</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">word</span> : words) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> mask <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span><span style="color:#666">&amp;</span> <span style="color:#a0a000">c</span> : word) mask <span style="color:#666">|=</span> <span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> (c<span style="color:#666">-</span><span style="color:#b44">&#39;a&#39;</span>);
</span></span><span style="display:flex;"><span>    ans <span style="color:#666">+=</span> freq[mask]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>For each word in the input list <code>words</code>, we calculate its bitmask representation.</li>
<li><strong>Bitmask Calculation</strong>:
<ul>
<li>For each character <code>c</code> in the word, we compute <code>1 &lt;&lt; (c - 'a')</code> which gives a number where only the bit corresponding to the character <code>c</code> is set to 1.</li>
<li>We then use the <code>|=</code> (bitwise OR) operator to combine the current bitmask with the newly calculated bit for character <code>c</code>.</li>
<li>This process effectively sets the bits corresponding to each character in the word. For example, if the word is &ldquo;abc&rdquo;, its bitmask would be <code>0b111</code> (since &lsquo;a&rsquo;, &lsquo;b&rsquo;, and &lsquo;c&rsquo; correspond to the first three bits).</li>
</ul>
</li>
</ul>
<h4 id="step-3-updating-the-frequency-map">Step 3: Updating the Frequency Map</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ans <span style="color:#666">+=</span> freq[mask]<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>After calculating the bitmask for the word, we increment the count of words that have this specific bitmask in the <code>freq</code> map.</li>
<li>Each time we encounter a bitmask that we&rsquo;ve already seen before, it indicates that we have found a word that is similar to one or more previous words.</li>
<li>The number of similar pairs for a given bitmask is incremented by <code>freq[mask]</code>, which represents how many words we&rsquo;ve seen before with the same bitmask.</li>
</ul>
<h4 id="step-4-returning-the-final-count">Step 4: Returning the Final Count</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>After iterating through all the words and updating the frequency map, we return the total count of similar pairs stored in <code>ans</code>.</li>
</ul>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<p>Consider the following input:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;</span> words <span style="color:#666">=</span> {<span style="color:#b44">&#34;aba&#34;</span>, <span style="color:#b44">&#34;aab&#34;</span>, <span style="color:#b44">&#34;abc&#34;</span>, <span style="color:#b44">&#34;cab&#34;</span>, <span style="color:#b44">&#34;bca&#34;</span>};
</span></span></code></pre></div><ol>
<li>
<p>For the first word <code>&quot;aba&quot;</code>, the bitmask will be:</p>
<ul>
<li>&lsquo;a&rsquo; corresponds to bit 0.</li>
<li>&lsquo;b&rsquo; corresponds to bit 1.</li>
<li>So, the bitmask is <code>0b011</code>.</li>
</ul>
</li>
<li>
<p>For the second word <code>&quot;aab&quot;</code>, the bitmask will be the same (<code>0b011</code>), indicating that the word has the same set of distinct characters as <code>&quot;aba&quot;</code>.</p>
</li>
<li>
<p>For the third word <code>&quot;abc&quot;</code>, the bitmask will be <code>0b111</code> because it contains the characters &lsquo;a&rsquo;, &lsquo;b&rsquo;, and &lsquo;c&rsquo;.</p>
</li>
<li>
<p>For the fourth word <code>&quot;cab&quot;</code>, the bitmask is also <code>0b111</code>, since it contains the same characters as <code>&quot;abc&quot;</code>.</p>
</li>
<li>
<p>For the fifth word <code>&quot;bca&quot;</code>, the bitmask is again <code>0b111</code>.</p>
</li>
</ol>
<p>As we process each word, the frequency map will look like this:</p>
<ul>
<li>For the bitmask <code>0b011</code>: We encounter it twice, so we add <code>1 + 1 = 2</code> to <code>ans</code>.</li>
<li>For the bitmask <code>0b111</code>: We encounter it three times, so we add <code>2 + 3 = 5</code> to <code>ans</code>.</li>
</ul>
<p>Thus, the total number of similar pairs is <code>7</code>.</p>
<h3 id="time-complexity">Time Complexity</h3>
<ul>
<li><strong>Bitmask Calculation</strong>: For each word, we iterate through its characters. The maximum length of a word is <code>O(L)</code>, where <code>L</code> is the length of the longest word in the list.</li>
<li><strong>Map Operations</strong>: For each word, we perform constant-time operations for updating the frequency map and checking the count of the bitmask. The average time complexity for each map operation is (O(1)), so the total time complexity for processing all words is (O(N \times L)), where <code>N</code> is the number of words.</li>
</ul>
<p>Thus, the overall time complexity is (O(N \times L)), where:</p>
<ul>
<li><code>N</code> is the number of words in the list.</li>
<li><code>L</code> is the average length of the words.</li>
</ul>
<h3 id="space-complexity">Space Complexity</h3>
<ul>
<li><strong>Bitmask Map</strong>: We store the frequency of bitmasks in the <code>freq</code> map. In the worst case, each unique set of characters from all words may result in a unique bitmask. The number of unique bitmasks is at most (2^{26}), but in practice, it will be much less.</li>
<li><strong>Total Space Complexity</strong>: The space complexity of the algorithm is dominated by the storage of the frequency map, which is (O(N)), where <code>N</code> is the number of words, and each word contributes at most one entry in the map.</li>
</ul>
<p>Thus, the space complexity is (O(N)).</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently counts the number of similar pairs of words by leveraging bitmasks to represent the set of distinct characters in each word. This allows us to reduce the problem of comparing words to a simple bitmask comparison, significantly improving performance. By using a frequency map to track the occurrence of each bitmask, we can efficiently count similar pairs.</p>
<ul>
<li><strong>Time Complexity</strong>: (O(N \times L)), where <code>N</code> is the number of words and <code>L</code> is the average length of the words.</li>
<li><strong>Space Complexity</strong>: (O(N)), where <code>N</code> is the number of words.</li>
</ul>
<p>This approach is optimal for the problem and should work efficiently even for large inputs.</p>
<p><a href="https://leetcode.com/problems/count-pairs-of-similar-strings/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/uWSEfo1DlwY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
