<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1026: Maximum Difference Between Node and Ancestor | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1026: Maximum Difference Between Node and Ancestor">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1026: Maximum Difference Between Node and Ancestor in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1026-maximum-difference-between-node-and-ancestor/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1026: Maximum Difference Between Node and Ancestor">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1026: Maximum Difference Between Node and Ancestor in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1026: Maximum Difference Between Node and Ancestor</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode27s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxAncestorDiff(TreeNode<span style="color:#666">*</span> root) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">helper</span>(root, root<span style="color:#666">-&gt;</span>val, root<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">helper</span>(TreeNode<span style="color:#666">*</span> node, <span style="color:#0b0;font-weight:bold">int</span> mx, <span style="color:#0b0;font-weight:bold">int</span> mn) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>node) <span style="color:#a2f;font-weight:bold">return</span> mx <span style="color:#666">-</span> mn;
</span></span><span style="display:flex;"><span>        mx <span style="color:#666">=</span> max(mx, node<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>        mn <span style="color:#666">=</span> min(mn, node<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> max(helper(node<span style="color:#666">-&gt;</span>left, mx, mn), helper(node<span style="color:#666">-&gt;</span>right, mx, mn));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the maximum difference between the values of any ancestor node and any descendant node in a binary tree. An ancestor of a node is any predecessor node on the path from the root to that node, while a descendant is any node that is reachable from that node. For example, in the following tree:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>       8
</span></span><span style="display:flex;"><span>      / \
</span></span><span style="display:flex;"><span>     3   10
</span></span><span style="display:flex;"><span>    / \
</span></span><span style="display:flex;"><span>   1   6
</span></span><span style="display:flex;"><span>      / \
</span></span><span style="display:flex;"><span>     4   7
</span></span></code></pre></div><p>The maximum ancestor-descendant difference is between the node <code>8</code> (ancestor) and <code>1</code> (descendant), resulting in a difference of <code>7</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem of finding the maximum ancestor-descendant difference:</p>
<ol>
<li><strong>Recursive Traversal</strong>: The solution employs a recursive depth-first search (DFS) to traverse the tree. During traversal, it keeps track of the maximum and minimum values encountered along the path from the root to the current node.</li>
<li><strong>Base Case</strong>: When a leaf node (or a null node) is reached, the difference between the maximum and minimum values encountered along the path is calculated and returned.</li>
<li><strong>Maximizing the Difference</strong>: At each node, the algorithm compares the current node&rsquo;s value against the current maximum and minimum values and updates them accordingly. The maximum difference from the left and right subtrees is then compared to find the overall maximum difference.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Function Declaration</strong>:</p>
<ul>
<li>The <code>maxAncestorDiff</code> function is defined in the <code>Solution</code> class. It takes a pointer to the root node of the binary tree (<code>TreeNode* root</code>) as its parameter.</li>
</ul>
</li>
<li>
<p><strong>Initial Call to Helper Function</strong>:</p>
<ul>
<li>The function invokes a helper function named <code>helper</code>, passing the root node and initializing both the maximum and minimum values to the value of the root node.</li>
</ul>
</li>
<li>
<p><strong>Helper Function Definition</strong>:</p>
<ul>
<li>The <code>helper</code> function is a recursive function that takes three parameters:
<ul>
<li><code>node</code>: the current node being visited.</li>
<li><code>mx</code>: the maximum value encountered so far along the path from the root to the current node.</li>
<li><code>mn</code>: the minimum value encountered so far along the same path.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Base Case</strong>:</p>
<ul>
<li>The first line inside the <code>helper</code> function checks if the <code>node</code> is <code>nullptr</code>. If it is, it indicates that a leaf node has been reached, and the function returns the difference between the maximum and minimum values encountered on that path (<code>mx - mn</code>).</li>
</ul>
</li>
<li>
<p><strong>Updating Maximum and Minimum</strong>:</p>
<ul>
<li>The next two lines update the <code>mx</code> and <code>mn</code> values:
<ul>
<li><code>mx</code> is updated to the maximum of its current value and the value of the current node (<code>node-&gt;val</code>).</li>
<li><code>mn</code> is updated to the minimum of its current value and the value of the current node.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Recursive Calls</strong>:</p>
<ul>
<li>The function then recursively calls itself for the left and right child nodes of the current node:
<ul>
<li><code>helper(node-&gt;left, mx, mn)</code> to process the left subtree.</li>
<li><code>helper(node-&gt;right, mx, mn)</code> to process the right subtree.</li>
</ul>
</li>
<li>It returns the maximum value obtained from both subtrees using <code>max(...)</code>, thus capturing the maximum ancestor-descendant difference found at any point in the tree.</li>
</ul>
</li>
<li>
<p><strong>Final Return</strong>:</p>
<ul>
<li>The <code>maxAncestorDiff</code> function ultimately returns the result from the <code>helper</code> function, which contains the maximum ancestor-descendant difference across the entire binary tree.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity of the solution is (O(n)), where (n) is the number of nodes in the binary tree. This is because each node is visited exactly once during the traversal.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(h)), where (h) is the height of the tree. This space is used by the recursion stack during the depth-first search traversal. In the worst case (for a skewed tree), this can become (O(n)), but for balanced trees, it will be (O(\log n)).</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>maxAncestorDiff</code> function effectively computes the maximum difference between an ancestor and a descendant in a binary tree using a recursive approach. By maintaining the maximum and minimum values encountered along each path from the root to the leaves, it ensures that the solution is both efficient and straightforward.</p>
<p>This solution is useful in various scenarios where binary tree structures are involved, such as in data organization, hierarchical data representation, and computational biology where tree-like structures often appear. The approach exemplifies the power of recursion and depth-first traversal in tree-based problems, making it a valuable addition to any algorithm enthusiast&rsquo;s toolkit.</p>
<p>In summary, this implementation demonstrates how to leverage recursion for problem-solving in binary trees, showcasing an efficient method to calculate differences based on hierarchical relationships within the data structure. The focus on clarity and structured problem-solving is key in algorithm design, making this solution a robust reference for similar challenges in coding interviews and competitive programming.</p>
<p><a href="https://leetcode.com/problems/maximum-difference-between-node-and-ancestor/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/f37BCBHGFGA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
