<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1195: Fizz Buzz Multithreaded | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1195: Fizz Buzz Multithreaded">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1195: Fizz Buzz Multithreaded in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1195-fizz-buzz-multithreaded/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1195: Fizz Buzz Multithreaded">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1195: Fizz Buzz Multithreaded in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Concurrency">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1195: Fizz Buzz Multithreaded</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode99s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">FizzBuzz</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n, i;
</span></span><span style="display:flex;"><span>    mutex f, b, fz, num;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    FizzBuzz(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        f.lock();
</span></span><span style="display:flex;"><span>        b.lock();
</span></span><span style="display:flex;"><span>        fz.lock();
</span></span><span style="display:flex;"><span>        i <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">-&gt;</span>n <span style="color:#666">=</span> n;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// printFizz() outputs &#34;fizz&#34;.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fizz</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>()<span style="color:#666">&gt;</span> printFizz) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            f.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)            
</span></span><span style="display:flex;"><span>            printFizz();
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span><span style="color:#666">==</span> <span style="color:#666">0</span>  <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">%</span> <span style="color:#666">5</span><span style="color:#666">==</span> <span style="color:#666">0</span> ) {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">5</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// printBuzz() outputs &#34;buzz&#34;.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">buzz</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>()<span style="color:#666">&gt;</span> printBuzz) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            b.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)            
</span></span><span style="display:flex;"><span>            printBuzz();
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span><span style="color:#666">==</span> <span style="color:#666">0</span>  <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">%</span> <span style="color:#666">5</span><span style="color:#666">==</span> <span style="color:#666">0</span> ) {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">5</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// printFizzBuzz() outputs &#34;fizzbuzz&#34;.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>	<span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fizzbuzz</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>()<span style="color:#666">&gt;</span> printFizzBuzz) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            fz.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)
</span></span><span style="display:flex;"><span>            printFizzBuzz();
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">%</span> <span style="color:#666">5</span><span style="color:#666">==</span> <span style="color:#666">0</span> ) {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">5</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// printNumber(x) outputs &#34;x&#34;, where x is an integer.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">number</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>(<span style="color:#0b0;font-weight:bold">int</span>)<span style="color:#666">&gt;</span> printNumber) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            num.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)
</span></span><span style="display:flex;"><span>            printNumber(i);
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">%</span> <span style="color:#666">5</span><span style="color:#666">==</span> <span style="color:#666">0</span> ) {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">5</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The FizzBuzz problem is a classic programming challenge often used in technical interviews. The task is to print the numbers from <code>1</code> to <code>n</code>, but for multiples of <code>3</code>, print <code>&quot;fizz&quot;</code> instead of the number, for multiples of <code>5</code>, print <code>&quot;buzz&quot;</code>, and for numbers that are multiples of both <code>3</code> and <code>5</code>, print <code>&quot;fizzbuzz&quot;</code>. The challenge is to implement this in a concurrent manner, allowing multiple threads to print their respective outputs correctly.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem in a concurrent environment, the <code>FizzBuzz</code> class utilizes synchronization mechanisms to ensure that the correct outputs are printed in the right order. The main components of the approach are:</p>
<ol>
<li><strong>Mutex Locks</strong>: Four mutexes are used to control access to printing based on the current number&rsquo;s divisibility by <code>3</code> and <code>5</code>.</li>
<li><strong>Shared State</strong>: A shared variable <code>i</code> tracks the current number being processed, ensuring that threads do not interfere with one another.</li>
<li><strong>Thread Coordination</strong>: Each function (<code>fizz</code>, <code>buzz</code>, <code>fizzbuzz</code>, and <code>number</code>) checks conditions and releases locks appropriately to allow other threads to proceed when it&rsquo;s their turn.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">FizzBuzz</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n, i;
</span></span><span style="display:flex;"><span>    mutex f, b, fz, num;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    FizzBuzz(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        f.lock();
</span></span><span style="display:flex;"><span>        b.lock();
</span></span><span style="display:flex;"><span>        fz.lock();
</span></span><span style="display:flex;"><span>        i <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">-&gt;</span>n <span style="color:#666">=</span> n;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Lines 1-8</strong>: The <code>FizzBuzz</code> class is defined with private member variables <code>n</code> (the upper limit), <code>i</code> (the current number), and four mutexes (<code>f</code>, <code>b</code>, <code>fz</code>, and <code>num</code>). The constructor initializes the mutexes and sets <code>i</code> to <code>1</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fizz</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>()<span style="color:#666">&gt;</span> printFizz) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            f.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)            
</span></span><span style="display:flex;"><span>                printFizz();
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// Unlock logic follows...
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Lines 10-22</strong>: The <code>fizz</code> method is defined. It loops while <code>i</code> is less than or equal to <code>n</code>. It locks the <code>f</code> mutex to ensure that only one thread can execute this section at a time. If the current number <code>i</code> is a valid output (not exceeding <code>n</code>), it calls <code>printFizz()</code> to print <code>&quot;fizz&quot;</code>, then increments <code>i</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span><span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> i <span style="color:#666">%</span> <span style="color:#666">5</span> <span style="color:#666">==</span> <span style="color:#666">0</span> ) {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(i <span style="color:#666">%</span> <span style="color:#666">3</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(i <span style="color:#666">%</span> <span style="color:#666">5</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                fz.unlock();
</span></span><span style="display:flex;"><span>                f.unlock();
</span></span><span style="display:flex;"><span>                b.unlock();
</span></span><span style="display:flex;"><span>                num.unlock();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Lines 23-35</strong>: The method then checks the divisibility of <code>i</code>. Depending on the result:
<ul>
<li>If <code>i</code> is divisible by both <code>3</code> and <code>5</code>, it unlocks <code>fz</code>.</li>
<li>If <code>i</code> is divisible by <code>3</code>, it unlocks <code>f</code>.</li>
<li>If <code>i</code> is divisible by <code>5</code>, it unlocks <code>b</code>.</li>
<li>If <code>i</code> does not match any of these conditions and is still valid, it unlocks <code>num</code>.</li>
<li>The last case ensures that if the current number exceeds <code>n</code>, it unlocks all mutexes.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">buzz</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>()<span style="color:#666">&gt;</span> printBuzz) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            b.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)            
</span></span><span style="display:flex;"><span>                printBuzz();
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// Unlock logic follows...
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Lines 37-49</strong>: The <code>buzz</code> method works similarly to <code>fizz</code>. It locks the <code>b</code> mutex to print <code>&quot;buzz&quot;</code> for numbers divisible by <code>5</code>, then checks the conditions to unlock the appropriate mutexes.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fizzbuzz</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>()<span style="color:#666">&gt;</span> printFizzBuzz) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            fz.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)
</span></span><span style="display:flex;"><span>                printFizzBuzz();
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// Unlock logic follows...
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Lines 51-63</strong>: The <code>fizzbuzz</code> method locks the <code>fz</code> mutex and prints <code>&quot;fizzbuzz&quot;</code> for numbers divisible by both <code>3</code> and <code>5</code>, similarly unlocking the necessary mutexes afterward.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">number</span>(function<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">void</span>(<span style="color:#0b0;font-weight:bold">int</span>)<span style="color:#666">&gt;</span> printNumber) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;=</span> n) {
</span></span><span style="display:flex;"><span>            num.lock();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;=</span> n)
</span></span><span style="display:flex;"><span>                printNumber(i);
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// Unlock logic follows...
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Lines 65-77</strong>: The <code>number</code> method locks the <code>num</code> mutex and prints the current number <code>i</code>, following the same unlocking logic.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is (O(n)), as the algorithm needs to process each number from <code>1</code> to <code>n</code>. Each thread will execute in a loop, performing a constant amount of work for each number.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(1)), not accounting for the input size since only a fixed number of variables are used (i.e., mutexes and counters).</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>FizzBuzz</code> class implementation demonstrates a robust approach to solving the FizzBuzz problem in a multithreaded context. By utilizing mutexes for synchronization, it ensures that the output remains correct even when multiple threads are attempting to print at the same time. This design highlights the importance of thread safety in concurrent programming, making it an excellent example for understanding synchronization mechanisms and their practical applications in real-world scenarios.</p>
<p><a href="https://leetcode.com/problems/fizz-buzz-multithreaded/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
