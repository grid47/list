<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2300: Successful Pairs of Spells and Potions | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2300: Successful Pairs of Spells and Potions">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2300: Successful Pairs of Spells and Potions in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2300-successful-pairs-of-spells-and-potions/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2300: Successful Pairs of Spells and Potions">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2300: Successful Pairs of Spells and Potions in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2300: Successful Pairs of Spells and Potions</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode675s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> successfulPairs(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> spells, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> potion, <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> success) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> spells.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        sort(potion.begin(), potion.end());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> tgt <span style="color:#666">=</span> success <span style="color:#666">%</span> spells[i]<span style="color:#666">?</span> (success<span style="color:#666">/</span> spells[i]) <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">:</span> (success<span style="color:#666">/</span> spells[i]);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            ans[i] <span style="color:#666">=</span> potion.end() <span style="color:#666">-</span> lower_bound(potion.begin(), potion.end(), tgt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, you are given two arrays: <code>spells</code> and <code>potion</code>. You are also given a <code>success</code> value. The goal is to calculate the number of successful pairs of <code>(spell, potion)</code> such that the product of each spell and a potion is greater than or equal to the given <code>success</code> value. Specifically, for each spell, we want to find how many potions can pair with it such that their product meets or exceeds the <code>success</code> threshold.</p>
<h3 id="approach">Approach</h3>
<p>The key to solving this problem efficiently lies in leveraging sorting and binary search. Hereâ€™s the detailed approach:</p>
<ol>
<li><strong>Sorting the Potions</strong>: Sorting the <code>potion</code> array allows us to use binary search to efficiently find the first potion that meets the required threshold for a given spell.</li>
<li><strong>Binary Search</strong>: For each spell, we calculate the minimum potion value needed to achieve the <code>success</code> threshold. Using binary search (<code>lower_bound</code>), we can quickly determine how many potions satisfy this condition.</li>
<li><strong>Efficient Calculation</strong>: Instead of directly iterating over each potion for every spell, binary search provides a much faster way to find the smallest valid potion for each spell.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Initialization:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> spells.size();
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>sort(potion.begin(), potion.end());
</span></span></code></pre></div><ul>
<li><code>n</code> stores the number of spells.</li>
<li><code>ans</code> is a vector initialized to zero, which will store the result: the number of successful pairs for each spell.</li>
<li>The <code>potion</code> array is sorted to prepare for efficient binary searching.</li>
</ul>
</li>
<li>
<p><strong>Main Loop - Iterate Over Spells:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span></code></pre></div><ul>
<li>We iterate through each spell in the <code>spells</code> array to calculate how many potions can pair successfully with it.</li>
</ul>
</li>
<li>
<p><strong>Calculating the Target Potion for Each Spell:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> tgt <span style="color:#666">=</span> success <span style="color:#666">%</span> spells[i] <span style="color:#666">?</span> (success <span style="color:#666">/</span> spells[i]) <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">:</span> (success <span style="color:#666">/</span> spells[i]);
</span></span></code></pre></div><ul>
<li>For each spell, we calculate the minimum potion value <code>tgt</code> such that the product of <code>spells[i]</code> and <code>tgt</code> is greater than or equal to the <code>success</code> threshold.</li>
<li>If the success is not perfectly divisible by <code>spells[i]</code>, we round up the result by adding 1 to ensure that the potionâ€™s product with the spell is at least <code>success</code>.</li>
</ul>
</li>
<li>
<p><strong>Finding Valid Potions with Binary Search:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ans[i] <span style="color:#666">=</span> potion.end() <span style="color:#666">-</span> lower_bound(potion.begin(), potion.end(), tgt);
</span></span></code></pre></div><ul>
<li>The <code>lower_bound</code> function finds the first potion in the sorted <code>potion</code> array that is greater than or equal to <code>tgt</code>. This is a crucial step because it allows us to efficiently count how many potions meet the condition.</li>
<li>The expression <code>potion.end() - lower_bound(potion.begin(), potion.end(), tgt)</code> computes the number of potions that are valid for the current spell. This is done by finding the distance between the end of the <code>potion</code> array and the position returned by <code>lower_bound</code>.</li>
</ul>
</li>
<li>
<p><strong>Return Result:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>After processing all spells, we return the <code>ans</code> array, which contains the number of successful pairs for each spell.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>Sorting the <code>potion</code> array takes O(m log m), where <code>m</code> is the length of the <code>potion</code> array.</li>
<li>For each spell, the binary search (<code>lower_bound</code>) on the sorted <code>potion</code> array takes O(log m). Since there are <code>n</code> spells, the overall time complexity is O(n log m + m log m).</li>
<li>Therefore, the time complexity is O(n log m + m log m), which is efficient for large inputs.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is O(m) due to the space used by the sorted <code>potion</code> array and O(n) for the result array <code>ans</code>.</li>
<li>Therefore, the overall space complexity is O(m + n), which is acceptable for typical input sizes.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the problem of counting successful pairs of spells and potions using sorting and binary search. By sorting the <code>potion</code> array and applying binary search for each spell, the solution achieves optimal time complexity of O(n log m + m log m), which is much more efficient than brute force approaches. This method ensures that even for larger inputs, the solution remains performant.</p>
<p>The use of binary search to find the first valid potion for each spell dramatically reduces the time complexity compared to iterating through each potion for every spell, making the algorithm both fast and scalable. The approach guarantees correctness by ensuring that all spells and potions are processed in a manner that respects the condition of achieving the success threshold.</p>
<p><a href="https://leetcode.com/problems/successful-pairs-of-spells-and-potions/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/vO6FxLZpKg4?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
