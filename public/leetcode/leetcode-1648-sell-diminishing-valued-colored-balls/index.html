<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1648: Sell Diminishing-Valued Colored Balls | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1648: Sell Diminishing-Valued Colored Balls">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1648: Sell Diminishing-Valued Colored Balls in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1648-sell-diminishing-valued-colored-balls/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1648: Sell Diminishing-Valued Colored Balls">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1648: Sell Diminishing-Valued Colored Balls in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1648: Sell Diminishing-Valued Colored Balls</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode312s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">maxProfit</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> inv, <span style="color:#0b0;font-weight:bold">int</span> orders) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> n <span style="color:#666">=</span> inv.size(), res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        sort(inv.rbegin(), inv.rend());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, col <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">&amp;&amp;</span> orders <span style="color:#666">&gt;</span> <span style="color:#666">0</span>; i<span style="color:#666">++</span>, col<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">long</span> cur <span style="color:#666">=</span> inv[i], prv <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&lt;</span> n<span style="color:#666">?</span> inv[i <span style="color:#666">+</span> <span style="color:#666">1</span>]<span style="color:#666">:</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">long</span> depth <span style="color:#666">=</span> min((<span style="color:#0b0;font-weight:bold">long</span>)orders<span style="color:#666">/</span>col, (<span style="color:#0b0;font-weight:bold">long</span>)cur <span style="color:#666">-</span> prv);
</span></span><span style="display:flex;"><span>            orders <span style="color:#666">-=</span> depth <span style="color:#666">*</span> col;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        res <span style="color:#666">=</span> (res <span style="color:#666">+</span> ((cur <span style="color:#666">*</span> (cur <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">-</span> (cur <span style="color:#666">-</span> depth) <span style="color:#666">*</span> (cur <span style="color:#666">-</span> depth <span style="color:#666">+</span> <span style="color:#666">1</span>)) <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">*</span> col)) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>                  
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(cur <span style="color:#666">-</span> prv <span style="color:#666">&gt;</span> depth) {
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> (res <span style="color:#666">+</span> orders <span style="color:#666">*</span> (cur <span style="color:#666">-</span> depth)) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            There is a value k, for which all the balls above this value are sold.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to maximize the profit from selling a given number of orders of items, where each item can be sold at its inventory level. You are provided with an array <code>inv</code> that represents the inventory levels of different items, and a variable <code>orders</code> that denotes the total number of items you can sell. The objective is to determine the maximum profit obtainable while selling these items under the constraints of their respective inventories.</p>
<h3 id="approach">Approach</h3>
<p>To achieve this, the algorithm follows these steps:</p>
<ol>
<li><strong>Sort the Inventory</strong>: The inventory is sorted in descending order to prioritize selling higher inventory items first.</li>
<li><strong>Iterate Through the Inventory</strong>: The algorithm iterates through the sorted inventory while attempting to fulfill the number of orders.</li>
<li><strong>Calculate Potential Sales</strong>: For each inventory level, the algorithm calculates how many items can be sold at that level, taking into account the remaining orders and the next lower inventory level.</li>
<li><strong>Update Orders and Profit</strong>: Adjust the remaining orders after fulfilling sales and update the total profit accordingly.</li>
<li><strong>Return the Result</strong>: Finally, return the maximum profit achieved.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s break down the provided code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span></code></pre></div><ul>
<li>We define a class <code>Solution</code> and initialize a modulo constant <code>mod</code> to prevent integer overflow when calculating profits.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">maxProfit</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> inv, <span style="color:#0b0;font-weight:bold">int</span> orders) {
</span></span></code></pre></div><ul>
<li>We define the public method <code>maxProfit</code> that accepts a vector of integers <code>inv</code> (representing inventory levels) and an integer <code>orders</code> (the total number of orders to fulfill).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> n <span style="color:#666">=</span> inv.size(), res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        sort(inv.rbegin(), inv.rend());
</span></span></code></pre></div><ul>
<li>We determine the size of the inventory <code>n</code> and initialize a variable <code>res</code> to accumulate the profit. The inventory is sorted in descending order using <code>sort</code> with <code>rbegin</code> and <code>rend</code> to process the highest inventories first.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, col <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">&amp;&amp;</span> orders <span style="color:#666">&gt;</span> <span style="color:#666">0</span>; i<span style="color:#666">++</span>, col<span style="color:#666">++</span>) {
</span></span></code></pre></div><ul>
<li>We start a loop over the inventory with an index <code>i</code> and a variable <code>col</code> initialized to 1. <code>col</code> represents the current depth or the number of items available to sell.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">long</span> cur <span style="color:#666">=</span> inv[i], prv <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&lt;</span> n <span style="color:#666">?</span> inv[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">:</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>For the current inventory level <code>cur</code>, we retrieve the next lower inventory level <code>prv</code>. If <code>i + 1</code> exceeds the size of the inventory, <code>prv</code> is set to 0.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">long</span> depth <span style="color:#666">=</span> min((<span style="color:#0b0;font-weight:bold">long</span>)orders <span style="color:#666">/</span> col, (<span style="color:#0b0;font-weight:bold">long</span>)cur <span style="color:#666">-</span> prv);
</span></span></code></pre></div><ul>
<li>The <code>depth</code> variable calculates how many items can be sold at the current inventory level without exceeding the number of orders. It considers both the remaining orders divided by the current depth and the difference between <code>cur</code> and <code>prv</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            orders <span style="color:#666">-=</span> depth <span style="color:#666">*</span> col;
</span></span></code></pre></div><ul>
<li>We reduce the number of orders by the number of items sold at the current inventory level, calculated as <code>depth * col</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            res <span style="color:#666">=</span> (res <span style="color:#666">+</span> ((cur <span style="color:#666">*</span> (cur <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">-</span> (cur <span style="color:#666">-</span> depth) <span style="color:#666">*</span> (cur <span style="color:#666">-</span> depth <span style="color:#666">+</span> <span style="color:#666">1</span>)) <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">*</span> col)) <span style="color:#666">%</span> mod;
</span></span></code></pre></div><ul>
<li>The profit from selling <code>depth</code> items at the current level is computed using the formula for the sum of an arithmetic series. The total profit is updated, and the modulo operation ensures we remain within bounds.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (cur <span style="color:#666">-</span> prv <span style="color:#666">&gt;</span> depth) {
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> (res <span style="color:#666">+</span> orders <span style="color:#666">*</span> (cur <span style="color:#666">-</span> depth)) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><ul>
<li>If there are more items at the current inventory level than can be sold, and we still have remaining orders, we compute the additional profit from fulfilling these orders at the current level. The loop is then exited since all orders are now accounted for.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Finally, we return the total profit calculated.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>Sorting the inventory takes ( O(n \log n) ), and the subsequent loop processes the inventory in ( O(n) ). Hence, the overall time complexity is ( O(n \log n) ).</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is ( O(1) ) for variable storage since we are using a constant amount of extra space beyond the input.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>maxProfit</code> method effectively calculates the maximum profit obtainable from fulfilling a given number of orders based on available inventory levels. By employing a greedy approach—selling the highest available inventory first—the algorithm ensures that profits are maximized while adhering to the constraints of inventory.</p>
<p><strong>Key Takeaways</strong>:</p>
<ol>
<li><strong>Greedy Algorithm</strong>: The solution demonstrates the greedy algorithm&rsquo;s effectiveness in optimizing profit by focusing on higher inventory levels first.</li>
<li><strong>Efficiency through Sorting</strong>: The sorting step, while computationally intensive, is necessary to ensure we are always considering the most profitable items available for sale.</li>
<li><strong>Modular Arithmetic</strong>: The use of modular arithmetic is crucial in avoiding overflow and ensuring that the results remain within the acceptable limits of integer values.</li>
</ol>
<p>This method is applicable in various scenarios involving inventory management and sales optimization, making it a useful strategy in resource allocation and financial planning contexts.</p>
<p><a href="https://leetcode.com/problems/sell-diminishing-valued-colored-balls/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/oj7Rxz1r70g?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
