<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2816: Double a Number Represented as a Linked List | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2816: Double a Number Represented as a Linked List">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2816: Double a Number Represented as a Linked List in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2816-double-a-number-represented-as-a-linked-list/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2816: Double a Number Represented as a Linked List">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2816: Double a Number Represented as a Linked List in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Linked List">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2816: Double a Number Represented as a Linked List</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode960s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for singly-linked list.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct ListNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode *next;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode() : val(0), next(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode(int x) : val(x), next(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode(int x, ListNode *next) : val(x), next(next) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> pin(ListNode<span style="color:#666">*</span> head) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(head <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> val <span style="color:#666">=</span> pin(head<span style="color:#666">-&gt;</span>next);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> head<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        num <span style="color:#666">=</span> num <span style="color:#666">*</span> <span style="color:#666">2</span> <span style="color:#666">+</span> val;
</span></span><span style="display:flex;"><span>        head<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> num <span style="color:#666">%</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> num<span style="color:#666">/</span><span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ListNode<span style="color:#666">*</span> <span style="color:#00a000">doubleIt</span>(ListNode<span style="color:#666">*</span> head) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> pin(head);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(num <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> c <span style="color:#666">=</span> num <span style="color:#666">%</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>            num <span style="color:#666">/=</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>            ListNode<span style="color:#666">*</span> node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(c);
</span></span><span style="display:flex;"><span>            node<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> head;
</span></span><span style="display:flex;"><span>            head <span style="color:#666">=</span> node;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> head;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, you are tasked with doubling a given number represented by a singly linked list. Each node of the linked list contains a single digit, and the number is stored in reverse order, i.e., the head node contains the least significant digit. The goal is to return a new linked list that represents the doubled value of the original number.</p>
<p>For example, if the input linked list represents the number <code>123</code>, the list will be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>3 -&gt; 2 -&gt; 1
</span></span></code></pre></div><p>After doubling the number, the output linked list should represent <code>246</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>6 -&gt; 4 -&gt; 2
</span></span></code></pre></div><h3 id="approach">Approach</h3>
<p>To solve this problem, the general approach is to perform the following steps:</p>
<ol>
<li>
<p><strong>Reverse the Linked List and Compute the Number</strong>: First, we need to traverse the linked list and treat it as a number in reverse order. Starting from the head node, we extract the digits, double the number, and update each digit of the linked list.</p>
</li>
<li>
<p><strong>Handle Carrying Over</strong>: Doubling the number may result in digits that exceed <code>9</code>, which will require handling the carry (just like in basic addition). We need to store the current digit modulo 10 in the node and carry over the quotient to the next iteration.</p>
</li>
<li>
<p><strong>Rebuild the Linked List</strong>: Once the linked list has been updated with the doubled digits and carries, the final step is to rebuild the number by moving through the list and inserting new nodes if there&rsquo;s any leftover carry after processing all nodes.</p>
</li>
<li>
<p><strong>Edge Case Handling</strong>: If the linked list is empty or contains only <code>0</code>, the result should simply be a list with the digit <code>0</code>.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>The code is broken into two main functions: <code>pin</code> (helper function to recursively traverse and double the number) and <code>doubleIt</code> (main function to handle the entire process). Let’s walk through these steps:</p>
<h4 id="1-the-pin-function-recursion-to-compute-the-number-and-carry">1. <strong>The <code>pin</code> Function (Recursion to Compute the Number and Carry)</strong></h4>
<p>The helper function <code>pin</code> is designed to traverse the list recursively and compute the doubled number along with any carry.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">pin</span>(ListNode<span style="color:#666">*</span> head) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(head <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> val <span style="color:#666">=</span> pin(head<span style="color:#666">-&gt;</span>next);
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> head<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>    num <span style="color:#666">=</span> num <span style="color:#666">*</span> <span style="color:#666">2</span> <span style="color:#666">+</span> val;
</span></span><span style="display:flex;"><span>    head<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> num <span style="color:#666">%</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> num <span style="color:#666">/</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p><strong>Base Case</strong>: The function starts with checking if <code>head</code> is <code>NULL</code> (i.e., the end of the list). If it&rsquo;s <code>NULL</code>, it returns <code>0</code> because there are no more digits to process.</p>
</li>
<li>
<p><strong>Recursive Call</strong>: For each node, the function recursively processes the next node (<code>pin(head-&gt;next)</code>), which gives the carry from the next node.</p>
</li>
<li>
<p><strong>Doubling and Carrying</strong>: The value of the current node (<code>head-&gt;val</code>) is doubled, and the carry from the next digit (<code>val</code>) is added to it. The result (<code>num</code>) is then split into two parts:</p>
<ul>
<li>The new digit is stored in the current node (<code>head-&gt;val = num % 10</code>).</li>
<li>The carry (<code>num / 10</code>) is returned to the previous node.</li>
</ul>
</li>
</ul>
<h4 id="2-the-doubleit-function-main-function-to-build-the-resulting-linked-list">2. <strong>The <code>doubleIt</code> Function (Main Function to Build the Resulting Linked List)</strong></h4>
<p>The main function <code>doubleIt</code> utilizes the helper function <code>pin</code> to first double the entire number, then handles any leftover carry.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ListNode<span style="color:#666">*</span> <span style="color:#00a000">doubleIt</span>(ListNode<span style="color:#666">*</span> head) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> pin(head); <span style="color:#080;font-style:italic">// Step 1: Call pin to recursively process the list
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">while</span>(num <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) { <span style="color:#080;font-style:italic">// Step 2: Handle any leftover carry
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">int</span> c <span style="color:#666">=</span> num <span style="color:#666">%</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>        num <span style="color:#666">/=</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>        ListNode<span style="color:#666">*</span> node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(c); <span style="color:#080;font-style:italic">// Step 3: Create new nodes for carry
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        node<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> head; <span style="color:#080;font-style:italic">// Step 4: Insert the new node at the front
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        head <span style="color:#666">=</span> node; <span style="color:#080;font-style:italic">// Step 5: Update the head of the list
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> head; <span style="color:#080;font-style:italic">// Step 6: Return the modified list
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li>
<p><strong>Step 1 (Call <code>pin</code>)</strong>: First, the function calls the <code>pin</code> function, which will update the original list by recursively processing each node and calculating the new digit and carry. The final return value of <code>pin</code> represents the carry from the most significant digit.</p>
</li>
<li>
<p><strong>Step 2 (Handle Carry)</strong>: After the list has been processed, if there’s any leftover carry (<code>num &gt; 0</code>), it is added to the list. We use the modulus operation to extract the current carry digit and the division operation to reduce the carry.</p>
</li>
<li>
<p><strong>Step 3 (Create New Node)</strong>: For every carry, we create a new node with the carry value as the node’s value.</p>
</li>
<li>
<p><strong>Step 4 (Insert at Front)</strong>: The new node is inserted at the front of the list, so the final result will have the most significant digit at the head of the list.</p>
</li>
<li>
<p><strong>Step 5 (Update Head)</strong>: The <code>head</code> pointer is updated to point to the newly created node, making it the new head of the list.</p>
</li>
<li>
<p><strong>Step 6 (Return the Result)</strong>: After processing all the carries, the modified list (which now represents the doubled number) is returned.</p>
</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The <code>pin</code> function processes each node in the linked list exactly once. Thus, the time complexity for this function is <strong>O(n)</strong>, where <code>n</code> is the number of nodes in the list.</li>
<li>The <code>doubleIt</code> function involves iterating through the list once to call <code>pin</code>, followed by another iteration to handle any leftover carry. Therefore, the total time complexity of the <code>doubleIt</code> function is also <strong>O(n)</strong>.</li>
</ul>
<p>Overall, the time complexity is <strong>O(n)</strong>, where <code>n</code> is the number of nodes in the linked list.</p>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is <strong>O(1)</strong>, as the algorithm uses only a constant amount of extra space. The recursive call stack in the <code>pin</code> function takes up space proportional to the depth of the list (i.e., <strong>O(n)</strong>), but the rest of the algorithm uses a fixed amount of space. However, in practice, recursion can lead to a space complexity of <strong>O(n)</strong> in terms of stack space.</li>
</ul>
<p>Thus, the space complexity is <strong>O(n)</strong> due to the recursion stack.</p>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>doubleIt</code> function is an efficient solution to doubling a number represented by a singly linked list. By recursively processing the list and handling carries during the doubling process, the algorithm updates the list in place. The function&rsquo;s time complexity is linear in terms of the number of nodes, making it optimal for large linked lists. The space complexity is also linear due to the recursion stack, but the algorithm avoids using extra data structures. This solution provides a clear, concise, and efficient way to tackle the problem of doubling a number in linked list form.</p>
<p><a href="https://leetcode.com/problems/double-a-number-represented-as-a-linked-list/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/UmqNCKUeIy4?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
