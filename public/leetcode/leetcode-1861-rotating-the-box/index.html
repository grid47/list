<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1861: Rotating the Box | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1861: Rotating the Box">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1861: Rotating the Box in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1861-rotating-the-box/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1861: Rotating the Box">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1861: Rotating the Box in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Matrix">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1861: Rotating the Box</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode427s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;</span> rotateTheBox(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;&amp;</span> box) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        reverse(box.begin(), box.end());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> box.size(), n <span style="color:#666">=</span> box[<span style="color:#666">0</span>].size();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;</span> tmp(n, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span>(m));
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            tmp[j][i] <span style="color:#666">=</span> box[i][j];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> k <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; j <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; j<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(tmp[j][i] <span style="color:#666">==</span> <span style="color:#b44">&#39;#&#39;</span>) {
</span></span><span style="display:flex;"><span>                    tmp[j][i] <span style="color:#666">=</span> <span style="color:#b44">&#39;.&#39;</span>; <span style="color:#080;font-style:italic">// o
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                    tmp[k][i] <span style="color:#666">=</span> <span style="color:#b44">&#39;#&#39;</span>; <span style="color:#080;font-style:italic">// order is important
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                    k<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(tmp[j][i] <span style="color:#666">==</span> <span style="color:#b44">&#39;*&#39;</span>) {
</span></span><span style="display:flex;"><span>                    k <span style="color:#666">=</span> j <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                }<span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(tmp[j][i] <span style="color:#666">==</span> <span style="color:#b44">&#39;.&#39;</span>) {
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> tmp; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves rotating a 2D grid (or box) of characters representing a game board, which contains three types of elements: <code>'#'</code> representing rocks, <code>'.'</code> representing empty spaces, and <code>'*'</code> representing obstacles. The goal is to rotate the box 90 degrees clockwise and adjust the positions of the rocks and empty spaces according to gravity. When rotated, rocks should fall down to the lowest available position, stopping when they hit either the bottom of the box or an obstacle.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can break the task into several systematic steps:</p>
<ol>
<li>
<p><strong>Reverse the Rows</strong>: Since we are rotating the box clockwise, the first step is to reverse the order of the rows. This step is crucial because it simulates the effect of the box being rotated.</p>
</li>
<li>
<p><strong>Transpose the Box</strong>: Next, we need to transpose the rows and columns of the box. In essence, we convert each row into a column and each column into a row. This step represents the rotation of the box.</p>
</li>
<li>
<p><strong>Gravity Simulation</strong>: After transposing, we need to simulate the effect of gravity on the rocks. For each column in the transposed box, we move the rocks down, filling empty spaces above them and stopping when we encounter an obstacle.</p>
</li>
<li>
<p><strong>Return the Result</strong>: Finally, we return the modified box that reflects the correct positions of the rocks after rotation and gravity adjustment.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Class Definition</strong>: The implementation begins by defining a class named <code>Solution</code>, which will contain our main method.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Method Declaration</strong>: We declare a public method <code>rotateTheBox</code> that takes a 2D vector of characters (the box) as input and returns the rotated box.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;</span> rotateTheBox(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;&amp;</span> box) {
</span></span></code></pre></div></li>
<li>
<p><strong>Reverse the Rows</strong>: We reverse the rows of the box using the <code>reverse</code> function from the STL. This step simulates the first part of the rotation.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>reverse(box.begin(), box.end());
</span></span></code></pre></div></li>
<li>
<p><strong>Initialization of Dimensions</strong>: We determine the dimensions of the box, storing the number of rows in <code>m</code> and the number of columns in <code>n</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> box.size(), n <span style="color:#666">=</span> box[<span style="color:#666">0</span>].size();
</span></span></code></pre></div></li>
<li>
<p><strong>Transposing the Box</strong>: We create a new 2D vector <code>tmp</code> to hold the transposed version of the box. We then use nested loops to transpose the box.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&gt;</span> tmp(n, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;</span>(m)); <span style="color:#080;font-style:italic">// New box for transposed data
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        tmp[j][i] <span style="color:#666">=</span> box[i][j]; <span style="color:#080;font-style:italic">// Transposing the box
</span></span></span></code></pre></div></li>
<li>
<p><strong>Gravity Simulation</strong>: We iterate over each column in the transposed box. For each column, we initialize a variable <code>k</code> to keep track of the position where the next rock should fall.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> k <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Start placing rocks from the bottom
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; j <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; j<span style="color:#666">--</span>) {
</span></span></code></pre></div></li>
<li>
<p><strong>Handling Rocks and Obstacles</strong>: Inside the inner loop, we check the content of each cell in the column:</p>
<ul>
<li>If the cell contains a rock (<code>'#'</code>), we move it down to the position indicated by <code>k</code>, replace the original position with an empty space (<code>'.'</code>), and decrement <code>k</code>.</li>
<li>If the cell contains an obstacle (<code>'*'</code>), we reset <code>k</code> to stop the falling rocks above the obstacle.</li>
<li>If the cell is empty (<code>'.'</code>), we do nothing.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(tmp[j][i] <span style="color:#666">==</span> <span style="color:#b44">&#39;#&#39;</span>) {
</span></span><span style="display:flex;"><span>        tmp[j][i] <span style="color:#666">=</span> <span style="color:#b44">&#39;.&#39;</span>; <span style="color:#080;font-style:italic">// Rock falls
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        tmp[k][i] <span style="color:#666">=</span> <span style="color:#b44">&#39;#&#39;</span>; <span style="color:#080;font-style:italic">// Place rock at new position
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        k<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(tmp[j][i] <span style="color:#666">==</span> <span style="color:#b44">&#39;*&#39;</span>) {
</span></span><span style="display:flex;"><span>        k <span style="color:#666">=</span> j <span style="color:#666">-</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Reset position above the obstacle
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    } <span style="color:#080;font-style:italic">// Else do nothing if it&#39;s an empty space
</span></span></span></code></pre></div></li>
<li>
<p><strong>Returning the Result</strong>: After processing all columns and adjusting for gravity, we return the modified box.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> tmp; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity">Complexity</h3>
<p>The time complexity of this solution is (O(m \times n)), where (m) is the number of rows and (n) is the number of columns in the box. This is due to the need to process each element in the box multiple times during the reversing, transposing, and gravity simulation steps. The space complexity is also (O(m \times n)) because we are using an additional 2D vector to store the transposed box.</p>
<h3 id="conclusion">Conclusion</h3>
<p>In conclusion, the provided code effectively rotates a box of characters representing rocks and obstacles while simulating gravity. By using a methodical approach that involves reversing the rows, transposing the box, and then applying gravity, the solution ensures that rocks settle into their correct positions after the rotation. This implementation is a clear example of applying fundamental algorithms and data structures to solve a problem in a straightforward and efficient manner. It demonstrates the utility of nested loops and conditionals in manipulating 2D arrays, making it a practical solution for similar grid-based problems involving rotation and gravity effects. Overall, the code is well-structured and concise, successfully achieving the desired outcome while maintaining clarity in logic and flow.</p>
<p><a href="https://leetcode.com/problems/rotating-the-box/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/2LRnTMOiqSI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
