<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2592: Maximize Greatness of an Array | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2592: Maximize Greatness of an Array">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2592: Maximize Greatness of an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2592-maximize-greatness-of-an-array/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2592: Maximize Greatness of an Array">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2592: Maximize Greatness of an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2592: Maximize Greatness of an Array</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode859s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maximizeGreatness(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// 1 1 1 2 3 3 5
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        sort(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> pos;
</span></span><span style="display:flex;"><span>        pos[<span style="color:#666">-</span><span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> upper_bound(nums.begin() <span style="color:#666">+</span> pos[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>, nums.end(), nums[i]);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(it <span style="color:#666">==</span> nums.end()) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> idx <span style="color:#666">=</span> it <span style="color:#666">-</span> nums.begin();
</span></span><span style="display:flex;"><span>            pos[i] <span style="color:#666">=</span> idx;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> pos.size() <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to maximize the greatness of an array by rearranging its elements. Specifically, for a given array, the greatness is defined as the number of pairs of indices <code>(i, j)</code> such that <code>i &lt; j</code> and <code>nums[i] &lt; nums[j]</code> after rearranging the array. Our task is to determine how to arrange the elements in such a way that the number of valid pairs is maximized.</p>
<h3 id="approach">Approach</h3>
<p>To maximize the number of valid pairs, we need to rearrange the elements such that for each index <code>i</code>, the value <code>nums[i]</code> is less than some <code>nums[j]</code> where <code>j &gt; i</code>. The key observation is that sorting the array first allows us to compare each element against its potential future positions in the array. By keeping track of the positions in the sorted array, we can determine how many valid pairs we can form while maintaining a running check on the order of the elements.</p>
<p>The approach works by iterating through the sorted array and using a <code>map</code> to track the positions where elements can be placed, ensuring that we always try to place each element in a position where it forms the maximum number of valid pairs.</p>
<h3 id="code-breakdown">Code Breakdown</h3>
<h4 id="step-1-sorting-the-array">Step 1: Sorting the Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(nums.begin(), nums.end());
</span></span></code></pre></div><ul>
<li>The first step is to sort the given array. Sorting the array helps in efficiently identifying valid pairs because if <code>nums[i] &lt; nums[j]</code> and <code>i &lt; j</code>, then after sorting the array, this relationship will naturally hold. Sorting ensures that each element has potential greater elements available later in the array, which is crucial for maximizing the number of valid pairs.</li>
</ul>
<h4 id="step-2-initializing-the-tracking-map">Step 2: Initializing the Tracking Map</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> pos;
</span></span><span style="display:flex;"><span>pos[<span style="color:#666">-</span><span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>A <code>map</code> named <code>pos</code> is initialized. This map is used to keep track of the valid indices in the sorted array. The map stores the index of the last placed element, and its key represents the position in the original array from where the element was placed. The initialization of <code>pos[-1] = -1</code> ensures that the first comparison will always succeed. It represents the last placed index before the first element in the sorted array.</li>
</ul>
<h4 id="step-3-iterating-over-the-sorted-array">Step 3: Iterating Over the Sorted Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> upper_bound(nums.begin() <span style="color:#666">+</span> pos[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>, nums.end(), nums[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(it <span style="color:#666">==</span> nums.end()) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> idx <span style="color:#666">=</span> it <span style="color:#666">-</span> nums.begin();
</span></span><span style="display:flex;"><span>    pos[i] <span style="color:#666">=</span> idx;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Iteration</strong>: The loop iterates through each element <code>i</code> of the sorted array <code>nums</code>. For each element, the function attempts to find the first element greater than <code>nums[i]</code> that comes after the position of the previously placed element.</li>
<li><strong>Upper Bound Search</strong>: <code>upper_bound(nums.begin() + pos[i - 1] + 1, nums.end(), nums[i])</code> is used to find the first element that is greater than <code>nums[i]</code>. The <code>upper_bound</code> function performs a binary search and returns an iterator pointing to the first element in the range that is strictly greater than <code>nums[i]</code>. This ensures that we are always considering valid pairs.</li>
<li><strong>Break Condition</strong>: If no valid element is found (<code>it == nums.end()</code>), we break out of the loop because further pairs cannot be formed.</li>
<li><strong>Position Update</strong>: If a valid element is found, we calculate the index <code>idx</code> of this element and store it in the map <code>pos</code>. The map keeps track of the positions where elements are placed so that the next elements can be compared against the correct positions.</li>
<li><strong>Termination Condition</strong>: If we reach the last element (<code>idx == n - 1</code>), we stop, as we have exhausted all valid pairs that can be formed.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> pos.size() <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>After the loop, the size of the map <code>pos</code> represents the number of valid elements that have been placed in positions where they can form valid pairs. We subtract 1 from this value because the initial entry <code>pos[-1] = -1</code> does not count as a valid placement.</li>
</ul>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<h4 id="input">Input:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> nums <span style="color:#666">=</span> {<span style="color:#666">1</span>, <span style="color:#666">3</span>, <span style="color:#666">5</span>, <span style="color:#666">2</span>, <span style="color:#666">1</span>, <span style="color:#666">3</span>};
</span></span></code></pre></div><ol>
<li>
<p><strong>Sort the Array</strong>: The first step is to sort the array.</p>
<ul>
<li>Sorted array: <code>[1, 1, 2, 3, 3, 5]</code></li>
</ul>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li><code>pos[-1] = -1</code>: Initializing the map to track positions.</li>
</ul>
</li>
<li>
<p><strong>First Iteration (i = 0)</strong>:</p>
<ul>
<li>We look for the first element greater than <code>nums[0] = 1</code>. Using <code>upper_bound</code>, we find that the first element greater than 1 is <code>2</code>, at index 2.</li>
<li>Update map: <code>pos[0] = 2</code>.</li>
</ul>
</li>
<li>
<p><strong>Second Iteration (i = 1)</strong>:</p>
<ul>
<li>We look for the first element greater than <code>nums[1] = 1</code> starting from index 3. The first element greater than 1 is <code>2</code>, at index 2.</li>
<li>Since the element is already placed at index 2, we continue to the next index and find the next available greater element at index 3 (<code>3</code>).</li>
<li>Update map: <code>pos[1] = 3</code>.</li>
</ul>
</li>
<li>
<p><strong>Continue the Iteration</strong>:</p>
<ul>
<li>We repeat the process for each element, trying to place it in a valid position where it forms the maximum number of valid pairs. Eventually, the valid placements are determined for each element.</li>
</ul>
</li>
<li>
<p><strong>Final Result</strong>:</p>
<ul>
<li>The final result, after processing all elements, is the size of the <code>pos</code> map minus 1, which represents the total number of valid placements.</li>
</ul>
</li>
</ol>
<h4 id="output">Output:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">4</span>;  <span style="color:#080;font-style:italic">// The maximum number of valid pairs is 4.
</span></span></span></code></pre></div><h3 id="time-complexity">Time Complexity</h3>
<ul>
<li><strong>Time Complexity</strong>: (O(n \log n))
<ul>
<li>The sorting of the array takes (O(n \log n)).</li>
<li>For each element, we perform a binary search (<code>upper_bound</code>) which takes (O(\log n)), and we do this for all (n) elements. Therefore, the overall time complexity is (O(n \log n)).</li>
</ul>
</li>
</ul>
<h3 id="space-complexity">Space Complexity</h3>
<ul>
<li><strong>Space Complexity</strong>: (O(n))
<ul>
<li>The map <code>pos</code> stores the positions of each element, requiring (O(n)) space. Additionally, the sorted array requires (O(n)) space.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently maximizes the number of valid pairs by sorting the array and using a binary search approach to find the optimal placements of elements. By leveraging the properties of sorted arrays and maintaining a map to track valid positions, the solution ensures that the greatest number of valid pairs is formed. The algorithm runs in (O(n \log n)) time, making it suitable for handling larger inputs within acceptable time limits.</p>
<p><a href="https://leetcode.com/problems/maximize-greatness-of-an-array/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/p1njSkWtg2U?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
