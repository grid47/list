<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2370: Longest Ideal Subsequence | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2370: Longest Ideal Subsequence">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2370: Longest Ideal Subsequence in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2370-longest-ideal-subsequence/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2370: Longest Ideal Subsequence">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2370: Longest Ideal Subsequence in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2370: Longest Ideal Subsequence</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode717s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> longestIdealString(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> dp[<span style="color:#666">150</span>] <span style="color:#666">=</span> {}, res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">i</span>: s) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i <span style="color:#666">-</span> k; j <span style="color:#666">&lt;=</span> i <span style="color:#666">+</span> k; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>                dp[i] <span style="color:#666">=</span> max(dp[i], dp[j]);
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> max(res, <span style="color:#666">++</span>dp[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to find the length of the longest ideal string that can be formed from a given string <code>s</code>, where the absolute difference between the ASCII values of consecutive characters is at most <code>k</code>. Specifically, you are given a string <code>s</code> and an integer <code>k</code>, and you must find the longest subsequence of characters from <code>s</code> where for any two consecutive characters <code>x</code> and <code>y</code> in the subsequence, the condition <code>|x - y| &lt;= k</code> holds true.</p>
<h3 id="approach">Approach</h3>
<p>This problem can be solved using dynamic programming (DP). We can iterate over each character of the string and track the longest subsequence that can end with each possible character. We use a DP array to store the length of the longest ideal subsequence that can end with each character.</p>
<p>The key idea is as follows:</p>
<ol>
<li><strong>Define the DP state</strong>: Let <code>dp[i]</code> represent the length of the longest ideal subsequence that ends with the character <code>i</code> (where <code>i</code> represents the ASCII value of the character).</li>
<li><strong>Transition between states</strong>: For each character in the string, check for all possible previous characters (those within the range of <code>k</code> differences in ASCII value) and update the <code>dp</code> array based on the maximum subsequence length.</li>
<li><strong>Final Answer</strong>: The result will be the maximum value in the <code>dp</code> array, which will represent the length of the longest ideal subsequence across all possible characters.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Class Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> longestIdealString(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span></code></pre></div><p>The <code>Solution</code> class contains the method <code>longestIdealString</code> that takes two parameters: a string <code>s</code> and an integer <code>k</code>.</p>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> dp[<span style="color:#666">150</span>] <span style="color:#666">=</span> {}, res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>We initialize an array <code>dp</code> of size 150 (since there are 150 possible ASCII values for lowercase English letters from &lsquo;a&rsquo; to &lsquo;z&rsquo;). The <code>dp</code> array is used to store the length of the longest ideal subsequence that can end with each character. The <code>res</code> variable is used to store the maximum length of the ideal subsequence encountered during the iteration over the string.</p>
</li>
<li>
<p><strong>Iterate over the String</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">i</span>: s) {
</span></span></code></pre></div><p>We iterate through each character <code>i</code> in the string <code>s</code>. Here, <code>auto &amp;i</code> ensures that we are referencing the character directly and modifying it if necessary.</p>
</li>
<li>
<p><strong>Update DP Array for Each Character</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i <span style="color:#666">-</span> k; j <span style="color:#666">&lt;=</span> i <span style="color:#666">+</span> k; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            dp[i] <span style="color:#666">=</span> max(dp[i], dp[j]);
</span></span></code></pre></div><p>For each character <code>i</code>, we check all characters within the range of <code>k</code> differences in ASCII value. Specifically, we iterate over all values of <code>j</code> from <code>i - k</code> to <code>i + k</code>, which represent the previous characters that can be part of the subsequence. For each such character <code>j</code>, we update <code>dp[i]</code> to be the maximum of its current value and the value of <code>dp[j]</code>. This means that the longest subsequence ending with character <code>i</code> can be extended by adding the character <code>i</code> to the subsequence that ends with one of the characters in the range <code>[i - k, i + k]</code>.</p>
</li>
<li>
<p><strong>Update the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        res <span style="color:#666">=</span> max(res, <span style="color:#666">++</span>dp[i]);
</span></span></code></pre></div><p>After updating <code>dp[i]</code>, we increment it by 1 (because we are including the current character <code>i</code> in the subsequence), and then we update <code>res</code> to be the maximum of the current value of <code>res</code> and <code>dp[i]</code>. This ensures that we keep track of the maximum subsequence length encountered during the iteration.</p>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>After iterating over all characters in the string, the final value of <code>res</code> contains the length of the longest ideal subsequence, and we return this value.</p>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The outer loop iterates over each character in the string <code>s</code>. The string has <code>n</code> characters, so this loop runs <code>O(n)</code> times.</li>
<li>For each character, the inner loop checks all characters in the range <code>[i - k, i + k]</code>. Since the size of this range is at most <code>2k + 1</code> (depending on the value of <code>k</code>), the inner loop runs at most <code>2k + 1</code> times for each character.</li>
</ul>
<p>Therefore, the overall time complexity is <strong>O(n * (2k + 1))</strong>, where <code>n</code> is the length of the string <code>s</code> and <code>k</code> is the maximum allowed difference in ASCII values between two consecutive characters.</p>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The <code>dp</code> array has a fixed size of 150, which stores the length of the longest ideal subsequence for each possible character (from &lsquo;a&rsquo; to &lsquo;z&rsquo;). Therefore, the space complexity is <strong>O(150)</strong>, which is constant and can be considered as <strong>O(1)</strong>.</li>
<li>The space complexity for the string <code>s</code> is <strong>O(n)</strong> because we need to store the input string.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>This approach efficiently solves the problem of finding the longest ideal subsequence in a string by using dynamic programming. The <code>dp</code> array tracks the length of the longest subsequence that can end with each character, and the algorithm iterates over the string to update the subsequences dynamically. The solution handles the constraints effectively and has a time complexity of <strong>O(n * (2k + 1))</strong>, making it suitable for typical input sizes in competitive programming. The space complexity is constant with respect to the size of the <code>dp</code> array, which is small and independent of the string length.</p>
<p><a href="https://leetcode.com/problems/longest-ideal-subsequence/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/gR1E2oLQYSY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
