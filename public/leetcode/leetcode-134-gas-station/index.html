<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 134: Gas Station | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 134: Gas Station">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 134: Gas Station in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-134-gas-station/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 134: Gas Station">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 134: Gas Station in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-10-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 134: Gas Station</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode162s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/134.webp" 
           alt="A calm sequence of gas stations, each glowing softly, with the optimal starting point gently illuminated." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 134: Gas Station Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode162s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> canCompleteCircuit(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> gas, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> cost) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> tank <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> net <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> gas.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            tank <span style="color:#666">+=</span> gas[i];
</span></span><span style="display:flex;"><span>            net <span style="color:#666">+=</span> cost[i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (net <span style="color:#666">&gt;</span> tank) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        tank <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> gas.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            tank <span style="color:#666">+=</span> gas[i];
</span></span><span style="display:flex;"><span>            tank <span style="color:#666">-=</span> cost[i];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(tank <span style="color:#666">&lt;</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                tank <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-the-problem">üõ£Ô∏è <strong>The Problem:</strong></h3>
<p>You are given two lists:</p>
<ul>
<li><strong>gas[i]</strong>: the amount of gas available at the i-th gas station.</li>
<li><strong>cost[i]</strong>: the amount of gas required to travel from the i-th gas station to the next one.</li>
</ul>
<p>We need to figure out:</p>
<ol>
<li><strong>Is it possible to complete a circular route starting from one of the stations?</strong></li>
<li>If it is possible, <strong>which station should we start at?</strong></li>
</ol>
<p>Your task is to determine the <strong>index of the starting station</strong> such that the car can travel around the entire circle of gas stations without running out of gas. If it&rsquo;s not possible, return <code>-1</code>.</p>
<hr>
<h3 id="-lets-solve-it-step-by-step">üöó <strong>Let&rsquo;s Solve It Step by Step:</strong></h3>
<h4 id="step-1-check-the-feasibility-of-completing-the-circuit">Step 1: <strong>Check the Feasibility of Completing the Circuit</strong></h4>
<p>Before diving into finding the right starting station, we need to check if completing the circuit is even possible.</p>
<p>1Ô∏è‚É£ <strong>Total Gas vs Total Cost</strong><br>
First, we calculate the total gas available (<code>total_gas</code>) and the total cost to travel (<code>total_cost</code>). If at any point, the total gas is less than the total cost, it is impossible to complete the journey, and we should return <code>-1</code>.</p>
<p>Let‚Äôs calculate these sums:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> total_gas <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> total_cost <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> gas.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    total_gas <span style="color:#666">+=</span> gas[i];    <span style="color:#080;font-style:italic">// Total gas available at all stations
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    total_cost <span style="color:#666">+=</span> cost[i];  <span style="color:#080;font-style:italic">// Total cost to travel between all stations
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li><strong>If <code>total_gas &lt; total_cost</code></strong>, it‚Äôs impossible to complete the journey. We can safely return <code>-1</code> at this point:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (total_gas <span style="color:#666">&lt;</span> total_cost) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span></code></pre></div><h4 id="step-2-start-simulating-the-journey">Step 2: <strong>Start Simulating the Journey</strong></h4>
<p>If completing the journey is possible, we need to figure out from <strong>which station</strong> we should start.</p>
<p>2Ô∏è‚É£ <strong>Greedy Approach</strong><br>
We‚Äôll use a greedy approach to simulate the journey. The idea is to start from each station and see if we can complete the trip. If at any point we run out of gas, we reset our journey and start from the next station.</p>
<p>We‚Äôll keep track of:</p>
<ul>
<li>The current fuel in the tank (<code>current_gas</code>).</li>
<li>The total remaining fuel (<code>total_gas_so_far</code>).</li>
</ul>
<p>For each station:</p>
<ol>
<li>Add the gas available at the station to the current fuel.</li>
<li>Subtract the cost required to travel to the next station.</li>
<li>If at any point the <code>current_gas</code> becomes negative, reset the journey and consider the next station as the new potential starting point.</li>
</ol>
<p>Here‚Äôs how we can simulate this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> current_gas <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Tracks current fuel
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#0b0;font-weight:bold">int</span> start_station <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Candidate for the start station
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> gas.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    current_gas <span style="color:#666">+=</span> gas[i];    <span style="color:#080;font-style:italic">// Add gas from current station
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    current_gas <span style="color:#666">-=</span> cost[i];   <span style="color:#080;font-style:italic">// Subtract the cost to travel to next station
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (current_gas <span style="color:#666">&lt;</span> <span style="color:#666">0</span>) {    <span style="color:#080;font-style:italic">// If we run out of gas, reset journey
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        current_gas <span style="color:#666">=</span> <span style="color:#666">0</span>;      <span style="color:#080;font-style:italic">// Reset the tank
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        start_station <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Consider the next station as the new start
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Why do we reset?</strong><br>
If at station <code>i</code> the current gas drops below zero, it means that we cannot start from station <code>i</code> or any previous station. Hence, we reset and try starting from the next station (<code>i + 1</code>).</li>
</ul>
<h4 id="step-3-return-the-starting-station">Step 3: <strong>Return the Starting Station</strong></h4>
<p>After simulating the journey, the <code>start_station</code> will be the index of the last station where the circuit can successfully be completed.</p>
<p>To account for the <strong>1-indexed</strong> return value, we will return the result as:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> start_station;
</span></span></code></pre></div><hr>
<h3 id="-time-and-space-complexity">üìà <strong>Time and Space Complexity</strong></h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:<br>
The approach involves a single pass through the stations, making it <strong>O(n)</strong> where <code>n</code> is the number of stations.</p>
</li>
<li>
<p><strong>Space Complexity</strong>:<br>
We only use a few variables to track the gas and current station index, so the space complexity is <strong>O(1)</strong>.</p>
</li>
</ul>
<hr>
<h3 id="-summary">üöÄ <strong>Summary</strong></h3>
<p>By following these steps:</p>
<ol>
<li>We first check if completing the journey is possible by comparing the total gas and total cost.</li>
<li>If it&rsquo;s feasible, we simulate the journey with a greedy approach, resetting the journey whenever we run out of gas and moving to the next station.</li>
<li>The final result will give us the station index from which we can start to complete the circular journey without running out of gas.</li>
</ol>
<p>If it&rsquo;s not possible to complete the journey, we return <code>-1</code>.</p>
<p>This approach ensures that we efficiently find the right station in linear time, making it optimal for large inputs.</p>
<hr>
<p><a href="https://leetcode.com/problems/gas-station/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/xmJZSYSvgfE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
