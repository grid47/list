<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 395: Longest Substring with At Least K Repeating Characters | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 395: Longest Substring with At Least K Repeating Characters">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 395: Longest Substring with At Least K Repeating Characters in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-395-longest-substring-with-at-least-k-repeating-characters/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 395: Longest Substring with At Least K Repeating Characters">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 395: Longest Substring with At Least K Repeating Characters in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Divide and Conquer">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 395: Longest Substring with At Least K Repeating Characters</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1116s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/395.webp" 
           alt="A string with glowing characters highlighting the longest substring with at least K repeating characters." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 395: Longest Substring with At Least K Repeating Characters Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1116s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> longestSubstring(string s, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(s.size() <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> k <span style="color:#666">&gt;</span> s.size()) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(k <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> s.size();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            mp[s[i]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> idx <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(idx <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> mp[s[idx]] <span style="color:#666">&gt;=</span> k) idx<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> s.size()) <span style="color:#a2f;font-weight:bold">return</span> s.size();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> left <span style="color:#666">=</span> longestSubstring(s.substr(<span style="color:#666">0</span>, idx), k);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> right <span style="color:#666">=</span> longestSubstring(s.substr(idx <span style="color:#666">+</span> <span style="color:#666">1</span>), k);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(left, right);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-problem-statement">🚀 Problem Statement</h3>
<p>The challenge here is to find the longest substring in a string <code>s</code> where every character in that substring appears <strong>at least <code>k</code> times</strong>. If no such substring exists, the function should return <code>0</code>.</p>
<p>For example:</p>
<ul>
<li>Given the string <code>&quot;aaabb&quot;</code>, and <code>k = 3</code>, the longest substring is <code>&quot;aaa&quot;</code>, as it is the only substring where each character appears at least 3 times.</li>
<li>For the string <code>&quot;ababbc&quot;</code>, with <code>k = 2</code>, the longest substring is <code>&quot;abb&quot;</code>, as both &lsquo;a&rsquo; and &lsquo;b&rsquo; appear at least 2 times.</li>
</ul>
<hr>
<h3 id="-approach">🧠 Approach</h3>
<p>We’ll solve this using a <strong>divide and conquer</strong> strategy to break the string down into manageable parts. The main idea is to recursively find substrings where each character appears at least <code>k</code> times.</p>
<h4 id="key-steps">Key Steps:</h4>
<ol>
<li><strong>Base Cases</strong>:
<ul>
<li>If the string is empty or <code>k</code> exceeds the string’s length, we immediately return <code>0</code>.</li>
<li>If <code>k == 0</code>, we can consider the entire string as valid, so we return the entire string&rsquo;s length.</li>
</ul>
</li>
<li><strong>Frequency Map</strong>: Build a frequency map to count how often each character appears in the string.</li>
<li><strong>Split the String</strong>: As we traverse the string, we split it wherever we encounter a character that appears fewer than <code>k</code> times.</li>
<li><strong>Recursion</strong>: For each substring, we apply the same process recursively.</li>
<li><strong>Combine Results</strong>: After splitting, we combine the results by finding the longest valid substring from the split parts.</li>
</ol>
<p>This approach narrows down the search space efficiently, focusing only on parts of the string that might contain valid substrings.</p>
<hr>
<h3 id="-step-by-step-code-breakdown">🔨 Step-by-Step Code Breakdown</h3>
<p>Let&rsquo;s dive into how the code works, step by step:</p>
<h4 id="step-1-base-cases">Step 1: Base Cases</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(s.size() <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> k <span style="color:#666">&gt;</span> s.size()) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(k <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> s.size();
</span></span></code></pre></div><ul>
<li>If the string is empty or <code>k</code> is greater than the string’s length, we can’t have any valid substring, so we return <code>0</code>.</li>
<li>If <code>k == 0</code>, every substring is valid, so we return the size of the entire string.</li>
</ul>
<h4 id="step-2-frequency-map">Step 2: Frequency Map</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    mp[s[i]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We create a frequency map <code>mp</code> to count how many times each character appears in the string.</li>
<li>This allows us to quickly check if a character meets the required frequency.</li>
</ul>
<h4 id="step-3-splitting-the-string">Step 3: Splitting the String</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> idx <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(idx <span style="color:#666">&lt;</span> s.size() <span style="color:#666">&amp;&amp;</span> mp[s[idx]] <span style="color:#666">&gt;=</span> k) idx<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(idx <span style="color:#666">==</span> s.size()) <span style="color:#a2f;font-weight:bold">return</span> s.size();
</span></span></code></pre></div><ul>
<li>We initialize an index <code>idx</code> to find the first character that appears less than <code>k</code> times.</li>
<li>We move <code>idx</code> forward until we find a character that doesn’t meet the frequency requirement. If <code>idx</code> reaches the end of the string, it means all characters are valid, and we return the length of the entire string.</li>
</ul>
<h4 id="step-4-recursive-call-on-substrings">Step 4: Recursive Call on Substrings</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> left <span style="color:#666">=</span> longestSubstring(s.substr(<span style="color:#666">0</span>, idx), k);
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> right <span style="color:#666">=</span> longestSubstring(s.substr(idx <span style="color:#666">+</span> <span style="color:#666">1</span>), k);
</span></span></code></pre></div><ul>
<li>When we find a character that appears fewer than <code>k</code> times, we split the string at that point.</li>
<li>We recursively call <code>longestSubstring</code> on the left and right substrings, splitting the problem into smaller pieces.</li>
</ul>
<h4 id="step-5-combine-results">Step 5: Combine Results</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(left, right);
</span></span></code></pre></div><ul>
<li>After recursively solving the left and right substrings, we take the maximum of their results because we want the longest valid substring.</li>
<li>The result is then returned.</li>
</ul>
<hr>
<h3 id="-complexity-analysis">📈 Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Time Complexity</strong>: <code>O(n)</code>, where <code>n</code> is the length of the string. The algorithm scans through the string once to build the frequency map, and each recursive call works on progressively smaller substrings. So, the overall time complexity remains linear in terms of the length of the string.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Space Complexity</strong>: <code>O(n)</code>. We use a frequency map to store the counts of characters, and the recursion stack can also go as deep as <code>n</code> in the worst case.</li>
</ul>
<hr>
<h3 id="-conclusion">🏁 Conclusion</h3>
<p>This solution effectively solves the problem by using a divide-and-conquer approach. By recursively splitting the string and focusing only on the parts that could potentially contain valid substrings, we efficiently find the longest substring where each character appears at least <code>k</code> times. With a time complexity of <code>O(n)</code> and space complexity of <code>O(n)</code>, this solution is optimal for large inputs.</p>
<p>Remember, breaking down the problem into smaller subproblems is key here! 🌟 Keep up the good work, and don’t forget to practice more to strengthen your problem-solving skills! 💪</p>
<p><a href="https://leetcode.com/problems/longest-substring-with-at-least-k-repeating-characters/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/bHZkCAcj3dc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
