<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 421: Maximum XOR of Two Numbers in an Array | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 421: Maximum XOR of Two Numbers in an Array">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 421: Maximum XOR of Two Numbers in an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-421-maximum-xor-of-two-numbers-in-an-array/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 421: Maximum XOR of Two Numbers in an Array">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 421: Maximum XOR of Two Numbers in an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Bit Manipulation">
    <meta property="article:tag" content="Trie">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 421: Maximum XOR of Two Numbers in an Array</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1128s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/421.webp" 
           alt="A glowing sequence of numbers where the XOR result is softly highlighted, showing the maximum possible value." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 421: Maximum XOR of Two Numbers in an Array Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1128s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">TrieNode</span> {
</span></span><span style="display:flex;"><span>    TrieNode<span style="color:#666">*</span> children[<span style="color:#666">2</span>] <span style="color:#666">=</span> {};
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> add(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        TrieNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">31</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> bit <span style="color:#666">=</span> (num <span style="color:#666">&gt;&gt;</span> i) <span style="color:#666">&amp;</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (cur<span style="color:#666">-&gt;</span>children[bit] <span style="color:#666">==</span> <span style="color:#a2f;font-weight:bold">nullptr</span>)
</span></span><span style="display:flex;"><span>                cur<span style="color:#666">-&gt;</span>children[bit] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TrieNode();
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>children[bit];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">max</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        TrieNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">31</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> bit <span style="color:#666">=</span> (num <span style="color:#666">&gt;&gt;</span> i) <span style="color:#666">&amp;</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (cur<span style="color:#666">-&gt;</span>children[<span style="color:#666">1</span> <span style="color:#666">-</span> bit] <span style="color:#666">!=</span> <span style="color:#a2f;font-weight:bold">nullptr</span>) {
</span></span><span style="display:flex;"><span>                cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>children[<span style="color:#666">1</span> <span style="color:#666">-</span> bit];
</span></span><span style="display:flex;"><span>                ans <span style="color:#666">|=</span> (<span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> i);
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span>  cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>children[bit];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }    
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> findMaximumXOR(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        TrieNode<span style="color:#666">*</span> root <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TrieNode();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>add(nums[i]);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> max(res, root<span style="color:#666">-&gt;</span>max(nums[i]));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The problem at hand involves finding the maximum XOR value between two numbers in a given list of integers. XOR, or exclusive OR, is a binary operation where the bits of the two operands are compared and return 1 if the bits are different and 0 if they are the same. The task is to find two numbers in the array such that their XOR is the maximum possible, and then return this maximum value.</p>
<h3 id="approach">Approach:</h3>
<p>The brute force approach would involve comparing every possible pair of numbers in the list, computing their XOR values, and keeping track of the maximum XOR. However, this would result in a time complexity of (O(n^2)), which can be inefficient for large arrays.</p>
<p>Instead, a more optimal approach involves using a <strong>Trie (prefix tree)</strong> data structure, which allows for efficient storage and querying of the binary representations of the numbers. A <strong>TrieNode</strong> stores an array of child nodes corresponding to the binary digits (0 and 1). The main idea is to build the Trie with the binary representations of the numbers and then, for each number, traverse the Trie to maximize the XOR value by trying to take the opposite bit at each step (since 1 XOR 0 = 1, which gives the highest contribution to the XOR result).</p>
<p>The overall approach uses the Trie structure to efficiently perform the XOR maximization by exploiting the properties of binary numbers and the Trie’s ability to represent and traverse bitwise data.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<ol>
<li>
<p><strong>TrieNode Class</strong>:</p>
<ul>
<li>
<p><strong>Attributes</strong>:</p>
<ul>
<li><code>children[2]</code>: This array stores two children for each node: one for bit 0 and the other for bit 1. It represents the binary structure.</li>
</ul>
</li>
<li>
<p><strong>Methods</strong>:</p>
<ul>
<li>
<p><code>add(int num)</code>: This method inserts the binary representation of the number <code>num</code> into the Trie. Starting from the most significant bit (MSB), it iteratively checks if the current bit exists. If it doesn&rsquo;t, a new TrieNode is created. This builds the Trie for all numbers in the array.</p>
</li>
<li>
<p><code>max(int num)</code>: This method calculates the maximum XOR of a given number with any number already inserted into the Trie. Starting from the MSB, it attempts to take the opposite bit (1 - bit) at each level if possible. If not, it takes the same bit. This process maximizes the XOR by trying to diverge from the current number.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Solution Class</strong>:</p>
<ul>
<li>
<p><strong>Methods</strong>:</p>
<ul>
<li><code>findMaximumXOR(vector&lt;int&gt;&amp; nums)</code>: This is the main method that handles the process of building the Trie and computing the maximum XOR. It initializes the Trie, inserts all numbers, and then computes the XOR for each number, updating the result with the maximum value encountered.</li>
</ul>
</li>
<li>
<p><strong>Algorithm Flow</strong>:</p>
<ul>
<li>The method iterates over all the numbers in the input list <code>nums</code>, inserting them into the Trie.</li>
<li>It then computes the maximum XOR value for each number by calling the <code>max</code> method of the <code>TrieNode</code> class, which tries to get the maximum possible XOR by traversing the Trie.</li>
<li>Finally, it returns the largest XOR value found.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="code-explanation">Code Explanation:</h3>
<h4 id="trienode-class">TrieNode Class:</h4>
<p>The <code>TrieNode</code> class represents each node in the Trie, where each node corresponds to a bit in the binary representation of a number. Each node has two children:</p>
<ul>
<li>One for bit 0.</li>
<li>One for bit 1.</li>
</ul>
<h4 id="add-method">add Method:</h4>
<ul>
<li>The method begins by processing the number from the most significant bit (31st bit for a 32-bit integer).</li>
<li>It checks each bit and ensures that the appropriate child node is created. If a child node for a given bit doesn’t exist, it creates a new node. This process constructs the Trie.</li>
</ul>
<h4 id="max-method">max Method:</h4>
<ul>
<li>For a given number, the method traverses the Trie to find the maximum XOR possible by attempting to take the opposite bit wherever possible.</li>
<li>This is done by checking the child corresponding to the opposite bit (1 - bit). If it exists, it traverses that path, setting the respective bit in the result (<code>ans</code>), since this gives a higher XOR value.</li>
<li>If the opposite bit doesn’t exist, it takes the same bit as the current number.</li>
</ul>
<h4 id="solution-class">Solution Class:</h4>
<ul>
<li>The <code>findMaximumXOR</code> method initializes the Trie and adds all numbers from the input array.</li>
<li>After inserting the numbers, it computes the maximum XOR value by iterating through the numbers and calling the <code>max</code> method.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis:</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The <code>add</code> method runs in (O(32)) time for each number because it processes 32 bits for each integer (assuming 32-bit integers).</li>
<li>The <code>max</code> method also runs in (O(32)) time for each number since it traverses the Trie bit by bit.</li>
<li>Overall, for (n) numbers, the time complexity is (O(32n)), which simplifies to (O(n)).</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(32n)) for storing the Trie, where (n) is the number of integers in the input array, and each number requires at most 32 nodes (one for each bit).</li>
<li>Simplified, the space complexity is (O(n)).</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>The solution utilizes the Trie data structure to efficiently compute the maximum XOR between any two numbers in the given list. The time complexity of (O(n)) (where (n) is the number of integers) makes this approach far superior to the brute force method, which has a time complexity of (O(n^2)). The Trie-based method not only optimizes the process of finding the maximum XOR but also leverages bitwise operations to maximize the XOR value efficiently.</p>
<p>This approach can be generalized to similar problems that involve bitwise operations, such as finding the maximum OR, AND, or other bitwise combinations in an array. By using a Trie, one can reduce the problem&rsquo;s complexity and handle large input sizes more effectively. The solution is ideal for competitive programming scenarios or real-world applications where performance is critical.</p>
<p><a href="https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
