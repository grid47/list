<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2116: Check if a Parentheses String Can Be Valid | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2116: Check if a Parentheses String Can Be Valid">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2116: Check if a Parentheses String Can Be Valid in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2116-check-if-a-parentheses-string-can-be-valid/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2116: Check if a Parentheses String Can Be Valid">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2116: Check if a Parentheses String Can Be Valid in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Stack">
    <meta property="article:tag" content="Greedy">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2116: Check if a Parentheses String Can Be Valid</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode568s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> canBeValid(string s, string lck) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> (s.size() <span style="color:#666">%</span> <span style="color:#666">2</span>) <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> check(s, lck, <span style="color:#b44">&#39;(&#39;</span>) <span style="color:#666">&amp;&amp;</span> check(s, lck, <span style="color:#b44">&#39;)&#39;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">check</span>(string s, string lck, <span style="color:#0b0;font-weight:bold">char</span> op) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> blk <span style="color:#666">=</span> <span style="color:#666">0</span>, wild <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.size();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> st  <span style="color:#666">=</span>  ( op <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span> ) <span style="color:#666">?</span> <span style="color:#666">0</span> <span style="color:#666">:</span>  n <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> nd  <span style="color:#666">=</span>  ( op <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span> ) <span style="color:#666">?</span> n <span style="color:#666">-</span> <span style="color:#666">1</span><span style="color:#666">:</span>  <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> dir <span style="color:#666">=</span>  ( op <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span> ) <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> st; (i <span style="color:#666">&lt;</span> n) <span style="color:#666">&amp;&amp;</span> (i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>); i <span style="color:#666">+=</span> dir) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(lck[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;1&#39;</span>) blk <span style="color:#666">+=</span> (s[i] <span style="color:#666">==</span> op) <span style="color:#666">?</span> <span style="color:#666">1</span><span style="color:#666">:</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span>              wild<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(blk <span style="color:#666">+</span> wild <span style="color:#666">&lt;</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> blk <span style="color:#666">&lt;=</span> wild;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to determine if a given string <code>s</code>, composed of parentheses, can be made valid by replacing some of its characters using a lock string <code>lck</code>. The string <code>lck</code> consists of characters &lsquo;0&rsquo; and &lsquo;1&rsquo;, where &lsquo;1&rsquo; indicates that the character at that position in <code>s</code> cannot be changed (it is locked) and &lsquo;0&rsquo; means it can be changed. A valid string of parentheses means that every opening bracket &lsquo;(&rsquo; has a corresponding closing bracket &lsquo;)&rsquo; and they are correctly nested.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to validate whether the parentheses in the string <code>s</code> can be balanced considering the constraints imposed by the <code>lck</code> string. The overall approach involves checking if the number of parentheses can be balanced using the characters that are not locked.</p>
<ol>
<li>
<p><strong>Initial Validity Check</strong>:</p>
<ul>
<li>We first check if the length of <code>s</code> is even. If it&rsquo;s odd, it cannot be a valid parentheses string since each opening bracket must have a matching closing bracket.</li>
</ul>
</li>
<li>
<p><strong>Checking Parentheses Balance</strong>:</p>
<ul>
<li>We utilize two separate checks: one for the opening bracket &lsquo;(&rsquo; and another for the closing bracket &lsquo;)&rsquo;.</li>
<li>During each check, we maintain counters for the number of locked brackets (<code>blk</code>) and the number of wildcards (<code>wild</code>).</li>
<li>As we traverse through the string, we increment or decrement the locked brackets based on the characters in <code>s</code> and check against the wildcards available.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Function Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">canBeValid</span>(string s, string lck) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> (s.size() <span style="color:#666">%</span> <span style="color:#666">2</span>) <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> check(s, lck, <span style="color:#b44">&#39;(&#39;</span>) <span style="color:#666">&amp;&amp;</span> check(s, lck, <span style="color:#b44">&#39;)&#39;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The function <code>canBeValid</code> checks if the string <code>s</code> can potentially be valid.</li>
<li>It first checks if the length of <code>s</code> is even.</li>
<li>It then calls the <code>check</code> function for both opening and closing parentheses.</li>
</ul>
</li>
<li>
<p><strong>Check Function</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">check</span>(string s, string lck, <span style="color:#0b0;font-weight:bold">char</span> op) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> blk <span style="color:#666">=</span> <span style="color:#666">0</span>, wild <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.size();
</span></span></code></pre></div><ul>
<li>The <code>check</code> function initializes counters for locked brackets (<code>blk</code>) and wildcards (<code>wild</code>).</li>
<li>It retrieves the size of <code>s</code>.</li>
</ul>
</li>
<li>
<p><strong>Setting Direction</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> st  <span style="color:#666">=</span>  ( op <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span> ) <span style="color:#666">?</span> <span style="color:#666">0</span> <span style="color:#666">:</span>  n <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> nd  <span style="color:#666">=</span>  ( op <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span> ) <span style="color:#666">?</span> n <span style="color:#666">-</span> <span style="color:#666">1</span><span style="color:#666">:</span>  <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> dir <span style="color:#666">=</span>  ( op <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span> ) <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>Depending on whether we are checking for &lsquo;(&rsquo; or &lsquo;)&rsquo;, we set the starting index (<code>st</code>), ending index (<code>nd</code>), and direction of iteration (<code>dir</code>).</li>
</ul>
</li>
<li>
<p><strong>Iterating Through the String</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> st; (i <span style="color:#666">&lt;</span> n) <span style="color:#666">&amp;&amp;</span> (i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>); i <span style="color:#666">+=</span> dir) {
</span></span></code></pre></div><ul>
<li>A loop iterates through the string based on the defined direction.</li>
</ul>
</li>
<li>
<p><strong>Counting Locked and Wildcards</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(lck[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;1&#39;</span>) blk <span style="color:#666">+=</span> (s[i] <span style="color:#666">==</span> op) <span style="color:#666">?</span> <span style="color:#666">1</span><span style="color:#666">:</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span>              wild<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>If the character in <code>lck</code> is &lsquo;1&rsquo; (locked), we update the <code>blk</code> counter based on whether <code>s[i]</code> is the current operation character (op). If it&rsquo;s &lsquo;0&rsquo;, we increment the wildcard counter.</li>
</ul>
</li>
<li>
<p><strong>Validity Check</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(blk <span style="color:#666">+</span> wild <span style="color:#666">&lt;</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span></code></pre></div><ul>
<li>If at any point the sum of <code>blk</code> and <code>wild</code> becomes negative, it indicates that there are more closing brackets than opening ones that can be paired, so the function returns false.</li>
</ul>
</li>
<li>
<p><strong>Final Check</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> blk <span style="color:#666">&lt;=</span> wild;
</span></span></code></pre></div><ul>
<li>Finally, we check if the number of locked opening brackets can be matched with the available wildcards.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: (O(n))</p>
<ul>
<li>The algorithm iterates through the string <code>s</code> twice, once for each type of parentheses, resulting in a linear time complexity.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>: (O(1))</p>
<ul>
<li>The algorithm uses a constant amount of additional space for counters, independent of the size of the input.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution effectively determines if a string of parentheses can be made valid under the constraints set by a lock string. By separating the checks for opening and closing brackets, the algorithm ensures that it correctly accounts for locked characters while efficiently validating the balance of parentheses. This approach guarantees a robust solution with optimal time complexity, making it suitable for handling larger inputs as well. The clear structure of the code, coupled with the logical flow of checks, enhances its readability and maintainability.</p>
<p><a href="https://leetcode.com/problems/check-if-a-parentheses-string-can-be-valid/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/kyyf-hiGeVc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
