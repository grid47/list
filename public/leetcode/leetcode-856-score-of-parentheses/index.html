<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 856: Score of Parentheses | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 856: Score of Parentheses">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 856: Score of Parentheses in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-856-score-of-parentheses/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 856: Score of Parentheses">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 856: Score of Parentheses in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-13T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 856: Score of Parentheses</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1351s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> scoreOfParentheses(string s) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> scr <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">char</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">a</span> : s) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(a <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span>) {
</span></span><span style="display:flex;"><span>                stk.push(scr);
</span></span><span style="display:flex;"><span>                scr <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                scr <span style="color:#666">=</span> stk.top() <span style="color:#666">+</span> max( <span style="color:#666">2</span> <span style="color:#666">*</span> scr, <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>                stk.pop();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> scr;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand is to calculate the score of a given string that consists of parentheses. The score of a balanced parentheses string is computed using the following rules:</p>
<ol>
<li><code>&quot;()&quot;</code> has a score of <code>1</code>.</li>
<li>If <code>S</code> is a balanced parentheses string, then <code>S = &quot;(A)&quot;</code>, where <code>A</code> is another balanced parentheses string, has a score of <code>2 * score(A)</code>.</li>
<li>If <code>S</code> is a concatenation of two balanced parentheses strings <code>A</code> and <code>B</code>, i.e., <code>S = &quot;AB&quot;</code>, then <code>score(S) = score(A) + score(B)</code>.</li>
</ol>
<p>Given a string <code>s</code> consisting only of <code>'('</code> and <code>')'</code>, we are tasked with computing the score of this string.</p>
<h3 id="approach">Approach</h3>
<p>To calculate the score of a balanced parentheses string, we can leverage a <strong>stack</strong> data structure. Here&rsquo;s the general approach:</p>
<ul>
<li>
<p><strong>Iterate through the string</strong>: We need to scan through the entire string and calculate the score based on the parenthesis structure.</p>
</li>
<li>
<p><strong>Use a Stack for Parentheses Matching</strong>: A stack will help us keep track of nested structures and calculate scores for those structures in a bottom-up fashion.</p>
</li>
<li>
<p><strong>Maintain a running score</strong>: As we encounter different elements (either <code>(</code> or <code>)</code>), we need to adjust the running score based on the nesting and structure of the parentheses.</p>
</li>
</ul>
<p>Hereâ€™s how the approach works in detail:</p>
<ol>
<li>
<p><strong>Opening Parenthesis <code>(</code></strong>: When encountering an opening parenthesis, we push the current score onto the stack. This serves as a marker for the score at the current level of nesting, and we reset the current score to <code>0</code> to start calculating the score of the new nested section.</p>
</li>
<li>
<p><strong>Closing Parenthesis <code>)</code></strong>: Upon encountering a closing parenthesis, we:</p>
<ul>
<li>Calculate the score for the current level based on whether we have an empty nested structure or not.</li>
<li>If the current score is <code>0</code> (i.e., we just encountered an empty <code>()</code>), we set the score to <code>1</code>.</li>
<li>If the current score is greater than <code>0</code>, we double it to account for the nested structure.</li>
<li>We then pop the previous score from the stack and add it to the current score to accumulate the result for the outer structure.</li>
</ul>
</li>
<li>
<p><strong>Final Score</strong>: After processing the entire string, the final score is stored in the <code>scr</code> variable.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-declare-and-initialize-variables">Step 1: Declare and Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> scr <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span></code></pre></div><ul>
<li><code>scr</code>: This variable holds the running score for the parentheses string.</li>
<li><code>stk</code>: The stack is used to store the score at each level of nesting.</li>
</ul>
<h4 id="step-2-iterate-through-the-string">Step 2: Iterate Through the String</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">char</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">a</span> : s) {
</span></span></code></pre></div><ul>
<li>We loop through each character in the string <code>s</code>.</li>
</ul>
<h4 id="step-3-handle-opening-parenthesis-">Step 3: Handle Opening Parenthesis <code>(</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(a <span style="color:#666">==</span> <span style="color:#b44">&#39;(&#39;</span>) {
</span></span><span style="display:flex;"><span>    stk.push(scr);
</span></span><span style="display:flex;"><span>    scr <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>When we encounter an opening parenthesis <code>(</code>, we push the current running score (<code>scr</code>) onto the stack, as we will need to calculate the score for the next nested section.</li>
<li>We then reset the current score <code>scr</code> to <code>0</code> to start calculating the score for this new level of parentheses.</li>
</ul>
<h4 id="step-4-handle-closing-parenthesis-">Step 4: Handle Closing Parenthesis <code>)</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    scr <span style="color:#666">=</span> stk.top() <span style="color:#666">+</span> max( <span style="color:#666">2</span> <span style="color:#666">*</span> scr, <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>    stk.pop();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Upon encountering a closing parenthesis <code>)</code>, we compute the score for the current section:
<ul>
<li>If <code>scr == 0</code> (i.e., the current section is an empty <code>()</code>), we set <code>scr = 1</code> since <code>()</code> has a score of <code>1</code>.</li>
<li>If <code>scr &gt; 0</code>, we double the score to account for the nested structure (e.g., <code>()()</code> becomes <code>2 * score</code>).</li>
</ul>
</li>
<li>After updating the score, we pop the previous score from the stack and add it to <code>scr</code>. This ensures that we account for the accumulated score from previous sections at the higher level of nesting.</li>
</ul>
<h4 id="step-5-return-the-final-score">Step 5: Return the Final Score</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> scr;
</span></span></code></pre></div><ul>
<li>After processing all characters in the string, the value of <code>scr</code> represents the total score for the entire parentheses string.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<p>The time complexity of the solution is <strong>O(n)</strong>, where <code>n</code> is the length of the input string <code>s</code>.</p>
<ul>
<li>We only iterate through the string once, processing each character in constant time.</li>
<li>Each operation on the stack (push and pop) also takes constant time.</li>
<li>Thus, the overall time complexity is <strong>O(n)</strong>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<p>The space complexity is <strong>O(n)</strong>, where <code>n</code> is the length of the input string.</p>
<ul>
<li>The space used by the stack is proportional to the depth of nesting in the parentheses string. In the worst case (all opening parentheses), the stack will contain up to <code>n/2</code> elements.</li>
<li>Therefore, the space complexity is <strong>O(n)</strong> in the worst case.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently calculates the score of a balanced parentheses string using a stack. By iterating through the string once and using the stack to keep track of nested scores, we are able to compute the final score in linear time. This approach handles various nested structures correctly and computes the score in a straightforward manner.</p>
<p>The <strong>time complexity</strong> of the solution is <strong>O(n)</strong>, where <code>n</code> is the length of the string, making it efficient even for large input sizes. The <strong>space complexity</strong> is also <strong>O(n)</strong>, as the stack needs to store scores for each level of nested parentheses.</p>
<p>This approach is both time and space-efficient and can handle all valid input cases as specified in the problem statement.</p>
<p><a href="https://leetcode.com/problems/score-of-parentheses/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/iO0zA-N575k?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
