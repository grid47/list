<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1686: Stone Game VI | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1686: Stone Game VI">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1686: Stone Game VI in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1686-stone-game-vi/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1686: Stone Game VI">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1686: Stone Game VI in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">
    <meta property="article:tag" content="Heap (Priority Queue)">
    <meta property="article:tag" content="Game Theory">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1686: Stone Game VI</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode333s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> stoneGameVI(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> alice, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> bob) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ap <span style="color:#666">=</span> <span style="color:#666">0</span>, bp <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> alice.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            Take out stones with max points (alice[i] + bob[i])
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            It either increase our winning chance
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            or reduces the opponents winning chance
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        */</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, less<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            pq.push({alice[i] <span style="color:#666">+</span> bob[i], i});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">bool</span> isA <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> tmp <span style="color:#666">=</span> pq.top();
</span></span><span style="display:flex;"><span>            pq.pop();
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(isA) {
</span></span><span style="display:flex;"><span>                ap <span style="color:#666">+=</span> alice[tmp.second];
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                bp <span style="color:#666">+=</span> bob[tmp.second];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            isA <span style="color:#666">=</span> <span style="color:#666">!</span>isA;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// cout &lt;&lt; ap &lt;&lt; &#34; &#34; &lt;&lt; bp;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">return</span> ap <span style="color:#666">&gt;</span> bp <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> ap <span style="color:#666">&lt;</span> bp <span style="color:#666">?</span> <span style="color:#666">-</span><span style="color:#666">1</span><span style="color:#666">:</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is about simulating a game between two players, Alice and Bob, who take turns picking stones from a set of piles. Each pile <code>i</code> has two values: <code>alice[i]</code> and <code>bob[i]</code>, representing the points Alice and Bob would earn, respectively, if they pick stones from that pile. The objective is to determine the outcome of the game after all stones have been picked, where:</p>
<ul>
<li>If Alice has more points, the result should be <code>1</code>.</li>
<li>If Bob has more points, the result should be <code>-1</code>.</li>
<li>If both players have equal points, the result should be <code>0</code>.</li>
</ul>
<p>The players will always choose the pile that maximizes their potential score, considering both their own score and minimizing the opponent&rsquo;s score.</p>
<h3 id="approach">Approach</h3>
<p>To determine the outcome, the approach is as follows:</p>
<ol>
<li>
<p><strong>Aggregate Points</strong>: Calculate the total points for each pile by summing <code>alice[i]</code> and <code>bob[i]</code>. This helps in determining which pile has the highest combined score.</p>
</li>
<li>
<p><strong>Use a Priority Queue</strong>: Utilize a max-heap (priority queue) to always access the pile with the highest combined score efficiently.</p>
</li>
<li>
<p><strong>Simulate the Game</strong>:</p>
<ul>
<li>Alternate turns between Alice and Bob.</li>
<li>On Alice&rsquo;s turn, she will pick the pile with the maximum points available for her.</li>
<li>On Bob&rsquo;s turn, he will do the same.</li>
<li>Update their scores accordingly after each turn.</li>
</ul>
</li>
<li>
<p><strong>Determine the Result</strong>: After all piles have been picked, compare their final scores and return the appropriate result.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here is a step-by-step breakdown of the implementation:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> stoneGameVI(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> alice, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> bob) {
</span></span></code></pre></div><ul>
<li><strong>Class Definition</strong>: We define a class named <code>Solution</code> and create a public method <code>stoneGameVI</code>, which takes two vectors of integers, <code>alice</code> and <code>bob</code>, as parameters.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ap <span style="color:#666">=</span> <span style="color:#666">0</span>, bp <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> alice.size();
</span></span></code></pre></div><ul>
<li><strong>Variable Initialization</strong>:
<ul>
<li>We initialize <code>ap</code> and <code>bp</code> to store Alice&rsquo;s and Bob&rsquo;s scores, respectively.</li>
<li><code>n</code> holds the number of piles, which is the size of the <code>alice</code> vector.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, less<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            pq.push({alice[i] <span style="color:#666">+</span> bob[i], i});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Priority Queue Setup</strong>:
<ul>
<li>We define a priority queue <code>pq</code> that stores pairs of integers. The first element of the pair is the sum of points from both players for each pile, and the second element is the index of the pile.</li>
<li>We iterate through all piles and push the combined scores into the priority queue.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">bool</span> isA <span style="color:#666">=</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> tmp <span style="color:#666">=</span> pq.top();
</span></span><span style="display:flex;"><span>            pq.pop();
</span></span></code></pre></div><ul>
<li><strong>Game Simulation</strong>:
<ul>
<li>A boolean <code>isA</code> is initialized to track whose turn it is, starting with Alice.</li>
<li>We enter a loop that continues until the priority queue is empty.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(isA) {
</span></span><span style="display:flex;"><span>                ap <span style="color:#666">+=</span> alice[tmp.second];
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                bp <span style="color:#666">+=</span> bob[tmp.second];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            isA <span style="color:#666">=</span> <span style="color:#666">!</span>isA;
</span></span></code></pre></div><ul>
<li><strong>Score Updating</strong>:
<ul>
<li>Depending on whose turn it is, we add the corresponding points from the selected pile to either Alice&rsquo;s or Bob&rsquo;s score using the index <code>tmp.second</code>.</li>
<li>After each selection, we toggle the <code>isA</code> flag to switch turns.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ap <span style="color:#666">&gt;</span> bp <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> ap <span style="color:#666">&lt;</span> bp <span style="color:#666">?</span> <span style="color:#666">-</span><span style="color:#666">1</span> <span style="color:#666">:</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Result Evaluation</strong>:
<ul>
<li>Once all piles are processed, we return <code>1</code> if Alice has a higher score, <code>-1</code> if Bob has a higher score, and <code>0</code> if their scores are equal.</li>
</ul>
</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The overall time complexity is (O(n \log n)), where (n) is the number of piles. This is due to the (O(n)) time required to insert elements into the priority queue and the (O(\log n)) time for each extraction.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) because we are storing the combined scores of each pile in the priority queue.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently simulates the game between Alice and Bob using a priority queue to prioritize the selection of piles based on their total points. The algorithm ensures that both players play optimally, maximizing their scores while minimizing their opponent&rsquo;s score.</p>
<p>Key highlights include:</p>
<ol>
<li>
<p><strong>Optimal Play</strong>: The priority queue guarantees that both players will always pick the best possible option available to them at any turn.</p>
</li>
<li>
<p><strong>Efficiency</strong>: The use of the priority queue allows for efficient score calculations, making the algorithm scalable for larger inputs.</p>
</li>
<li>
<p><strong>Game Simulation</strong>: The solution effectively models the game dynamics while maintaining simplicity and clarity in code.</p>
</li>
</ol>
<p>In summary, the code provides a clear, efficient, and effective way to determine the outcome of the stone game between Alice and Bob by leveraging optimal strategies in score maximization.</p>
<p><a href="https://leetcode.com/problems/stone-game-vi/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/D5uS2MXRhfk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
