<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 794: Valid Tic-Tac-Toe State | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 794: Valid Tic-Tac-Toe State">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 794: Valid Tic-Tac-Toe State in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="https://www.grid47.xyz/leetcode/solution-794-valid-tic-tac-toe-state/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 794: Valid Tic-Tac-Toe State">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 794: Valid Tic-Tac-Toe State in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-19T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Matrix">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/medium.a3d5489836b19de22a81ddc6bd21c17547d07529e67b266427378a04fa3ea727.css" integrity="sha256-o9VImDaxneIqgd3GvSHBdUfQdSnmeyZkJzeKBPo&#43;pyc=">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="https://www.grid47.xyz//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="mainheading">
    <h1 class="sitetitle">grid47</h1>
    <p class="lead">
         Blog by grid47
    </p>
</div><div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%20794%3a%20Valid%20Tic-Tac-Toe%20State&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-794-valid-tic-tac-toe-state%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
        <i class="fab fa-twitter"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://facebook.com/sharer.php?u=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-794-valid-tic-tac-toe-state%2f" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
        <i class="fab fa-facebook-f"></i>
        </a>
        </li>

        <li class="ml-1 mr-1">
        <a target="_blank" href="https://www.xing.com/spi/shares/new?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-794-valid-tic-tac-toe-state%2f" onclick="window.open(this.href, 'xing-share', 'width=550,height=435');return false;">
        <i class="fab fa-xing"></i>
        </a>
        </li>        
    </ul>

    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        	
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Aug 19, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                
                        
                        <h1 class="posttitle">Leetcode 794: Valid Tic-Tac-Toe State</h1> 
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <h2 id="hahahugoshortcode1313s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:8px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/794.webp" 
           alt="A Tic-Tac-Toe board where valid states are checked, with valid states softly glowing as theyâ€™re found." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 794: Valid Tic-Tac-Toe State Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1313s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> validTicTacToe(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> board) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">bool</span> xwin <span style="color:#666">=</span> <span style="color:#a2f">false</span>, owin <span style="color:#666">=</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> rows(<span style="color:#666">3</span>, <span style="color:#666">0</span>), cols(<span style="color:#666">3</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> diag <span style="color:#666">=</span> <span style="color:#666">0</span>, antidiag <span style="color:#666">=</span> <span style="color:#666">0</span>, turns <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">3</span>; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> <span style="color:#666">3</span>; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(board[i][j] <span style="color:#666">==</span> <span style="color:#b44">&#39;X&#39;</span>) {
</span></span><span style="display:flex;"><span>                turns<span style="color:#666">++</span>, cols[j]<span style="color:#666">++</span>, rows[i]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">==</span> j) diag<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">+</span> j <span style="color:#666">==</span> <span style="color:#666">2</span>) antidiag<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(board[i][j] <span style="color:#666">==</span> <span style="color:#b44">&#39;O&#39;</span>) {
</span></span><span style="display:flex;"><span>                turns<span style="color:#666">--</span>, cols[j]<span style="color:#666">--</span>, rows[i]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">==</span> j) diag<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">+</span> j <span style="color:#666">==</span> <span style="color:#666">2</span>) antidiag<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>            }      
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        xwin <span style="color:#666">=</span>  rows[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> 
</span></span><span style="display:flex;"><span>                rows[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>                rows[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>                diag <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> antidiag <span style="color:#666">==</span> <span style="color:#666">3</span>;
</span></span><span style="display:flex;"><span>        owin <span style="color:#666">=</span>  rows[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> 
</span></span><span style="display:flex;"><span>                rows[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>                rows[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>                diag <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> antidiag <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(xwin <span style="color:#666">&amp;&amp;</span> turns <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> owin <span style="color:#666">&amp;&amp;</span> turns <span style="color:#666">==</span> <span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> (turns <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> turns <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#666">&amp;&amp;</span> (<span style="color:#666">!</span>xwin <span style="color:#666">||</span> <span style="color:#666">!</span>owin);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are given a Tic-Tac-Toe board represented by a 3x3 grid of characters. The objective is to determine whether the given board configuration is valid according to the rules of Tic-Tac-Toe. In a valid board, &lsquo;X&rsquo; and &lsquo;O&rsquo; alternately mark their moves, with the following rules:</p>
<ol>
<li>The game starts with player &lsquo;X&rsquo; making the first move.</li>
<li>A player wins by having three of their marks in a row, column, or diagonal.</li>
<li>The game can end in a draw if all squares are filled without any player winning.</li>
</ol>
<p>We need to validate whether the given board represents a possible configuration of a Tic-Tac-Toe game. The board may not necessarily represent a completed game, so we also need to consider whether the number of moves made is consistent with the game&rsquo;s rules.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to validate the board using the following observations:</p>
<ol>
<li>The number of &lsquo;X&rsquo;s should always be equal to or one greater than the number of &lsquo;O&rsquo;s. This is because &lsquo;X&rsquo; always goes first.</li>
<li>If a player wins, the other player should not have made their move after the win.</li>
<li>Both players cannot win simultaneously, as only one player can win the game.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>The code provided uses a few key components to check the board&rsquo;s validity. Let&rsquo;s break it down step by step.</p>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<p>We begin by initializing a few boolean flags, arrays, and counters:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> xwin <span style="color:#666">=</span> <span style="color:#a2f">false</span>, owin <span style="color:#666">=</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> rows(<span style="color:#666">3</span>, <span style="color:#666">0</span>), cols(<span style="color:#666">3</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> diag <span style="color:#666">=</span> <span style="color:#666">0</span>, antidiag <span style="color:#666">=</span> <span style="color:#666">0</span>, turns <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>xwin</code> and <code>owin</code>: These flags keep track of whether &lsquo;X&rsquo; or &lsquo;O&rsquo; has won the game.</li>
<li><code>rows</code> and <code>cols</code>: These vectors hold the count of &lsquo;X&rsquo;s and &lsquo;O&rsquo;s in each row and column, respectively.</li>
<li><code>diag</code> and <code>antidiag</code>: These counters track the diagonals (from top-left to bottom-right and top-right to bottom-left).</li>
<li><code>turns</code>: This counter keeps track of how many &lsquo;X&rsquo; and &lsquo;O&rsquo; moves have been made.</li>
</ul>
<h4 id="step-2-iterate-through-the-board">Step 2: Iterate Through the Board</h4>
<p>Next, we loop over each position on the board:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">3</span>; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> <span style="color:#666">3</span>; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(board[i][j] <span style="color:#666">==</span> <span style="color:#b44">&#39;X&#39;</span>) {
</span></span><span style="display:flex;"><span>            turns<span style="color:#666">++</span>, cols[j]<span style="color:#666">++</span>, rows[i]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">==</span> j) diag<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">+</span> j <span style="color:#666">==</span> <span style="color:#666">2</span>) antidiag<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(board[i][j] <span style="color:#666">==</span> <span style="color:#b44">&#39;O&#39;</span>) {
</span></span><span style="display:flex;"><span>            turns<span style="color:#666">--</span>, cols[j]<span style="color:#666">--</span>, rows[i]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">==</span> j) diag<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">+</span> j <span style="color:#666">==</span> <span style="color:#666">2</span>) antidiag<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>We iterate over the 3x3 grid and check each cell to determine whether it is &lsquo;X&rsquo; or &lsquo;O&rsquo;.</li>
<li>For each &lsquo;X&rsquo;, we increment <code>turns</code> and update the row, column, diagonal, and anti-diagonal counters.</li>
<li>For each &lsquo;O&rsquo;, we decrement <code>turns</code> and update the counters similarly.</li>
</ul>
<h4 id="step-3-check-for-wins">Step 3: Check for Wins</h4>
<p>After updating the counters, we check if either &lsquo;X&rsquo; or &lsquo;O&rsquo; has won the game. A win is determined if any row, column, or diagonal contains three of the same marks (either &lsquo;X&rsquo; or &lsquo;O&rsquo;).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>xwin <span style="color:#666">=</span>  rows[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> 
</span></span><span style="display:flex;"><span>        rows[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>        rows[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>        diag <span style="color:#666">==</span> <span style="color:#666">3</span> <span style="color:#666">||</span> antidiag <span style="color:#666">==</span> <span style="color:#666">3</span>;
</span></span><span style="display:flex;"><span>owin <span style="color:#666">=</span>  rows[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">0</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> 
</span></span><span style="display:flex;"><span>        rows[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">1</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>        rows[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> cols[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>        diag <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span> <span style="color:#666">||</span> antidiag <span style="color:#666">==</span> <span style="color:#666">-</span><span style="color:#666">3</span>;
</span></span></code></pre></div><ul>
<li><code>xwin</code>: Set to <code>true</code> if any row, column, or diagonal contains three &lsquo;X&rsquo;s.</li>
<li><code>owin</code>: Set to <code>true</code> if any row, column, or diagonal contains three &lsquo;O&rsquo;s.</li>
</ul>
<h4 id="step-4-validate-the-game-rules">Step 4: Validate the Game Rules</h4>
<p>Now that we know whether either player has won, we validate the board based on the following conditions:</p>
<ol>
<li>If &lsquo;X&rsquo; wins, the number of &lsquo;X&rsquo;s must be one more than the number of &lsquo;O&rsquo;s (since &lsquo;X&rsquo; moves first).</li>
<li>If &lsquo;O&rsquo; wins, the number of &lsquo;X&rsquo;s must be equal to the number of &lsquo;O&rsquo;s.</li>
<li>Both players cannot win simultaneously.</li>
<li>The game must not have too many or too few moves for the players.</li>
</ol>
<p>The following checks ensure that these conditions are met:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(xwin <span style="color:#666">&amp;&amp;</span> turns <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> owin <span style="color:#666">&amp;&amp;</span> turns <span style="color:#666">==</span> <span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> (turns <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">||</span> turns <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#666">&amp;&amp;</span> (<span style="color:#666">!</span>xwin <span style="color:#666">||</span> <span style="color:#666">!</span>owin);
</span></span></code></pre></div><ul>
<li>If &lsquo;X&rsquo; has won but the number of &lsquo;X&rsquo; moves is not exactly one greater than the number of &lsquo;O&rsquo; moves, or if &lsquo;O&rsquo; has won but the number of &lsquo;X&rsquo; moves is not equal to the number of &lsquo;O&rsquo; moves, we return <code>false</code>.</li>
<li>Finally, we ensure that the number of moves is valid (either 0 or 1 turn difference between &lsquo;X&rsquo; and &lsquo;O&rsquo;), and that only one player has won (or neither).</li>
</ul>
<h3 id="complexity">Complexity</h3>
<p>The time complexity of this solution is O(1) because we are simply iterating over a fixed-size 3x3 board, which takes constant time. Therefore, the solution is highly efficient and operates in constant time.</p>
<ul>
<li><strong>Time Complexity</strong>: O(1), as we always process 9 cells regardless of the input.</li>
<li><strong>Space Complexity</strong>: O(1), as we are using a constant amount of extra space to store the counters and flags.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This code provides an efficient solution for validating the state of a Tic-Tac-Toe board. By using counters for rows, columns, and diagonals, we can easily determine if the board configuration is valid, whether one player has won, and if the number of moves is correct. The solution adheres to the rules of the game and ensures that no invalid configurations are accepted, making it both concise and efficient.</p>
<p><a href="https://leetcode.com/problems/valid-tic-tac-toe-state/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/5IGbZyPgjP0?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/array">Array</a>
                        </li>
                        
                        <li>
                        <a href="/tags/matrix">Matrix</a>
                        </li>
                        
                        </ul>
                    </div>
                    
                    
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="https://www.grid47.xyz/leetcode/solution-792-number-of-matching-subsequences/"> &laquo; Leetcode 792: Number of Matching Subsequences</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="https://www.grid47.xyz/leetcode/solution-795-number-of-subarrays-with-bounded-maximum/">Leetcode 795: Number of Subarrays with Bounded Maximum &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>
        
        
    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">â†’</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/database">database</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" rel="noopener" href="https://www.wowthemes.net">Mediumish Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="https://www.grid47.xyz/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
