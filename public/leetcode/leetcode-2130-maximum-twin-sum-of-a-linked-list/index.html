<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2130: Maximum Twin Sum of a Linked List | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2130: Maximum Twin Sum of a Linked List">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2130: Maximum Twin Sum of a Linked List in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2130-maximum-twin-sum-of-a-linked-list/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2130: Maximum Twin Sum of a Linked List">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2130: Maximum Twin Sum of a Linked List in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Linked List">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2130: Maximum Twin Sum of a Linked List</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode576s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for singly-linked list.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct ListNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode *next;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode() : val(0), next(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode(int x) : val(x), next(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode(int x, ListNode *next) : val(x), next(next) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> pairSum(ListNode<span style="color:#666">*</span> head) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ListNode<span style="color:#666">*</span> slow <span style="color:#666">=</span> head, <span style="color:#666">*</span>fast <span style="color:#666">=</span> head;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(slow <span style="color:#666">&amp;&amp;</span> fast <span style="color:#666">&amp;&amp;</span> fast<span style="color:#666">-&gt;</span>next) {
</span></span><span style="display:flex;"><span>            slow <span style="color:#666">=</span> slow<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            fast <span style="color:#666">=</span> fast<span style="color:#666">-&gt;</span>next<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        if its a even chain fast pointer will go out of index
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        slow will reach at second of middle elements or first of second half of the chain
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">        */</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ListNode <span style="color:#666">*</span>cur <span style="color:#666">=</span> slow, <span style="color:#666">*</span>prv <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>, <span style="color:#666">*</span>nxt;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(cur) {
</span></span><span style="display:flex;"><span>            nxt <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            cur<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> prv;
</span></span><span style="display:flex;"><span>            prv <span style="color:#666">=</span> cur;
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> nxt;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(prv) {
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> max(res, head<span style="color:#666">-&gt;</span>val <span style="color:#666">+</span> prv<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>            head <span style="color:#666">=</span> head<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            prv <span style="color:#666">=</span> prv<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to find the maximum twin sum of a linked list. A twin sum is defined as the sum of pairs of nodes from the front and back of the list. Given a singly linked list, we need to calculate the twin sums formed by taking the first element with the last, the second with the second last, and so on. The objective is to return the maximum twin sum from these pairs.</p>
<h3 id="approach">Approach</h3>
<p>To tackle this problem, we can utilize a two-pointer technique along with reversing the second half of the linked list. The steps are as follows:</p>
<ol>
<li><strong>Find the Middle of the Linked List</strong>: Use the slow and fast pointer technique to locate the midpoint of the list.</li>
<li><strong>Reverse the Second Half</strong>: Once the midpoint is identified, reverse the second half of the linked list.</li>
<li><strong>Calculate Maximum Twin Sum</strong>: Traverse through the original first half and the reversed second half simultaneously, computing the twin sums and tracking the maximum sum encountered.</li>
</ol>
<p>This approach ensures we traverse the linked list a minimal number of times, maintaining efficiency.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here&rsquo;s a detailed breakdown of the implementation:</p>
<ol>
<li>
<p><strong>ListNode Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">struct</span> <span style="color:#00f">ListNode</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> val;
</span></span><span style="display:flex;"><span>    ListNode <span style="color:#666">*</span>next;
</span></span><span style="display:flex;"><span>    ListNode() <span style="color:#666">:</span> val(<span style="color:#666">0</span>), next(<span style="color:#a2f;font-weight:bold">nullptr</span>) {}
</span></span><span style="display:flex;"><span>    ListNode(<span style="color:#0b0;font-weight:bold">int</span> x) <span style="color:#666">:</span> val(x), next(<span style="color:#a2f;font-weight:bold">nullptr</span>) {}
</span></span><span style="display:flex;"><span>    ListNode(<span style="color:#0b0;font-weight:bold">int</span> x, ListNode <span style="color:#666">*</span>next) <span style="color:#666">:</span> val(x), next(next) {}
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>This struct defines a node in a singly linked list, which contains an integer value <code>val</code> and a pointer to the next node <code>next</code>.</li>
</ul>
</li>
<li>
<p><strong>Class Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>The <code>Solution</code> class is defined, encapsulating the method that will solve the problem.</li>
</ul>
</li>
<li>
<p><strong>Function Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">pairSum</span>(ListNode<span style="color:#666">*</span> head) {
</span></span></code></pre></div><ul>
<li>The public member function <code>pairSum</code> takes a pointer to the head of the linked list and will return the maximum twin sum as an integer.</li>
</ul>
</li>
<li>
<p><strong>Finding the Middle of the Linked List</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ListNode<span style="color:#666">*</span> slow <span style="color:#666">=</span> head, <span style="color:#666">*</span>fast <span style="color:#666">=</span> head;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(slow <span style="color:#666">&amp;&amp;</span> fast <span style="color:#666">&amp;&amp;</span> fast<span style="color:#666">-&gt;</span>next) {
</span></span><span style="display:flex;"><span>    slow <span style="color:#666">=</span> slow<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    fast <span style="color:#666">=</span> fast<span style="color:#666">-&gt;</span>next<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Two pointers, <code>slow</code> and <code>fast</code>, are initialized at the head of the list. The <code>slow</code> pointer moves one step at a time, while the <code>fast</code> pointer moves two steps. This loop continues until the <code>fast</code> pointer cannot advance two steps (indicating the end of the list). When this happens, <code>slow</code> will be at the midpoint of the list.</li>
</ul>
</li>
<li>
<p><strong>Reversing the Second Half of the List</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ListNode <span style="color:#666">*</span>cur <span style="color:#666">=</span> slow, <span style="color:#666">*</span>prv <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>, <span style="color:#666">*</span>nxt;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(cur) {
</span></span><span style="display:flex;"><span>    nxt <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    cur<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> prv;
</span></span><span style="display:flex;"><span>    prv <span style="color:#666">=</span> cur;
</span></span><span style="display:flex;"><span>    cur <span style="color:#666">=</span> nxt;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We initialize <code>cur</code> to the <code>slow</code> pointer (midpoint) and <code>prv</code> to <code>NULL</code>. We then reverse the linked list by adjusting the <code>next</code> pointers of each node until we reach the end of the list. The <code>prv</code> pointer will ultimately point to the new head of the reversed second half of the list.</li>
</ul>
</li>
<li>
<p><strong>Calculating the Maximum Twin Sum</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(prv) {
</span></span><span style="display:flex;"><span>    res <span style="color:#666">=</span> max(res, head<span style="color:#666">-&gt;</span>val <span style="color:#666">+</span> prv<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>    head <span style="color:#666">=</span> head<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    prv <span style="color:#666">=</span> prv<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>We initialize <code>res</code> to store the maximum twin sum. In a loop, we calculate the twin sums by adding the values of the nodes pointed to by <code>head</code> (first half) and <code>prv</code> (reversed second half). We continue until <code>prv</code> reaches the end of the list, updating <code>res</code> with the maximum sum found.</li>
</ul>
</li>
<li>
<p><strong>End of Class</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>This curly brace marks the end of the <code>Solution</code> class definition.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: (O(n))</p>
<ul>
<li>The time complexity is (O(n)) because we traverse the linked list three times: once to find the middle, once to reverse the second half, and once to compute the maximum twin sum.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>: (O(1))</p>
<ul>
<li>The space complexity is (O(1)) as we are not using any additional data structures that grow with input size. We only use a constant amount of extra space for pointers.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>pairSum</code> function effectively calculates the maximum twin sum of a linked list using an efficient approach that combines the two-pointer technique with in-place list reversal. By minimizing the number of traversals, the algorithm achieves optimal time complexity while maintaining constant space usage.</p>
<p>This method is robust and works effectively for a variety of input cases, including even and odd-length linked lists. The elegant use of linked list manipulations showcases the power of understanding data structures in solving complex problems efficiently.</p>
<p>In summary, this solution exemplifies how to tackle linked list challenges with clarity and efficiency, making it a useful reference for similar problems in algorithm design and implementation. The overall design is both effective and efficient, ensuring that the maximum twin sum is found with minimal computational overhead.</p>
<p><a href="https://leetcode.com/problems/maximum-twin-sum-of-a-linked-list/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/FnKG0uH2PVc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
