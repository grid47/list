<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2327: Number of People Aware of a Secret | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2327: Number of People Aware of a Secret">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2327: Number of People Aware of a Secret in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2327-number-of-people-aware-of-a-secret/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2327: Number of People Aware of a Secret">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2327: Number of People Aware of a Secret in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-19T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Queue">
    <meta property="article:tag" content="Simulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2327: Number of People Aware of a Secret</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode689s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> peopleAwareOfSecret(<span style="color:#0b0;font-weight:bold">int</span> n, <span style="color:#0b0;font-weight:bold">int</span> delay, <span style="color:#0b0;font-weight:bold">int</span> forget) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, share <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">2</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">2</span>; i <span style="color:#666">&lt;=</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            dp[i] <span style="color:#666">=</span> share <span style="color:#666">=</span> (share <span style="color:#666">+</span> dp[max(i <span style="color:#666">-</span> delay, <span style="color:#666">0</span>)] <span style="color:#666">-</span> dp[max(i <span style="color:#666">-</span> forget, <span style="color:#666">0</span>)] <span style="color:#666">+</span> mod) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">-</span> forget; i <span style="color:#666">&lt;=</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> (res <span style="color:#666">+</span> dp[i]) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to calculate the number of people who are aware of a secret after <code>n</code> days, where people can start sharing the secret, and others can learn it over time. The key rules are:</p>
<ol>
<li>A person starts sharing the secret after a delay of <code>delay</code> days.</li>
<li>Once a person learns the secret, they can forget it after <code>forget</code> days.</li>
</ol>
<p>Given the constraints, we are tasked with computing how many people are aware of the secret after <code>n</code> days, using a dynamic programming approach. The result must be taken modulo (10^9 + 7).</p>
<h3 id="approach">Approach</h3>
<p>This problem is a dynamic programming (DP) problem where we need to track the number of people who are aware of the secret at each day, taking into account the delay and forget intervals.</p>
<p>We can approach the problem step-by-step as follows:</p>
<ol>
<li>
<p><strong>Initial Setup:</strong></p>
<ul>
<li>The first person is aware of the secret on day 1.</li>
<li>The secret-sharing behavior follows two main intervals:
<ul>
<li><strong>Delay Interval:</strong> A person can start sharing the secret after <code>delay</code> days.</li>
<li><strong>Forget Interval:</strong> A person forgets the secret after <code>forget</code> days.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Dynamic Programming Array:</strong></p>
<ul>
<li>We use a dynamic programming array <code>dp[]</code> where <code>dp[i]</code> represents the number of people who learn the secret on day <code>i</code>.</li>
<li>The total number of people aware of the secret at any point in time is the cumulative sum of values in the <code>dp[]</code> array up to that day.</li>
</ul>
</li>
<li>
<p><strong>Transition Logic:</strong></p>
<ul>
<li>On each day <code>i</code>, the people who are aware of the secret are those who learned it on the previous days, but after considering the delay and forget intervals:
<ul>
<li>People who start sharing the secret on day <code>i</code> (i.e., <code>dp[max(i - delay, 0)]</code>).</li>
<li>People who stop sharing the secret on day <code>i</code> (i.e., <code>dp[max(i - forget, 0)]</code>).</li>
</ul>
</li>
<li>We adjust the values to account for these intervals, ensuring the number of people aware of the secret is updated correctly.</li>
</ul>
</li>
<li>
<p><strong>Final Answer Calculation:</strong></p>
<ul>
<li>After computing the <code>dp[]</code> values, the final answer is the sum of all people who are still aware of the secret on the last <code>forget</code> days.</li>
<li>The result must be taken modulo (10^9 + 7) to avoid overflow and meet the problem&rsquo;s constraints.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s break down the code into key steps:</p>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, share <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">2</span>, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>dp[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span></code></pre></div><ul>
<li>We initialize <code>res</code> to store the final result, which will be the number of people aware of the secret after <code>n</code> days.</li>
<li><code>share</code> is used to keep track of the cumulative number of people who are sharing the secret on any given day.</li>
<li>The <code>dp</code> vector is initialized with <code>n + 2</code> elements to represent days from 1 to <code>n</code> and one extra index to handle boundary conditions. Initially, all values are set to 0.</li>
<li><code>dp[1] = 1</code> indicates that on day 1, only the first person is aware of the secret.</li>
<li><code>mod = 1e9 + 7</code> is the modulo used to ensure the result is within the bounds of typical integer limits.</li>
</ul>
<h4 id="step-2-iterate-over-each-day">Step 2: Iterate Over Each Day</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">2</span>; i <span style="color:#666">&lt;=</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    dp[i] <span style="color:#666">=</span> share <span style="color:#666">=</span> (share <span style="color:#666">+</span> dp[max(i <span style="color:#666">-</span> delay, <span style="color:#666">0</span>)] <span style="color:#666">-</span> dp[max(i <span style="color:#666">-</span> forget, <span style="color:#666">0</span>)] <span style="color:#666">+</span> mod) <span style="color:#666">%</span> mod;
</span></span></code></pre></div><ul>
<li>We iterate from day 2 to day <code>n</code>, calculating how many people are aware of the secret on each day.</li>
<li>For each day <code>i</code>:
<ul>
<li>We calculate the number of people who start sharing the secret by considering the day <code>max(i - delay, 0)</code>. This is the day people who were initially aware start sharing the secret.</li>
<li>We calculate how many people forget the secret on day <code>i</code> by considering the day <code>max(i - forget, 0)</code>. These are the people who stop sharing the secret after <code>forget</code> days.</li>
<li>We update the <code>dp[i]</code> array with the total number of people aware on day <code>i</code>, using the variable <code>share</code> to keep track of the ongoing cumulative count.</li>
</ul>
</li>
</ul>
<h4 id="step-3-calculate-the-final-result">Step 3: Calculate the Final Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">-</span> forget; i <span style="color:#666">&lt;=</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    res <span style="color:#666">=</span> (res <span style="color:#666">+</span> dp[i]) <span style="color:#666">%</span> mod;
</span></span></code></pre></div><ul>
<li>After calculating the number of people aware of the secret each day, we need to sum up the number of people still aware of the secret in the last <code>forget</code> days.</li>
<li>This is done by summing <code>dp[i]</code> for <code>i</code> from <code>n + 1 - forget</code> to <code>n</code> to account for all people who are still sharing the secret at the end of the <code>n</code> days.</li>
<li>We use modulo (10^9 + 7) to ensure the result doesn&rsquo;t overflow.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>Finally, the result <code>res</code> is returned, which represents the number of people who are aware of the secret after <code>n</code> days.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Initialization:</strong> The initialization of the <code>dp</code> array and the setting of the first element takes constant time <code>O(1)</code>.</li>
<li><strong>Main Loop:</strong> The main loop runs for <code>n</code> iterations (from day 2 to day <code>n</code>). In each iteration, we perform constant-time operations such as accessing the <code>dp</code> array and updating the <code>share</code> value. Therefore, the time complexity for this loop is <code>O(n)</code>.</li>
<li><strong>Final Sum Calculation:</strong> The second loop calculates the sum of people still aware of the secret on the last <code>forget</code> days. This loop runs at most <code>forget</code> iterations, which is bounded by <code>n</code>, so it is also <code>O(n)</code> in the worst case.</li>
</ul>
<p>Thus, the overall time complexity is <strong>O(n)</strong>.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The <code>dp</code> array requires space to store the values for <code>n + 2</code> days, which is <strong>O(n)</strong> in terms of space complexity.</li>
</ul>
<p>Thus, the space complexity is <strong>O(n)</strong>.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently computes the number of people who are aware of a secret after <code>n</code> days, taking into account the delay and forget intervals. By using dynamic programming, we track the number of people who are sharing the secret on each day and adjust for people forgetting the secret. The approach runs in linear time, making it suitable for large values of <code>n</code>, and the result is calculated modulo (10^9 + 7) to prevent overflow. The solution is space-efficient, with a space complexity of <strong>O(n)</strong>.</p>
<p><a href="https://leetcode.com/problems/number-of-people-aware-of-a-secret/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/rOnTeyl_njo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
