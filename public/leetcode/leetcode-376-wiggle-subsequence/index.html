<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 376: Wiggle Subsequence | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 376: Wiggle Subsequence">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 376: Wiggle Subsequence in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-376-wiggle-subsequence/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 376: Wiggle Subsequence">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 376: Wiggle Subsequence in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Greedy">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 376: Wiggle Subsequence</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1097s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/376.webp" 
           alt="A sequence of numbers gently moving into a wiggle pattern, each step softly highlighted as they align." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 376: Wiggle Subsequence Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1097s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> wiggleMaxLength(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(nums.size() <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> up(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> down(n, <span style="color:#666">0</span>);        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        up[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        down[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                 <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&lt;</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                down[i] <span style="color:#666">=</span> up[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                up[i] <span style="color:#666">=</span> up[i <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(nums[i] <span style="color:#666">&gt;</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) {            
</span></span><span style="display:flex;"><span>                up[i] <span style="color:#666">=</span> down[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                down[i] <span style="color:#666">=</span> down[i <span style="color:#666">-</span> <span style="color:#666">1</span>];                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                down[i] <span style="color:#666">=</span> down[i <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>                up[i]   <span style="color:#666">=</span>   up[i <span style="color:#666">-</span> <span style="color:#666">1</span>];                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(down[n <span style="color:#666">-</span> <span style="color:#666">1</span>], up[n <span style="color:#666">-</span> <span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-problem-statement">🚀 Problem Statement</h3>
<p>In this problem, we&rsquo;re tasked with determining the length of the longest &ldquo;wiggle subsequence&rdquo; in an integer array. A <strong>wiggle subsequence</strong> is defined as one where the differences between consecutive elements strictly alternate between positive and negative.</p>
<p>For example:</p>
<ul>
<li>In the sequence <code>[1, 7, 4, 9, 2, 5]</code>, the longest wiggle subsequence is <code>[1, 7, 4, 9, 2, 5]</code> because the differences between consecutive numbers alternate in sign.</li>
<li>In the sequence <code>[1, 2, 3, 4, 5]</code>, the longest wiggle subsequence is <code>[1, 2]</code> or <code>[1, 5]</code>, as there are no alternating differences between all the elements.</li>
</ul>
<p>Our goal is to find the length of the longest subsequence that forms a wiggle pattern.</p>
<hr>
<h3 id="-approach">🧠 Approach</h3>
<p>This problem can be efficiently solved using <strong>dynamic programming</strong>. We’ll track two possible scenarios for each element:</p>
<ol>
<li><strong>Upward movement</strong>: The difference between the current element and the previous one is positive.</li>
<li><strong>Downward movement</strong>: The difference between the current element and the previous one is negative.</li>
</ol>
<h4 id="key-observations">Key Observations:</h4>
<ul>
<li>We need two arrays to represent the dynamic programming states:
<ul>
<li><code>up[i]</code>: The length of the longest wiggle subsequence that ends with an upward movement at index <code>i</code>.</li>
<li><code>down[i]</code>: The length of the longest wiggle subsequence that ends with a downward movement at index <code>i</code>.</li>
</ul>
</li>
</ul>
<p>If the current element is greater than the previous one, the sequence continues upward. If it’s smaller, the sequence continues downward. If it’s equal, no change occurs.</p>
<p>The result will be the maximum of the last values in the <code>up</code> and <code>down</code> arrays.</p>
<hr>
<h3 id="-step-by-step-code-breakdown">🔨 Step-by-Step Code Breakdown</h3>
<h4 id="1-check-for-empty-array">1. <strong>Check for Empty Array</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(nums.size() <span style="color:#666">==</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>If the array is empty, there is no subsequence to form, so we immediately return <code>0</code>.</li>
</ul>
<hr>
<h4 id="2-initialize-the-dp-arrays">2. <strong>Initialize the DP Arrays</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> up(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> down(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>up[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>down[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>We initialize two vectors, <code>up</code> and <code>down</code>, to store the lengths of the longest subsequences that end at each index with an upward or downward movement.</li>
<li>The first element (<code>up[0]</code> and <code>down[0]</code>) is set to <code>1</code> because any single element is a valid subsequence of length 1.</li>
</ul>
<hr>
<h4 id="3-loop-through-the-array">3. <strong>Loop Through the Array</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&lt;</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>        down[i] <span style="color:#666">=</span> up[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        up[i] <span style="color:#666">=</span> up[i <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(nums[i] <span style="color:#666">&gt;</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>        up[i] <span style="color:#666">=</span> down[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        down[i] <span style="color:#666">=</span> down[i <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        down[i] <span style="color:#666">=</span> down[i <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>        up[i] <span style="color:#666">=</span> up[i <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We iterate through the array starting from the second element.</li>
<li>For each element, we compare it with the previous element:
<ul>
<li>If it&rsquo;s smaller, we update <code>down[i]</code> to be the length of the longest subsequence with a downward movement (<code>up[i-1] + 1</code>).</li>
<li>If it’s larger, we update <code>up[i]</code> to reflect the longest subsequence with an upward movement (<code>down[i-1] + 1</code>).</li>
<li>If the elements are equal, no updates are made since there’s no wiggle.</li>
</ul>
</li>
</ul>
<hr>
<h4 id="4-return-the-maximum-wiggle-length">4. <strong>Return the Maximum Wiggle Length</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">max</span>(down[n <span style="color:#666">-</span> <span style="color:#666">1</span>], up[n <span style="color:#666">-</span> <span style="color:#666">1</span>]);
</span></span></code></pre></div><ul>
<li>After the loop finishes, the longest wiggle subsequence can either end with an upward or downward movement. So, we return the maximum of <code>up[n-1]</code> and <code>down[n-1]</code>.</li>
</ul>
<hr>
<h3 id="-complexity-analysis">📈 Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: We only need one pass through the array to calculate the values of the <code>up</code> and <code>down</code> arrays, making the time complexity linear.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: We use two arrays (<code>up</code> and <code>down</code>), each of size <code>n</code>, to store the lengths of subsequences for each index.</li>
</ul>
<hr>
<h3 id="-conclusion">🏁 Conclusion</h3>
<p>This dynamic programming approach efficiently finds the length of the longest wiggle subsequence in an integer array. By keeping track of subsequences that end with upward and downward movements, we ensure that each step builds on the previous ones. The time complexity is <strong>O(n)</strong>, which makes this solution optimal for large inputs.</p>
<p>Stay motivated and keep practicing! With dynamic programming, you can solve many such interesting problems by breaking them down into smaller, manageable subproblems!</p>
<p><a href="https://leetcode.com/problems/wiggle-subsequence/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/IpWoZvKzpug?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
