<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2233: Maximum Product After K Increments | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2233: Maximum Product After K Increments">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2233: Maximum Product After K Increments in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2233-maximum-product-after-k-increments/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2233: Maximum Product After K Increments">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2233: Maximum Product After K Increments in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2233: Maximum Product After K Increments</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode635s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maximumProduct(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> pq(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(k<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> mini <span style="color:#666">=</span> pq.top();
</span></span><span style="display:flex;"><span>            pq.pop();
</span></span><span style="display:flex;"><span>            pq.push(mini <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ans <span style="color:#666">=</span> <span style="color:#666">1</span>, mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">long</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">=</span> ((ans <span style="color:#666">%</span> mod) <span style="color:#666">*</span> (pq.top() <span style="color:#666">%</span> mod)) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>            pq.pop();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given a list of integers <code>nums</code> and an integer <code>k</code>, you are tasked with maximizing the product of the elements in <code>nums</code> after performing exactly <code>k</code> operations. In each operation, you can increment any of the elements of the list by <code>1</code>. You need to return the result of this maximum product modulo <code>10^9 + 7</code>.</p>
<p>For example:</p>
<ul>
<li>Input: <code>nums = [1, 2, 3], k = 3</code></li>
<li>Output: <code>27</code></li>
</ul>
<p>The problem is to maximize the product of the list after applying exactly <code>k</code> operations, and the result should be taken modulo <code>10^9 + 7</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we need to focus on the following points:</p>
<ol>
<li>
<p><strong>Understanding the Operation</strong>:</p>
<ul>
<li>In each operation, we can increment an element of the list <code>nums</code>. The goal is to maximize the product of the array after <code>k</code> such operations.</li>
<li>To achieve the maximum product, we should always increment the smallest element in the list because it will provide the greatest increase in the product.</li>
</ul>
</li>
<li>
<p><strong>Optimal Strategy</strong>:</p>
<ul>
<li>Since we want to maximize the product, the best approach is to always increment the smallest number in the array. This will ensure that we distribute the increments in the most optimal way.</li>
<li>A priority queue (min-heap) is ideal for this task because it allows us to efficiently retrieve and modify the smallest element.</li>
</ul>
</li>
<li>
<p><strong>Modulo Operation</strong>:</p>
<ul>
<li>Since the result could be very large, we are asked to return the result modulo <code>10^9 + 7</code> to avoid overflow and ensure the result fits within the required limits.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maximumProduct(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Create a min-heap from the given array.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        priority_queue<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> pq(nums.begin(), nums.end());
</span></span></code></pre></div><ul>
<li><strong>Min-Heap Initialization</strong>:
<ul>
<li>We use a priority queue to efficiently access the smallest element in the list.</li>
<li>The priority queue is initialized with the elements from the input array <code>nums</code> sorted in ascending order (since by default, the <code>priority_queue</code> in C++ is a max-heap, we specify <code>greater&lt;int&gt;</code> to make it behave like a min-heap).</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Increment the smallest element k times.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">while</span>(k<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> mini <span style="color:#666">=</span> pq.top();  <span style="color:#080;font-style:italic">// Get the smallest element.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            pq.pop();  <span style="color:#080;font-style:italic">// Remove it from the heap.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            pq.push(mini <span style="color:#666">+</span> <span style="color:#666">1</span>);  <span style="color:#080;font-style:italic">// Increment the element and push it back to the heap.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span></code></pre></div><ul>
<li><strong>Performing Operations</strong>:
<ul>
<li>We execute <code>k</code> operations, where in each operation:
<ul>
<li>We extract the smallest element (<code>pq.top()</code>).</li>
<li>We increment this smallest element by 1.</li>
<li>We push the incremented value back into the min-heap.</li>
</ul>
</li>
<li>This ensures that after all operations, the product of the array is maximized by distributing the increments optimally.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Calculate the product of the elements in the heap.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ans <span style="color:#666">=</span> <span style="color:#666">1</span>, mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">long</span>) <span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>;  <span style="color:#080;font-style:italic">// Initialize the answer and modulus.
</span></span></span></code></pre></div><ul>
<li><strong>Modulo Setup</strong>:
<ul>
<li>The result will be large, so we define <code>mod = 1e9 + 7</code> to handle the modulo operation at each step.</li>
<li>We also define <code>ans = 1</code> to store the cumulative product of the elements in the heap.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Multiply the remaining elements in the heap to get the maximum product.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">=</span> ((ans <span style="color:#666">%</span> mod) <span style="color:#666">*</span> (pq.top() <span style="color:#666">%</span> mod)) <span style="color:#666">%</span> mod;  <span style="color:#080;font-style:italic">// Multiply the current element with the result.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            pq.pop();  <span style="color:#080;font-style:italic">// Remove the element from the heap.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span></code></pre></div><ul>
<li><strong>Product Calculation</strong>:
<ul>
<li>We iterate through the min-heap, multiplying each element with the current <code>ans</code> and taking modulo <code>mod</code> at each step to prevent overflow and ensure that the result fits within the required bounds.</li>
<li>After multiplying, we remove the element from the heap.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;  <span style="color:#080;font-style:italic">// Return the final result.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Return the Result</strong>:
<ul>
<li>Finally, after processing all elements, we return the result stored in <code>ans</code>, which is the maximum product modulo <code>10^9 + 7</code>.</li>
</ul>
</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li><strong>Building the Min-Heap</strong>: Building a heap from <code>n</code> elements takes O(n log n), where <code>n</code> is the size of the input array <code>nums</code>.</li>
<li><strong>Processing the Operations</strong>: Each of the <code>k</code> operations requires extracting the smallest element (O(log n)) and pushing the incremented value back into the heap (O(log n)). This gives a time complexity of O(k log n) for the <code>k</code> operations.</li>
<li><strong>Calculating the Final Product</strong>: After the operations, we iterate over all elements in the heap to compute the product, which takes O(n) time.</li>
<li>Overall, the total time complexity is <strong>O(n log n + k log n)</strong>.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>We use a min-heap to store the elements, which requires O(n) space. Thus, the space complexity is <strong>O(n)</strong>.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>This solution effectively maximizes the product by always incrementing the smallest number in the list, ensuring the result is optimal. Using a priority queue (min-heap) makes it easy to efficiently retrieve and update the smallest element. The time and space complexity are manageable, making this approach suitable for large inputs. Additionally, the modulo operation ensures that the result is within the required range, preventing overflow issues.</p>
<p><a href="https://leetcode.com/problems/maximum-product-after-k-increments/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/lSr-tKjbiAM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
