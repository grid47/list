<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 593: Valid Square | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 593: Valid Square">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 593: Valid Square in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-593-valid-square/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 593: Valid Square">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 593: Valid Square in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Geometry">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 593: Valid Square</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1212s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/593.webp" 
           alt="A square being validated, with each corner softly glowing as the square is checked for correctness." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 593: Valid Square Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1212s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> d(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> p, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> q) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> (p[<span style="color:#666">0</span>] <span style="color:#666">-</span> q[<span style="color:#666">0</span>])<span style="color:#666">*</span>(p[<span style="color:#666">0</span>] <span style="color:#666">-</span> q[<span style="color:#666">0</span>]) <span style="color:#666">+</span> (p[<span style="color:#666">1</span>] <span style="color:#666">-</span> q[<span style="color:#666">1</span>]) <span style="color:#666">*</span> (p[<span style="color:#666">1</span>] <span style="color:#666">-</span> q[<span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">validSquare</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p1, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p2, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p3, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p4) {
</span></span><span style="display:flex;"><span>        set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s({d(p1, p2), d(p2, p3), d(p3, p4), d(p4, p1), d(p1, p3), d(p2, p4)});
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">!</span>s.count(<span style="color:#666">0</span>) <span style="color:#666">&amp;&amp;</span> s.size() <span style="color:#666">==</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are given the coordinates of four points in a 2D plane. The task is to determine whether these points can form a valid square. A valid square is one where:</p>
<ol>
<li>All four sides are of equal length.</li>
<li>The diagonals are of equal length, and they intersect at right angles (i.e., they are perpendicular).</li>
</ol>
<p>The input consists of four points, each represented by a vector of two integers indicating the x and y coordinates of the points. The goal is to return <code>true</code> if the points form a valid square, and <code>false</code> otherwise.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can break it down into the following steps:</p>
<ol>
<li>
<p><strong>Distance Calculation</strong>: For a valid square, we need to calculate the distances between the points. This includes the distances between adjacent points (sides of the square) and the distances between opposite points (diagonals).</p>
</li>
<li>
<p><strong>Set of Distances</strong>: We can utilize a set to store the distances. A valid square will have exactly two unique distances in the set:</p>
<ul>
<li>The shorter distance will correspond to the sides of the square.</li>
<li>The longer distance will correspond to the diagonals of the square.</li>
</ul>
</li>
<li>
<p><strong>Conditions for Valid Square</strong>:</p>
<ul>
<li>The distance between two points cannot be zero (i.e., no two points can coincide).</li>
<li>There should only be two distinct distances in the set: one for the sides and one for the diagonals.</li>
<li>The diagonals should be longer than the sides.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-distance-calculation">Step 1: Distance Calculation</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">d</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> p, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> q) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> (p[<span style="color:#666">0</span>] <span style="color:#666">-</span> q[<span style="color:#666">0</span>]) <span style="color:#666">*</span> (p[<span style="color:#666">0</span>] <span style="color:#666">-</span> q[<span style="color:#666">0</span>]) <span style="color:#666">+</span> (p[<span style="color:#666">1</span>] <span style="color:#666">-</span> q[<span style="color:#666">1</span>]) <span style="color:#666">*</span> (p[<span style="color:#666">1</span>] <span style="color:#666">-</span> q[<span style="color:#666">1</span>]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>The function <code>d</code> computes the squared distance between two points <code>p</code> and <code>q</code> in the 2D plane. The squared distance formula is:
[
\text{distance}^2 = (x_2 - x_1)^2 + (y_2 - y_1)^2
]
This avoids calculating the square root, which is computationally expensive and unnecessary for this problem since we are only interested in comparing distances.</p>
</li>
<li>
<p>This function is called multiple times in the solution to calculate the distance between pairs of points.</p>
</li>
</ul>
<h4 id="step-2-valid-square-check">Step 2: Valid Square Check</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">validSquare</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p1, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p2, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p3, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> p4) {
</span></span><span style="display:flex;"><span>    set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s({d(p1, p2), d(p2, p3), d(p3, p4), d(p4, p1), d(p1, p3), d(p2, p4)});
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">!</span>s.count(<span style="color:#666">0</span>) <span style="color:#666">&amp;&amp;</span> s.size() <span style="color:#666">==</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>In this step, the function <code>validSquare</code> checks if the four points form a valid square:
<ul>
<li>We compute the distances between all pairs of points: <code>d(p1, p2)</code>, <code>d(p2, p3)</code>, <code>d(p3, p4)</code>, <code>d(p4, p1)</code>, <code>d(p1, p3)</code>, and <code>d(p2, p4)</code>. These represent the distances between adjacent points (sides) and opposite points (diagonals).</li>
<li>These distances are stored in a <code>set&lt;int&gt; s</code>. A set automatically removes duplicates, ensuring that we only store unique distances. If there are no duplicate distances, the set will contain exactly two unique distances — one for the sides and one for the diagonals.</li>
<li>The function then checks two conditions:
<ol>
<li><code>!s.count(0)</code>: This ensures that there are no duplicate points, as a distance of <code>0</code> would indicate that two points coincide.</li>
<li><code>s.size() == 2</code>: This ensures that there are exactly two unique distances — one for the sides and one for the diagonals.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(1)</strong>: The time complexity is constant because we are always working with exactly six distances (the six unique pairs of points), regardless of the specific values of the points. The set operations (insertion and checking size) are constant time because the set has a maximum of two distinct distances.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(1)</strong>: The space complexity is constant because we are only storing six distances in the set, which does not grow with the size of the input. Therefore, the space complexity is fixed.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution provides an efficient way to determine whether four points can form a valid square. By leveraging the properties of distances between points and utilizing a set to store unique distances, the code is able to quickly and accurately check the conditions for a valid square.</p>
<p>The key steps include:</p>
<ol>
<li><strong>Calculating the distances</strong> between all pairs of points.</li>
<li><strong>Storing the distances in a set</strong> to ensure uniqueness and checking if there are exactly two distinct distances (sides and diagonals).</li>
<li><strong>Checking for duplicate points</strong> to ensure no two points overlap.</li>
</ol>
<p>This approach ensures correctness while maintaining optimal time and space complexity, making it an ideal solution for this problem.</p>
<p><a href="https://leetcode.com/problems/valid-square/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/5ErP0_vpzvI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
