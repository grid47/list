<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 565: Array Nesting | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 565: Array Nesting">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 565: Array Nesting in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-565-array-nesting/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 565: Array Nesting">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 565: Array Nesting in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Depth-First Search">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 565: Array Nesting</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1203s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/565.webp" 
           alt="An array where elements are nested, each valid nesting glowing softly as it is processed." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 565: Array Nesting Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1203s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> arrayNesting(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> mxsize <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> size <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> k <span style="color:#666">=</span> i; nums[k] <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; size<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> ak <span style="color:#666">=</span> nums[k];
</span></span><span style="display:flex;"><span>                nums[k] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                k <span style="color:#666">=</span> ak;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            mxsize <span style="color:#666">=</span> max(size, mxsize);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> mxsize;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The problem requires finding the largest set of indices such that each index points to the next index in the set. More formally, we are given an array <code>nums</code> where each element <code>nums[i]</code> represents a pointer to another index in the array. We need to find the largest cycle of elements where starting from any element, we keep following the next index until we revisit an element. The task is to find the maximum length of such a cycle in the array.</p>
<h3 id="approach">Approach:</h3>
<p>This problem is often referred to as an array nesting problem. The challenge is to identify the longest cycle of indices where each index points to another within the array. This is achieved through the following approach:</p>
<ol>
<li><strong>Cycle Detection:</strong> The goal is to detect the cycles in the array where each element points to another index. Once an index is visited, we mark it as visited to avoid revisiting it.</li>
<li><strong>Modification of Input:</strong> The given array is modified in-place to mark visited elements by setting them to <code>-1</code>. This helps in detecting cycles effectively while traversing through the array.</li>
<li><strong>Iterating Over Each Element:</strong> For each unvisited index, we start a new cycle and count the length of the cycle by following the pointers until we reach a previously visited index.</li>
<li><strong>Track Maximum Cycle Size:</strong> We continuously track the largest cycle encountered during the traversal and return the size of the largest cycle.</li>
</ol>
<p>By following this approach, the problem can be efficiently solved with a time complexity of O(n), where n is the size of the array. This is because each element is visited at most once, and we are updating the array in-place to track the visited elements.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> mxsize <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Variable to store the size of the largest cycle found
</span></span></span></code></pre></div><p>Here, <code>mxsize</code> will be used to keep track of the maximum size of the cycle encountered during the traversal of the array. It starts at 0, and as we find larger cycles, it will be updated.</p>
<h4 id="step-2-loop-over-the-array-elements">Step 2: Loop Over the Array Elements</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> size <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Variable to store the size of the current cycle
</span></span></span></code></pre></div><p>We start a loop that iterates over all elements in the array <code>nums</code>. For each element, we check whether it has already been visited (if its value is <code>-1</code>), and if it hasn’t, we start a new cycle from that element. <code>size</code> is used to count the number of elements in the current cycle.</p>
<h4 id="step-3-inner-loop-for-cycle-detection">Step 3: Inner Loop for Cycle Detection</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> k <span style="color:#666">=</span> i; nums[k] <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; size<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> ak <span style="color:#666">=</span> nums[k];  <span style="color:#080;font-style:italic">// Store the next index to visit
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    nums[k] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Mark the current index as visited by setting it to -1
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    k <span style="color:#666">=</span> ak;  <span style="color:#080;font-style:italic">// Move to the next index in the cycle
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><p>Within this inner loop, we follow the cycle starting from the current index <code>i</code>. We update the value of <code>nums[k]</code> to <code>-1</code> to mark it as visited. The next index to visit is stored in <code>ak</code>. We then set <code>k = ak</code> to move to the next index in the cycle. The loop continues until we revisit an already visited index, i.e., until <code>nums[k]</code> is less than 0.</p>
<h4 id="step-4-update-maximum-cycle-size">Step 4: Update Maximum Cycle Size</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>mxsize <span style="color:#666">=</span> max(size, mxsize);  <span style="color:#080;font-style:italic">// Update the maximum cycle size found so far
</span></span></span></code></pre></div><p>After the inner loop finishes (i.e., after we have counted the size of the current cycle), we update <code>mxsize</code> to store the larger of the current cycle size (<code>size</code>) and the previously found largest cycle size.</p>
<h4 id="step-5-return-the-result">Step 5: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> mxsize;  <span style="color:#080;font-style:italic">// Return the size of the largest cycle found
</span></span></span></code></pre></div><p>Once the outer loop finishes iterating through all elements, the function returns <code>mxsize</code>, which holds the size of the largest cycle encountered during the traversal of the array.</p>
<h3 id="complexity">Complexity:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n):</strong> We iterate through each element in the array exactly once. For each unvisited element, we traverse its cycle, marking each element in the cycle as visited (i.e., setting it to <code>-1</code>). Each element is part of exactly one cycle, and therefore, we visit each element once. The total number of operations is proportional to the size of the array, so the time complexity is O(n), where <code>n</code> is the number of elements in the array.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(1):</strong> The algorithm modifies the input array <code>nums</code> in place by marking visited elements with <code>-1</code>. Therefore, no additional space is required beyond the input array, and the space complexity is O(1).</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>This approach provides an efficient solution to the array nesting problem. By using cycle detection and modifying the input array in place, we avoid the need for additional data structures like hash maps, resulting in a solution with linear time complexity and constant space complexity. The algorithm ensures that we only visit each element once, making it highly efficient for large arrays. This technique is particularly useful for problems that involve finding cycles in arrays or graphs, where in-place modification and efficient traversal are key to achieving optimal performance.</p>
<p><a href="https://leetcode.com/problems/array-nesting/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/rl_hXXzvTiM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
