<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 781: Rabbits in Forest | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 781: Rabbits in Forest">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 781: Rabbits in Forest in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-781-rabbits-in-forest/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 781: Rabbits in Forest">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 781: Rabbits in Forest in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Greedy">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 781: Rabbits in Forest</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1302s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/781.webp" 
           alt="A forest where rabbits are hiding, with each rabbit&#39;s position glowing softly as itâ€™s found." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 781: Rabbits in Forest Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1302s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> numRabbits(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> answers) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> c;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">i</span>: answers)
</span></span><span style="display:flex;"><span>        c[i]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">i</span> : c) res <span style="color:#666">+=</span> (i.second <span style="color:#666">+</span> i.first) <span style="color:#666">/</span> (i.first <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">*</span> (i.first <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves determining the minimum number of rabbits that could be in a forest, given a list of answers to a question. Each rabbit in the forest is asked how many rabbits have the same color as them, and the number of rabbits that have the same color is known for each rabbit. The task is to find the minimum number of rabbits required to satisfy all the answers.</p>
<p>In essence, for each rabbit&rsquo;s answer <code>x</code>, the rabbit claims that there are exactly <code>x</code> other rabbits with the same color. Therefore, a rabbit&rsquo;s answer tells you how many other rabbits share the same color. The goal is to calculate the smallest number of rabbits that satisfies all the answers, taking into account the fact that multiple rabbits may give the same answer.</p>
<h3 id="approach">Approach</h3>
<p>The approach to solving this problem is based on understanding how the answers can be grouped to minimize the number of rabbits. The idea is to consider that each rabbit&rsquo;s answer <code>x</code> tells us how many rabbits with the same color they expect to see. This leads to the conclusion that the number of rabbits with the same color must be at least <code>x + 1</code> (since the rabbit itself is also counted in the total number of rabbits with the same color).</p>
<p>We can think of it as a process of grouping rabbits with the same answer. For each unique answer <code>x</code>, we need to calculate how many groups of <code>x + 1</code> rabbits we would need to satisfy the answer <code>x</code>.</p>
<p>To do this, we will count how many times each answer occurs and then, for each answer <code>x</code>, calculate the number of full groups of size <code>x + 1</code> required to accommodate all rabbits who gave that answer. The minimum number of rabbits is the sum of the rabbits in all such groups.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>The code below implements the approach described:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> numRabbits(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> answers) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> c;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">i</span> : answers)
</span></span><span style="display:flex;"><span>            c[i]<span style="color:#666">++</span>;  <span style="color:#080;font-style:italic">// Count how many times each answer appears
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">i</span> : c) {
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// For each unique answer x, calculate how many groups of size x + 1 we need
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            res <span style="color:#666">+=</span> (i.second <span style="color:#666">+</span> i.first) <span style="color:#666">/</span> (i.first <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">*</span> (i.first <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h4 id="step-by-step-explanation">Step-by-Step Explanation</h4>
<ol>
<li>
<p><strong>Count the Frequency of Answers</strong>:</p>
<ul>
<li>The <code>unordered_map&lt;int, int&gt; c;</code> is used to store the frequency of each unique answer in the <code>answers</code> array.</li>
<li>The loop <code>for (int i : answers) c[i]++;</code> iterates through the <code>answers</code> array and counts how many times each answer appears. The key <code>i</code> in the map represents an answer, and the value <code>c[i]</code> represents how many times that answer appears.</li>
</ul>
</li>
<li>
<p><strong>Calculating the Minimum Number of Rabbits</strong>:</p>
<ul>
<li>After counting the frequencies, the algorithm needs to calculate the total number of rabbits.</li>
<li>The loop <code>for (auto i : c)</code> iterates over each unique answer (the key <code>i.first</code>) and its frequency (the value <code>i.second</code>).</li>
<li>For each answer <code>x</code>, we need to calculate the number of full groups of size <code>x + 1</code> (since each group must consist of at least <code>x + 1</code> rabbits).</li>
<li>The formula <code>(i.second + i.first) / (i.first + 1) * (i.first + 1)</code> computes how many full groups of size <code>x + 1</code> are required for <code>i.second</code> rabbits who gave answer <code>x</code>.
<ul>
<li><code>(i.second + i.first) / (i.first + 1)</code> gives the number of full groups needed to fit all rabbits that gave the answer <code>x</code>.</li>
<li>Multiplying by <code>(i.first + 1)</code> gives the total number of rabbits in those full groups.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Summing the Results</strong>:</p>
<ul>
<li>The total number of rabbits is accumulated in the variable <code>res</code>, which is initialized to 0.</li>
<li>For each unique answer, the number of rabbits required is added to <code>res</code>.</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<ul>
<li>After processing all answers, the value of <code>res</code> is returned, which represents the minimum number of rabbits that could satisfy the given answers.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: The algorithm involves iterating through the <code>answers</code> array once to count the frequencies, which takes O(n) time, where <code>n</code> is the number of elements in the array. Then, the second loop iterates over the distinct answers (which can be at most <code>n</code> distinct answers), and for each answer, it performs a constant amount of work (a few arithmetic operations). Therefore, the overall time complexity is O(n), where <code>n</code> is the size of the <code>answers</code> array.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(m)</strong>: The space complexity is determined by the space used to store the frequencies of each answer. In the worst case, all the answers could be distinct, requiring O(n) space to store them in the <code>unordered_map</code>. Therefore, the space complexity is O(m), where <code>m</code> is the number of distinct answers.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The problem asks us to compute the minimum number of rabbits that could satisfy the given answers based on certain constraints. The approach described efficiently solves the problem using a hash map to count the frequencies of each answer, followed by calculating the number of full groups of size <code>x + 1</code> needed to accommodate all rabbits for each answer <code>x</code>.</p>
<p>The solution operates in linear time, O(n), making it well-suited for large inputs, as it processes the answers array in a single pass. The space complexity is O(m), where <code>m</code> is the number of distinct answers, which is efficient and scalable.</p>
<p>By understanding how to group rabbits based on their answers and ensuring that each group consists of at least <code>x + 1</code> rabbits, we can derive the minimum number of rabbits required. This approach guarantees an optimal solution to the problem.</p>
<p><a href="https://leetcode.com/problems/rabbits-in-forest/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/leiSa1i-QrI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
