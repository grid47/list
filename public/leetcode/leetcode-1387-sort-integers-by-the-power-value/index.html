<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1387: Sort Integers by The Power Value | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1387: Sort Integers by The Power Value">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1387: Sort Integers by The Power Value in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1387-sort-integers-by-the-power-value/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1387: Sort Integers by The Power Value">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1387: Sort Integers by The Power Value in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Memoization">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1387: Sort Integers by The Power Value</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode188s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> memo;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dig</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(memo.count(num)) <span style="color:#a2f;font-weight:bold">return</span> memo[num];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> memo[num] <span style="color:#666">=</span> dig(num <span style="color:#666">/</span> <span style="color:#666">2</span>) <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> memo[num] <span style="color:#666">=</span> dig(<span style="color:#666">3</span> <span style="color:#666">*</span> num <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">+</span> <span style="color:#666">1</span>;        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">getKth</span>(<span style="color:#0b0;font-weight:bold">int</span> lo, <span style="color:#0b0;font-weight:bold">int</span> hi, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> ans;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> lo; i <span style="color:#666">&lt;=</span> hi; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> tmp <span style="color:#666">=</span> dig(i);
</span></span><span style="display:flex;"><span>            ans.push_back({tmp, i});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        sort(ans.begin(), ans.end());
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans[k <span style="color:#666">-</span> <span style="color:#666">1</span>].second;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves finding the k-th integer in a specified range ([lo, hi]) based on a sequence derived from the Collatz conjecture. The Collatz sequence for a number (n) follows these rules:</p>
<ul>
<li>If (n) is even, divide it by 2.</li>
<li>If (n) is odd, multiply it by 3 and add 1.</li>
<li>Repeat the process until reaching 1.</li>
</ul>
<p>The challenge is to determine the number of steps it takes for each integer in the range to reach 1 and then return the k-th integer with the lowest number of steps. If two integers take the same number of steps, they should be sorted by their value.</p>
<h3 id="approach">Approach</h3>
<p>The solution consists of the following steps:</p>
<ol>
<li>
<p><strong>Memoization for Efficiency</strong>: Since the number of steps for many integers may overlap (as they could reach the same numbers through different paths), we will use memoization to store previously computed results for quick lookups.</p>
</li>
<li>
<p><strong>Calculating Steps</strong>: For each integer in the specified range, compute the number of steps to reach 1 using the rules of the Collatz conjecture.</p>
</li>
<li>
<p><strong>Sorting Results</strong>: Store the results in a list, sort this list first by the number of steps and then by the integer value itself.</p>
</li>
<li>
<p><strong>Returning the Result</strong>: Finally, extract and return the k-th integer from the sorted list.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here&rsquo;s a detailed breakdown of the provided C++ code:</p>
<ol>
<li>
<p><strong>Class Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> memo;
</span></span></code></pre></div><ul>
<li>The <code>Solution</code> class contains a method to calculate the k-th integer based on the Collatz conjecture. A <code>map&lt;int, int&gt;</code> named <code>memo</code> is used to store the number of steps for each integer.</li>
</ul>
</li>
<li>
<p><strong>Collatz Function (dig)</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dig</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(memo.count(num)) <span style="color:#a2f;font-weight:bold">return</span> memo[num];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> memo[num] <span style="color:#666">=</span> dig(num <span style="color:#666">/</span> <span style="color:#666">2</span>) <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> memo[num] <span style="color:#666">=</span> dig(<span style="color:#666">3</span> <span style="color:#666">*</span> num <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">+</span> <span style="color:#666">1</span>;        
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The <code>dig</code> function calculates the number of steps required for a given number (num) to reach 1.</li>
<li>If (num) is 1, it returns 0, indicating no steps are needed.</li>
<li>If the number has already been computed (exists in <code>memo</code>), it retrieves and returns the stored value.</li>
<li>If (num) is even, it calls itself with (num / 2) and adds 1 (for the step taken).</li>
<li>If (num) is odd, it calls itself with (3 \times num + 1) and adds 1.</li>
</ul>
</li>
<li>
<p><strong>Main Function (getKth)</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">getKth</span>(<span style="color:#0b0;font-weight:bold">int</span> lo, <span style="color:#0b0;font-weight:bold">int</span> hi, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> ans;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> lo; i <span style="color:#666">&lt;=</span> hi; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> tmp <span style="color:#666">=</span> dig(i);
</span></span><span style="display:flex;"><span>            ans.push_back({tmp, i});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>The <code>getKth</code> function accepts three parameters: the lower bound (lo), the upper bound (hi), and (k).</li>
<li>It initializes a vector of pairs <code>ans</code> to store the number of steps alongside the integer itself.</li>
<li>A loop iterates through all integers from (lo) to (hi), calculating the number of steps for each integer using the <code>dig</code> function, and stores the results in <code>ans</code>.</li>
</ul>
</li>
<li>
<p><strong>Sorting and Returning the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        sort(ans.begin(), ans.end());
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans[k <span style="color:#666">-</span> <span style="color:#666">1</span>].second;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>After populating the <code>ans</code> vector, it is sorted based on the first element (number of steps) and, in case of a tie, by the integer value itself.</li>
<li>Finally, the k-th integer (0-indexed) is accessed from the sorted list and returned.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is (O(n \log n)) for sorting the list of integers, where (n) is the number of integers in the range ([lo, hi]). The <code>dig</code> function itself has an average complexity of (O(\log n)) per integer due to the nature of the Collatz sequence.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(n)) for storing the pairs in the <code>ans</code> vector and for the memoization map, which can potentially hold values for each integer in the range.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution efficiently computes the k-th integer in a range based on the steps required to reach 1 using the Collatz conjecture. By leveraging memoization, the algorithm reduces redundant calculations, making it more efficient than a naive approach. This implementation serves as a practical example of combining recursion, dynamic programming principles, and sorting techniques in algorithm design.</p>
<p>Understanding this code enhances one’s grasp of complex number manipulation and recursive problem-solving techniques. Moreover, it illustrates how to efficiently handle potentially large input ranges with clever use of data structures. This approach not only addresses the immediate problem but also provides foundational knowledge applicable to a variety of algorithmic challenges in competitive programming and software development.</p>
<p><a href="https://leetcode.com/problems/sort-integers-by-the-power-value/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
