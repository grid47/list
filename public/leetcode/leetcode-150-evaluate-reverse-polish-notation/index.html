<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 150: Evaluate Reverse Polish Notation | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 150: Evaluate Reverse Polish Notation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 150: Evaluate Reverse Polish Notation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-150-evaluate-reverse-polish-notation/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 150: Evaluate Reverse Polish Notation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 150: Evaluate Reverse Polish Notation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-10-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 150: Evaluate Reverse Polish Notation</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode248s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/150.webp" 
           alt="A glowing stack of numbers, gently unfolding and calculating the final result step-by-step." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 150: Evaluate Reverse Polish Notation Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode248s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> evalRPN(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> tokens) {
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> tokens.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;+&#34;</span> <span style="color:#666">&amp;&amp;</span>
</span></span><span style="display:flex;"><span>               tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;-&#34;</span> <span style="color:#666">&amp;&amp;</span>
</span></span><span style="display:flex;"><span>               tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;*&#34;</span> <span style="color:#666">&amp;&amp;</span>
</span></span><span style="display:flex;"><span>               tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;/&#34;</span>) {
</span></span><span style="display:flex;"><span>                stk.push(stoi(tokens[i]));
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> stk.top(); stk.pop();
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> y <span style="color:#666">=</span> stk.top(); stk.pop();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;*&#34;</span>){ stk.push(y <span style="color:#666">*</span> x); }
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;/&#34;</span>){ stk.push(y <span style="color:#666">/</span> x); }
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;+&#34;</span>){ stk.push(y <span style="color:#666">+</span> x); }
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;-&#34;</span>){ stk.push(y <span style="color:#666">-</span> x); }
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> stk.top();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-problem-understanding-reverse-polish-notation-rpn-evaluation">üìù <strong>Problem Understanding: Reverse Polish Notation (RPN) Evaluation</strong></h3>
<p>In <strong>Reverse Polish Notation (RPN)</strong>, every operator follows its operands, and there is no need for parentheses to dictate the order of operations. We are given an expression in RPN, and the task is to evaluate and return the result.</p>
<h4 id="example"><strong>Example</strong>:</h4>
<ul>
<li>Expression: <code>[&quot;2&quot;, &quot;1&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;]</code></li>
<li>Evaluation: <code>(2 + 1) * 3 = 9</code></li>
</ul>
<h4 id="operators-----"><strong>Operators</strong>: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code></h4>
<h4 id="operands-integers"><strong>Operands</strong>: Integers</h4>
<hr>
<h3 id="-approach-using-a-stack">üîß <strong>Approach: Using a Stack</strong></h3>
<p>To solve the problem efficiently, we will use a <strong>stack</strong> data structure:</p>
<ol>
<li><strong>Push numbers</strong> onto the stack.</li>
<li><strong>When encountering an operator</strong> (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>), pop the top two operands from the stack, apply the operator, and push the result back onto the stack.</li>
<li>After processing all tokens, the final result will be the only element left in the stack.</li>
</ol>
<p>This approach guarantees an efficient evaluation of the expression in <strong>O(n)</strong> time complexity, where <code>n</code> is the number of tokens.</p>
<hr>
<h3 id="-code-breakdown-step-by-step">üßë‚Äçüíª <strong>Code Breakdown: Step by Step</strong></h3>
<h4 id="step-1-initialize-the-stack-and-iterate-over-tokens"><strong>Step 1: Initialize the Stack and Iterate Over Tokens</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> tokens.size();
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We initialize an empty stack <code>stk</code> to store the operands.</li>
<li>We iterate through each token in the given <code>tokens</code> list.</li>
</ul>
<h4 id="step-2-process-each-token"><strong>Step 2: Process Each Token</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;+&#34;</span> <span style="color:#666">&amp;&amp;</span> tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;-&#34;</span> <span style="color:#666">&amp;&amp;</span> tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;*&#34;</span> <span style="color:#666">&amp;&amp;</span> tokens[i] <span style="color:#666">!=</span> <span style="color:#b44">&#34;/&#34;</span>) {
</span></span><span style="display:flex;"><span>    stk.push(stoi(tokens[i]));
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the token is a number (i.e., not an operator), we convert the string to an integer using <code>stoi(tokens[i])</code> and push it onto the stack.</li>
<li>If the token is an operator, we perform the corresponding operation (explained below).</li>
</ul>
<h4 id="step-3-handle-operators"><strong>Step 3: Handle Operators</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> stk.top(); stk.pop();
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> y <span style="color:#666">=</span> stk.top(); stk.pop();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;*&#34;</span>) { stk.push(y <span style="color:#666">*</span> x); }
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;/&#34;</span>) { stk.push(y <span style="color:#666">/</span> x); }
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;+&#34;</span>) { stk.push(y <span style="color:#666">+</span> x); }
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (tokens[i] <span style="color:#666">==</span> <span style="color:#b44">&#34;-&#34;</span>) { stk.push(y <span style="color:#666">-</span> x); }
</span></span></code></pre></div><p>When an operator is encountered:</p>
<ul>
<li>We pop the top two values from the stack. The first popped value <code>x</code> corresponds to the second operand, and <code>y</code> corresponds to the first operand.</li>
<li>Depending on the operator:
<ul>
<li><strong>Multiplication (<code>*</code>)</strong>: We calculate <code>y * x</code>.</li>
<li><strong>Division (<code>/</code>)</strong>: We calculate integer division <code>y / x</code> (truncating toward zero).</li>
<li><strong>Addition (<code>+</code>)</strong>: We calculate <code>y + x</code>.</li>
<li><strong>Subtraction (<code>-</code>)</strong>: We calculate <code>y - x</code>.</li>
</ul>
</li>
<li>After each operation, the result is pushed back onto the stack.</li>
</ul>
<h4 id="step-4-return-the-final-result"><strong>Step 4: Return the Final Result</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> stk.top();
</span></span></code></pre></div><p>After processing all tokens, the stack will contain one element, which is the final result of the RPN expression. We return this element.</p>
<hr>
<h3 id="-time-and-space-complexity">üìä <strong>Time and Space Complexity</strong></h3>
<h4 id="time-complexity"><strong>Time Complexity</strong>:</h4>
<ul>
<li><strong>O(n)</strong> where <code>n</code> is the number of tokens.
<ul>
<li>We process each token exactly once, either by pushing it onto the stack (if it&rsquo;s a number) or performing an operation (if it&rsquo;s an operator). Each stack operation (push and pop) takes constant time, so the overall time complexity is linear in the number of tokens.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity"><strong>Space Complexity</strong>:</h4>
<ul>
<li><strong>O(n)</strong> where <code>n</code> is the number of tokens.
<ul>
<li>In the worst case, the stack could hold all the operands before any operators are processed, requiring space proportional to the number of tokens.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-conclusion">üéØ <strong>Conclusion</strong></h3>
<p>This solution efficiently evaluates an expression in Reverse Polish Notation (RPN) using a stack. By processing the tokens in a single pass, we achieve a time complexity of <strong>O(n)</strong> and a space complexity of <strong>O(n)</strong>. The stack-based approach accurately models the evaluation of postfix expressions, where operands are pushed onto the stack and operators are applied to the most recently encountered operands.</p>
<p>This method is both time and space-efficient, making it suitable for evaluating complex RPN expressions quickly.</p>
<h3 id="-edge-cases-considered">üîç <strong>Edge Cases Considered</strong></h3>
<ul>
<li>Correct handling of integer division (truncating towards zero).</li>
<li>Efficient processing of large inputs.</li>
</ul>
<p>This approach is optimal and robust, providing a clear solution to evaluating Reverse Polish Notation expressions.</p>
<p><a href="https://leetcode.com/problems/evaluate-reverse-polish-notation/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ffgmKxRqiMc?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
