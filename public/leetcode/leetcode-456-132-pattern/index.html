<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 456: 132 Pattern | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 456: 132 Pattern">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 456: 132 Pattern in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-456-132-pattern/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 456: 132 Pattern">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 456: 132 Pattern in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Stack">
    <meta property="article:tag" content="Monotonic Stack">
    <meta property="article:tag" content="Ordered Set">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 456: 132 Pattern</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1149s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/456.webp" 
           alt="A sequence of numbers where the 132 pattern lights up, showing the correct order and placement of elements." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 456: 132 Pattern Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1149s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> find132pattern(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> prv <span style="color:#666">=</span> INT_MIN;
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (nums[i] <span style="color:#666">&lt;</span> prv) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>stk.empty() <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">&gt;</span> stk.top()) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                prv <span style="color:#666">=</span> stk.top();
</span></span><span style="display:flex;"><span>                stk.pop();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            stk.push(nums[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to determine if a given list of integers contains a <strong>132 pattern</strong>. A <strong>132 pattern</strong> is defined as a subsequence <code>i</code>, <code>j</code>, <code>k</code> where:</p>
<ul>
<li><code>i &lt; j &lt; k</code></li>
<li><code>nums[i] &lt; nums[k] &lt; nums[j]</code></li>
</ul>
<p>In other words, the sequence must consist of three integers where the first is smaller than the third, and the third is smaller than the second. The goal is to return <code>true</code> if such a pattern exists in the array, otherwise return <code>false</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we need to leverage a <strong>monotonic stack</strong> combined with a backward traversal of the input array. The main idea is to track potential 132 patterns as we iterate through the array from right to left, updating potential candidates for the middle (<code>2</code>) and largest (<code>3</code>) values.</p>
<h3 id="key-observations">Key Observations</h3>
<ol>
<li><strong>The Stack</strong>: The stack will help us maintain potential candidates for the <code>3</code> value in the 132 pattern, i.e., the middle element (<code>nums[j]</code>) and the largest element (<code>nums[k]</code>).</li>
<li><strong>The <code>prv</code> Variable</strong>: This variable is used to store the largest value that can serve as the <code>2</code> in the 132 pattern. It is updated as we process each element from right to left.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-variables">Step 1: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> prv <span style="color:#666">=</span> INT_MIN;
</span></span><span style="display:flex;"><span>stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> stk;
</span></span></code></pre></div><ul>
<li><code>n</code>: This stores the size of the <code>nums</code> array.</li>
<li><code>prv</code>: This is initialized to <code>INT_MIN</code>, and it will be used to store the largest potential <code>2</code> value that can form part of a 132 pattern.</li>
<li><code>stk</code>: This is a stack that will help us track potential candidates for the <code>3</code> value (the largest number in the pattern).</li>
</ul>
<h4 id="step-2-iterate-through-the-array-in-reverse">Step 2: Iterate through the Array in Reverse</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (nums[i] <span style="color:#666">&lt;</span> prv) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>stk.empty() <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">&gt;</span> stk.top()) {
</span></span><span style="display:flex;"><span>        prv <span style="color:#666">=</span> stk.top();
</span></span><span style="display:flex;"><span>        stk.pop();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    stk.push(nums[i]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We start iterating over the array <code>nums</code> from the last element to the first (i.e., in reverse order). The idea is that for each element, we will try to find a potential 132 pattern by looking for the smallest (<code>i</code>), middle (<code>j</code>), and largest (<code>k</code>) values.</li>
<li>The first <code>if</code> condition checks if <code>nums[i]</code> is less than the value stored in <code>prv</code>. If true, it means we&rsquo;ve found a 132 pattern where <code>nums[i]</code> can be the <code>1</code>, <code>prv</code> is the <code>2</code>, and the current element in the stack is the <code>3</code>. Therefore, we immediately return <code>true</code>.</li>
<li>The <code>while</code> loop checks whether <code>nums[i]</code> is greater than the top of the stack. If so, it means we can pop the stack and update <code>prv</code> to the new value on top of the stack. This process ensures that <code>prv</code> always holds the largest number that can serve as the <code>2</code> in a 132 pattern.</li>
<li>Finally, after processing the current element, we push <code>nums[i]</code> onto the stack, as it could potentially serve as the <code>3</code> in a 132 pattern for future elements.</li>
</ul>
<h4 id="step-3-return-false-if-no-pattern-is-found">Step 3: Return False if No Pattern is Found</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span></code></pre></div><ul>
<li>If no valid 132 pattern is found during the entire iteration, we return <code>false</code>, indicating that no such subsequence exists in the array.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Iteration</strong>: The algorithm iterates through the array once, and for each element, we perform a constant amount of work (either pushing or popping elements from the stack). This means the time complexity is <code>O(n)</code>, where <code>n</code> is the length of the input array <code>nums</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Stack</strong>: The stack stores at most <code>n</code> elements, where <code>n</code> is the number of elements in the array. Therefore, the space complexity is <code>O(n)</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently detects the presence of a 132 pattern in the array using a monotonic stack and backward traversal. The key idea is to maintain a stack of potential candidates for the largest number in the pattern and use a variable <code>prv</code> to track the middle value. The algorithm operates in linear time and requires linear space, making it optimal for this problem.</p>
<p><a href="https://leetcode.com/problems/132-pattern/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/TfgWauHLuRE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
