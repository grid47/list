<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2210: Count Hills and Valleys in an Array | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2210: Count Hills and Valleys in an Array">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2210: Count Hills and Valleys in an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2210-count-hills-and-valleys-in-an-array/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2210: Count Hills and Valleys in an Array">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2210: Count Hills and Valleys in an Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-31T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2210: Count Hills and Valleys in an Array</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode622s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countHillValley(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>      <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>, i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#a2f;font-weight:bold">if</span> ((nums[j] <span style="color:#666">&lt;</span> nums[i] <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">&gt;</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>]) <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>              (nums[j] <span style="color:#666">&gt;</span> nums[i] <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">&lt;</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>])) {
</span></span><span style="display:flex;"><span>                res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                j <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>              }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to count the number of &ldquo;hill&rdquo; and &ldquo;valley&rdquo; elements in the array <code>nums</code>. A <em>hill</em> is defined as an element that is greater than both its adjacent elements, while a <em>valley</em> is an element that is smaller than both its adjacent elements. The challenge here is to count these hills and valleys efficiently.</p>
<p>However, there are a few optimizations to consider:</p>
<ul>
<li>Consecutive elements that are the same should be removed before counting.</li>
<li>We need to traverse the array and count hills and valleys while ignoring consecutive duplicates.</li>
</ul>
<h3 id="approach">Approach</h3>
<p>The solution can be efficiently implemented using a <strong>single pass</strong> through the array with the help of a pointer (<code>j</code>) that skips over consecutive duplicate elements. The approach ensures that we:</p>
<ol>
<li>Skip duplicate elements that would otherwise be counted as hills or valleys.</li>
<li>Check each element in the array (except the first and last elements) to determine whether it qualifies as a hill or valley.</li>
<li>Count the hills and valleys as we go through the array.</li>
</ol>
<p>The strategy is:</p>
<ol>
<li>Start by iterating through the array, checking each element and its neighbors.</li>
<li>Skip consecutive duplicate elements to ensure they don&rsquo;t affect the count.</li>
<li>For each element, check if it forms a hill or valley by comparing it with its adjacent elements.</li>
<li>Return the count of hills and valleys.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Initialization:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>res</code> is initialized to 0, which will hold the count of hills and valleys.</li>
</ul>
</li>
<li>
<p><strong>Iterating through the Array:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>, i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> nums.size() <span style="color:#666">-</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>)
</span></span></code></pre></div><ul>
<li>The loop starts with <code>j</code> pointing to the first element and <code>i</code> pointing to the second element.</li>
<li>The loop will continue until <code>i</code> reaches the second-to-last element (<code>nums.size() - 1</code>), since the first and last elements can&rsquo;t be hills or valleys due to their lack of both neighbors.</li>
</ul>
</li>
<li>
<p><strong>Skipping Duplicates:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> ((nums[j] <span style="color:#666">&lt;</span> nums[i] <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">&gt;</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>]) <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>    (nums[j] <span style="color:#666">&gt;</span> nums[i] <span style="color:#666">&amp;&amp;</span> nums[i] <span style="color:#666">&lt;</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>])) {
</span></span></code></pre></div><ul>
<li>This condition checks if the current element (<code>nums[i]</code>) is either a hill or a valley.</li>
<li>If <code>nums[i]</code> is greater than both its neighbors (<code>nums[j]</code> and <code>nums[i + 1]</code>), it forms a hill. Similarly, if <code>nums[i]</code> is smaller than both its neighbors, it forms a valley.</li>
<li>The condition is written to ensure that we only count the element as a hill or valley when its adjacent elements are not equal, effectively skipping over duplicate numbers.</li>
</ul>
</li>
<li>
<p><strong>Updating the Count:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>j <span style="color:#666">=</span> i;
</span></span></code></pre></div><ul>
<li>If a hill or valley is found, increment <code>res</code> and update <code>j</code> to point to the current element (<code>i</code>).</li>
<li>This ensures that we skip over consecutive duplicates and only check for hills and valleys after unique elements.</li>
</ul>
</li>
<li>
<p><strong>Returning the Result:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After completing the iteration, the function returns <code>res</code>, the total count of hills and valleys in the array.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>:
<ul>
<li>The algorithm runs in O(n) time where <code>n</code> is the number of elements in the input array <code>nums</code>. This is because we only iterate through the array once and perform constant-time checks for each element.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(1)</strong>:
<ul>
<li>The space complexity is O(1) because we are using only a few additional variables (<code>res</code>, <code>j</code>, and <code>i</code>), and no additional space is used that grows with the input size.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently counts the number of hills and valleys in the input array <code>nums</code> with a single pass. It avoids counting consecutive duplicates and ensures that only elements that form valid hills or valleys are counted. The use of a single iteration through the array ensures optimal time complexity of O(n), making this solution suitable for large input sizes. Additionally, the space complexity is O(1), meaning the solution uses constant space regardless of the input size, which makes it both time and space efficient.</p>
<p><a href="https://leetcode.com/problems/count-hills-and-valleys-in-an-array/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/I9ZXvpleMDk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
