<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 705: Design HashSet | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 705: Design HashSet">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 705: Design HashSet in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/solution-705-design-hashset/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 705: Design HashSet">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 705: Design HashSet in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Linked List">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Hash Function">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.a3d5489836b19de22a81ddc6bd21c17547d07529e67b266427378a04fa3ea727.css" integrity="sha256-o9VImDaxneIqgd3GvSHBdUfQdSnmeyZkJzeKBPo&#43;pyc=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="mainheading">
    <h1 class="sitetitle">grid47</h1>
    <p class="lead">
         Mohammed Yasir Eramangadan&#39;s Blog
    </p>
</div><div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%20705%3a%20Design%20HashSet&url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-705-design-hashset%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
        <i class="fab fa-twitter"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-705-design-hashset%2f" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
        <i class="fab fa-facebook-f"></i>
        </a>
        </li>

        <li class="ml-1 mr-1">
        <a target="_blank" href="https://www.xing.com/spi/shares/new?url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-705-design-hashset%2f" onclick="window.open(this.href, 'xing-share', 'width=550,height=435');return false;">
        <i class="fab fa-xing"></i>
        </a>
        </li>        
    </ul>

    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        	
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Aug 28, 2024
                                    <i class="far fa-clock clock"></i>
                                    7 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                
                        
                        <h1 class="posttitle">Leetcode 705: Design HashSet</h1> 
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <h2 id="hahahugoshortcode1263s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:8px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/705.webp" 
           alt="A set of elements where the hashset design is highlighted, with each element glowing softly in its unique location." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 705: Design HashSet Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1263s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">// class ListNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     public:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     ListNode* next;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     ListNode(int val, ListNode* nxt) {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//         this-&gt;val = val
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//         this-&gt;next = nxt;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     }
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">// };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">MyHashSet</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> sz <span style="color:#666">=</span> <span style="color:#666">10000</span>;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>ListNode<span style="color:#666">*&gt;</span> lst;
</span></span><span style="display:flex;"><span>    MyHashSet() {
</span></span><span style="display:flex;"><span>        lst.resize(sz, <span style="color:#a2f">NULL</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">add</span>(<span style="color:#0b0;font-weight:bold">int</span> key) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> key<span style="color:#666">%</span>sz;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(lst[num] <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) {
</span></span><span style="display:flex;"><span>            lst[num] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(key, <span style="color:#a2f">NULL</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ListNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> lst[num], <span style="color:#666">*</span>prv <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(cur) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(cur<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>            prv <span style="color:#666">=</span> cur;
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        prv<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(key, <span style="color:#a2f">NULL</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">remove</span>(<span style="color:#0b0;font-weight:bold">int</span> key) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> key<span style="color:#666">%</span>sz;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(lst[num] <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(lst[num]<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> lst[num];
</span></span><span style="display:flex;"><span>            lst[num] <span style="color:#666">=</span> lst[num]<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            it<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ListNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> lst[num]<span style="color:#666">-&gt;</span>next, <span style="color:#666">*</span>prv <span style="color:#666">=</span> lst[num];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(cur) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(cur<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) {
</span></span><span style="display:flex;"><span>                prv<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>                cur<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            prv <span style="color:#666">=</span> cur;
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">contains</span>(<span style="color:#0b0;font-weight:bold">int</span> key) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> key<span style="color:#666">%</span>sz;
</span></span><span style="display:flex;"><span>        ListNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> lst[num];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(cur) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(cur<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your MyHashSet object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * MyHashSet* obj = new MyHashSet();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;add(key);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;remove(key);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * bool param_3 = obj-&gt;contains(key);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The task is to design a data structure called <code>MyHashSet</code> that supports three operations: <code>add(key)</code>, <code>remove(key)</code>, and <code>contains(key)</code> for a given integer key. The goal is to efficiently perform these operations in constant time, on average. The <code>MyHashSet</code> class should be capable of storing unique keys and allow for fast insertion, deletion, and look-up.</p>
<h3 id="approach">Approach:</h3>
<p>The optimal solution for implementing a hash set involves using a <strong>hashing</strong> technique. Hashing allows us to map keys to indices of an array (or list), so we can perform constant-time operations, on average, for <code>add</code>, <code>remove</code>, and <code>contains</code>.</p>
<p>To achieve this:</p>
<ol>
<li>We use an array of size <code>sz</code> (10,000 in this case) to store linked lists.</li>
<li>Each index of the array corresponds to a hash bucket where the keys are stored.</li>
<li><strong>Hash Function</strong>: The index of the bucket is determined by the hash of the key (<code>key % sz</code>). This ensures that the keys are uniformly distributed across the array.</li>
<li><strong>Chaining</strong>: Since multiple keys may map to the same bucket (collision), we use a <strong>linked list</strong> to store all elements that hash to the same index. If a key is already present in the linked list, we avoid adding it again.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="step-1-define-the-listnode-class">Step 1: Define the ListNode Class</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">// class ListNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     public:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     ListNode* next;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     ListNode(int val, ListNode* nxt) {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//         this-&gt;val = val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//         this-&gt;next = nxt;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     }
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">// };
</span></span></span></code></pre></div><ul>
<li>The <code>ListNode</code> class represents an individual node in the linked list. Each node stores an integer <code>val</code> and a pointer <code>next</code> to the next node in the list. This class is used for <strong>chaining</strong> in case of hash collisions.</li>
</ul>
<h4 id="step-2-define-the-myhashset-class">Step 2: Define the <code>MyHashSet</code> Class</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">MyHashSet</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> sz <span style="color:#666">=</span> <span style="color:#666">10000</span>;  <span style="color:#080;font-style:italic">// Size of the hash table
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    vector<span style="color:#666">&lt;</span>ListNode<span style="color:#666">*&gt;</span> lst;  <span style="color:#080;font-style:italic">// Array of ListNode pointers (buckets)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    
</span></span><span style="display:flex;"><span>    MyHashSet() {
</span></span><span style="display:flex;"><span>        lst.resize(sz, <span style="color:#a2f">NULL</span>);  <span style="color:#080;font-style:italic">// Initialize the hash set with NULL pointers
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span></code></pre></div><ul>
<li><code>sz</code> is the size of the hash table (set to 10,000 to ensure an adequate number of buckets).</li>
<li><code>lst</code> is a vector that stores the linked list heads (buckets) for each hash bucket.</li>
<li>The constructor initializes the vector <code>lst</code> to have <code>sz</code> elements, all set to <code>NULL</code>.</li>
</ul>
<h4 id="step-3-implement-the-add-function">Step 3: Implement the <code>add</code> Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">add</span>(<span style="color:#0b0;font-weight:bold">int</span> key) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> key <span style="color:#666">%</span> sz;  <span style="color:#080;font-style:italic">// Hash the key to find the bucket index
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">if</span>(lst[num] <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) {
</span></span><span style="display:flex;"><span>        lst[num] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(key, <span style="color:#a2f">NULL</span>);  <span style="color:#080;font-style:italic">// Create a new ListNode if bucket is empty
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ListNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> lst[num], <span style="color:#666">*</span>prv <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(cur) {  <span style="color:#080;font-style:italic">// Traverse the linked list to check if the key already exists
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">if</span>(cur<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) <span style="color:#a2f;font-weight:bold">return</span>;  <span style="color:#080;font-style:italic">// Key is already in the set, no need to add it
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        prv <span style="color:#666">=</span> cur;
</span></span><span style="display:flex;"><span>        cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    prv<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(key, <span style="color:#a2f">NULL</span>);  <span style="color:#080;font-style:italic">// Add the key at the end of the linked list
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li><strong>Hashing</strong>: We first hash the key using <code>key % sz</code> to determine the bucket index.</li>
<li><strong>Empty Bucket</strong>: If the bucket is empty (<code>lst[num] == NULL</code>), a new <code>ListNode</code> is created with the key.</li>
<li><strong>Check for Duplicates</strong>: If the bucket is not empty, we traverse the linked list to check if the key already exists. If the key is found, we return without adding it.</li>
<li><strong>Add the Key</strong>: If the key is not found in the linked list, we add a new node containing the key at the end of the list.</li>
</ul>
<h4 id="step-4-implement-the-remove-function">Step 4: Implement the <code>remove</code> Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">remove</span>(<span style="color:#0b0;font-weight:bold">int</span> key) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> key <span style="color:#666">%</span> sz;  <span style="color:#080;font-style:italic">// Hash the key to find the bucket index
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">if</span>(lst[num] <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span>;  <span style="color:#080;font-style:italic">// Key is not in the set, no need to remove anything
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(lst[num]<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) {  <span style="color:#080;font-style:italic">// Special case for the first element in the linked list
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> lst[num];
</span></span><span style="display:flex;"><span>        lst[num] <span style="color:#666">=</span> lst[num]<span style="color:#666">-&gt;</span>next;  <span style="color:#080;font-style:italic">// Remove the first node
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        it<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ListNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> lst[num]<span style="color:#666">-&gt;</span>next, <span style="color:#666">*</span>prv <span style="color:#666">=</span> lst[num];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(cur) {  <span style="color:#080;font-style:italic">// Traverse the linked list to find and remove the key
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">if</span>(cur<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) {
</span></span><span style="display:flex;"><span>            prv<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;  <span style="color:#080;font-style:italic">// Remove the node by updating the previous node&#39;s next pointer
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            cur<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        prv <span style="color:#666">=</span> cur;
</span></span><span style="display:flex;"><span>        cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Hashing</strong>: We hash the key to find the correct bucket.</li>
<li><strong>Empty Bucket</strong>: If the bucket is empty (<code>lst[num] == NULL</code>), the key is not in the set, and no action is taken.</li>
<li><strong>Special Case for Head Node</strong>: If the first node in the bucket contains the key, we remove it by updating the bucket head (<code>lst[num]</code>).</li>
<li><strong>Traverse and Remove</strong>: If the key is found in the linked list, we update the previous node’s <code>next</code> pointer to skip the node with the key, effectively removing it from the list.</li>
</ul>
<h4 id="step-5-implement-the-contains-function">Step 5: Implement the <code>contains</code> Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">contains</span>(<span style="color:#0b0;font-weight:bold">int</span> key) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> num <span style="color:#666">=</span> key <span style="color:#666">%</span> sz;  <span style="color:#080;font-style:italic">// Hash the key to find the bucket index
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    ListNode<span style="color:#666">*</span> cur <span style="color:#666">=</span> lst[num];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span>(cur) {  <span style="color:#080;font-style:italic">// Traverse the linked list to check if the key exists
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">if</span>(cur<span style="color:#666">-&gt;</span>val <span style="color:#666">==</span> key) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;  <span style="color:#080;font-style:italic">// The key is found in the set
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        cur <span style="color:#666">=</span> cur<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;  <span style="color:#080;font-style:italic">// The key is not found in the set
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li><strong>Hashing</strong>: We hash the key to find the correct bucket.</li>
<li><strong>Traverse</strong>: We traverse the linked list at the corresponding bucket and check if the key is present.</li>
<li><strong>Return</strong>: If the key is found, return <code>true</code>. Otherwise, return <code>false</code>.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>
<p><strong>Add Operation (<code>add(key)</code>)</strong>:</p>
<ul>
<li>On average, the time complexity is <strong>O(1)</strong>, because the key is distributed uniformly across buckets, and the linked list at each bucket is expected to be small.</li>
<li>In the worst case, if all keys hash to the same bucket (very rare), the time complexity could become <strong>O(n)</strong>, where <code>n</code> is the number of elements in the hash set.</li>
</ul>
</li>
<li>
<p><strong>Remove Operation (<code>remove(key)</code>)</strong>:</p>
<ul>
<li>Similar to the <code>add</code> operation, the time complexity is <strong>O(1)</strong> on average.</li>
<li>In the worst case, if there are many collisions and a long linked list, the time complexity could become <strong>O(n)</strong>.</li>
</ul>
</li>
<li>
<p><strong>Contains Operation (<code>contains(key)</code>)</strong>:</p>
<ul>
<li>The time complexity is <strong>O(1)</strong> on average for the same reasons as the <code>add</code> and <code>remove</code> operations.</li>
<li>In the worst case, it could become <strong>O(n)</strong> if there are long chains in a single bucket.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: The space complexity is <strong>O(n)</strong>, where <code>n</code> is the number of elements in the set, because each element is stored in a linked list.</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>This implementation of <code>MyHashSet</code> efficiently handles insertion, removal, and lookup operations using a hash table and linked list chaining for collision resolution. The expected time complexity for all operations is <strong>O(1)</strong> on average, making it highly efficient for dynamic sets where elements can be added and removed frequently. The space complexity is <strong>O(n)</strong>, where <code>n</code> is the number of elements in the set, due to the storage of the linked lists. This solution is optimal for managing large sets of unique keys with minimal overhead, and it performs well even as the size of the set grows.</p>
<p><a href="https://leetcode.com/problems/design-hashset/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/VymjPQUXjL8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/array">Array</a>
                        </li>
                        
                        <li>
                        <a href="/tags/hash-table">Hash Table</a>
                        </li>
                        
                        <li>
                        <a href="/tags/linked-list">Linked List</a>
                        </li>
                        
                        <li>
                        <a href="/tags/design">Design</a>
                        </li>
                        
                        <li>
                        <a href="/tags/hash-function">Hash Function</a>
                        </li>
                        
                        </ul>
                    </div>
                    
                    
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="http://localhost:1313/leetcode/solution-704-binary-search/"> &laquo; Leetcode 704: Binary Search</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="http://localhost:1313/leetcode/solution-707-design-linked-list/">Leetcode 707: Design Linked List &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>
        
        
    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/database">database</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" rel="noopener" href="https://www.wowthemes.net">Mediumish Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
