<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 617: Merge Two Binary Trees | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 617: Merge Two Binary Trees">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 617: Merge Two Binary Trees in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-617-merge-two-binary-trees/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 617: Merge Two Binary Trees">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 617: Merge Two Binary Trees in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-06T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Breadth-First Search">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 617: Merge Two Binary Trees</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1217s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/617.webp" 
           alt="Two binary trees merging together, with each node softly glowing as they combine." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 617: Merge Two Binary Trees Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1217s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> mergeTrees(TreeNode<span style="color:#666">*</span> r1, TreeNode<span style="color:#666">*</span> r2) {
</span></span><span style="display:flex;"><span>        TreeNode<span style="color:#666">*</span> ans <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(r1 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> r2 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(r1 <span style="color:#666">!=</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> r2 <span style="color:#666">!=</span> <span style="color:#a2f">NULL</span>)
</span></span><span style="display:flex;"><span>            ans<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> r1<span style="color:#666">-&gt;</span>val <span style="color:#666">+</span> r2<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(r1 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>)
</span></span><span style="display:flex;"><span>            ans<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> r2<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            ans<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> r1<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        ans<span style="color:#666">-&gt;</span>left <span style="color:#666">=</span> mergeTrees(r1<span style="color:#666">?</span>r1<span style="color:#666">-&gt;</span><span style="color:#a0a000">left</span>:<span style="color:#a2f">NULL</span>, r2<span style="color:#666">?</span>r2<span style="color:#666">-&gt;</span><span style="color:#a0a000">left</span>:<span style="color:#a2f">NULL</span>);
</span></span><span style="display:flex;"><span>        ans<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> mergeTrees(r1<span style="color:#666">?</span>r1<span style="color:#666">-&gt;</span><span style="color:#a0a000">right</span>:<span style="color:#a2f">NULL</span>, r2<span style="color:#666">?</span>r2<span style="color:#666">-&gt;</span><span style="color:#a0a000">right</span>:<span style="color:#a2f">NULL</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given two binary trees, we are tasked with merging them into a new binary tree. The merging process is defined as follows:</p>
<ul>
<li>If two nodes overlap, we sum their values and create a new node with this sum.</li>
<li>If one of the trees has a node and the other does not, we keep the existing node&rsquo;s value.</li>
<li>If both trees have a <code>NULL</code> node at the same position, the merged tree will also have a <code>NULL</code> node at that position.</li>
</ul>
<p>The goal is to return the merged tree as a new binary tree.</p>
<h3 id="approach">Approach</h3>
<p>The problem can be solved using a <strong>recursive approach</strong>. At each step of recursion, we merge two nodes:</p>
<ol>
<li><strong>Base Case:</strong> If both nodes are <code>NULL</code>, return <code>NULL</code> because there&rsquo;s nothing to merge.</li>
<li><strong>If both nodes exist:</strong> We sum the values of the two nodes and create a new node with this value.</li>
<li><strong>If one of the nodes is <code>NULL</code>:</strong> If one tree has a node and the other tree does not, we take the node from the tree that has it.</li>
<li><strong>Recursively merge left and right children:</strong> After processing the current nodes, we proceed to merge the left children and right children recursively.</li>
</ol>
<p>This recursive approach ensures that all nodes from both trees are merged appropriately.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-the-result-node">Step 1: Initialize the Result Node</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>TreeNode<span style="color:#666">*</span> ans <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(<span style="color:#666">0</span>);
</span></span></code></pre></div><ul>
<li>We create a new <code>TreeNode</code> object, <code>ans</code>, which will hold the merged value at the current level. Initially, the value is set to <code>0</code> because it will be updated later based on the current merge condition.</li>
</ul>
<h4 id="step-2-base-case--both-nodes-are-null">Step 2: Base Case – Both Nodes are <code>NULL</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(r1 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> r2 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">NULL</span>;
</span></span></code></pre></div><ul>
<li>This is the base case where both input nodes (<code>r1</code> and <code>r2</code>) are <code>NULL</code>. In this case, there is nothing to merge, so we return <code>NULL</code>.</li>
</ul>
<h4 id="step-3-merging-the-nodes-when-both-exist">Step 3: Merging the Nodes When Both Exist</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(r1 <span style="color:#666">!=</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> r2 <span style="color:#666">!=</span> <span style="color:#a2f">NULL</span>)
</span></span><span style="display:flex;"><span>    ans<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> r1<span style="color:#666">-&gt;</span>val <span style="color:#666">+</span> r2<span style="color:#666">-&gt;</span>val;
</span></span></code></pre></div><ul>
<li>If both <code>r1</code> and <code>r2</code> are non-<code>NULL</code>, we add their values and assign the sum to the <code>ans</code> node&rsquo;s <code>val</code> field.</li>
</ul>
<h4 id="step-4-handling-missing-nodes">Step 4: Handling Missing Nodes</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(r1 <span style="color:#666">==</span> <span style="color:#a2f">NULL</span>)
</span></span><span style="display:flex;"><span>    ans<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> r2<span style="color:#666">-&gt;</span>val;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>    ans<span style="color:#666">-&gt;</span>val <span style="color:#666">=</span> r1<span style="color:#666">-&gt;</span>val;
</span></span></code></pre></div><ul>
<li>If only one of <code>r1</code> or <code>r2</code> is <code>NULL</code>, we assign the value of the non-<code>NULL</code> node to the <code>ans</code> node. This ensures that the merged tree keeps the value from the tree that has the node.</li>
</ul>
<h4 id="step-5-recursively-merge-left-subtrees">Step 5: Recursively Merge Left Subtrees</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ans<span style="color:#666">-&gt;</span>left <span style="color:#666">=</span> mergeTrees(r1 <span style="color:#666">?</span> r1<span style="color:#666">-&gt;</span><span style="color:#a0a000">left</span> : <span style="color:#a2f">NULL</span>, r2 <span style="color:#666">?</span> r2<span style="color:#666">-&gt;</span><span style="color:#a0a000">left</span> : <span style="color:#a2f">NULL</span>);
</span></span></code></pre></div><ul>
<li>After handling the current node, we recursively merge the left children of <code>r1</code> and <code>r2</code>. If either <code>r1</code> or <code>r2</code> is <code>NULL</code>, we pass <code>NULL</code> for the corresponding left child.</li>
</ul>
<h4 id="step-6-recursively-merge-right-subtrees">Step 6: Recursively Merge Right Subtrees</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ans<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> mergeTrees(r1 <span style="color:#666">?</span> r1<span style="color:#666">-&gt;</span><span style="color:#a0a000">right</span> : <span style="color:#a2f">NULL</span>, r2 <span style="color:#666">?</span> r2<span style="color:#666">-&gt;</span><span style="color:#a0a000">right</span> : <span style="color:#a2f">NULL</span>);
</span></span></code></pre></div><ul>
<li>Similarly, we recursively merge the right children of <code>r1</code> and <code>r2</code>. The same logic applies: if one of the trees is missing the right child, we pass <code>NULL</code>.</li>
</ul>
<h4 id="step-7-return-the-merged-tree">Step 7: Return the Merged Tree</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>After processing the current nodes and their left and right subtrees, we return the <code>ans</code> node, which contains the merged value and the references to its merged left and right children.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity of this solution is <strong>O(n)</strong>, where <code>n</code> is the number of nodes in the larger tree. The reason is that we visit each node in the trees exactly once during the recursion. Each recursive call processes one node, so the overall complexity is linear in terms of the total number of nodes across both trees.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(h)</strong>, where <code>h</code> is the height of the tree. This is due to the recursion stack used to store the function calls during the merging process. In the worst case, where the tree is unbalanced (e.g., a linked list), the recursion depth would be equal to the number of nodes, and thus the space complexity will be <strong>O(n)</strong>. In the best case, where the tree is balanced, the recursion depth will be <strong>O(log n)</strong>, and the space complexity will be <strong>O(log n)</strong>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution successfully merges two binary trees by combining their nodes. The recursive approach is simple yet efficient, ensuring that each node is processed only once. The approach handles all possible cases:</p>
<ol>
<li>If both nodes exist, their values are summed and stored.</li>
<li>If only one node exists, the value from that node is kept.</li>
<li>If both nodes are <code>NULL</code>, the merged node is also <code>NULL</code>.</li>
</ol>
<p>The time complexity of <strong>O(n)</strong> makes this approach suitable for large binary trees, while the space complexity of <strong>O(h)</strong> ensures that it remains manageable even for deep trees. By summing overlapping nodes and recursively merging the subtrees, the solution creates a merged tree that is both correct and efficient.</p>
<p>This approach works efficiently in real-world scenarios where trees may vary in size and structure, and it provides an optimal solution to the problem of merging binary trees.</p>
<p><a href="https://leetcode.com/problems/merge-two-binary-trees/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/NtHOsOl8zvQ?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
