<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2962: Count Subarrays Where Max Element Appears at Least K Times | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2962: Count Subarrays Where Max Element Appears at Least K Times">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2962: Count Subarrays Where Max Element Appears at Least K Times in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2962-count-subarrays-where-max-element-appears-at-least-k-times/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2962: Count Subarrays Where Max Element Appears at Least K Times">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2962: Count Subarrays Where Max Element Appears at Least K Times in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2962: Count Subarrays Where Max Element Appears at Least K Times</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1036s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> countSubarrays(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> A, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> a <span style="color:#666">=</span> <span style="color:#666">*</span>max_element(A.begin(), A.end()), n <span style="color:#666">=</span> A.size(), cur <span style="color:#666">=</span> <span style="color:#666">0</span>, i <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; <span style="color:#666">++</span>j) {
</span></span><span style="display:flex;"><span>            cur <span style="color:#666">+=</span> A[j] <span style="color:#666">==</span> a;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span> (cur <span style="color:#666">&gt;=</span> k)
</span></span><span style="display:flex;"><span>                cur <span style="color:#666">-=</span> A[i<span style="color:#666">++</span>] <span style="color:#666">==</span> a;
</span></span><span style="display:flex;"><span>            res <span style="color:#666">+=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The task is to find the number of subarrays in the array <code>A</code> that contain at least <code>k</code> occurrences of the maximum element of <code>A</code>. A subarray is a contiguous part of the array, and the goal is to count how many subarrays meet this condition.</p>
<h3 id="approach">Approach:</h3>
<p>To solve this problem efficiently, we utilize a sliding window technique along with a count of the occurrences of the maximum element within the window. The sliding window approach allows us to avoid the inefficient solution of checking each subarray individually. The window is adjusted dynamically based on the number of occurrences of the maximum element, and the result is accumulated efficiently.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="step-1-find-the-maximum-element-in-the-array">Step 1: Find the Maximum Element in the Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> a <span style="color:#666">=</span> <span style="color:#666">*</span>max_element(A.begin(), A.end());
</span></span></code></pre></div><ul>
<li>The first step in solving the problem is to find the maximum element of the array <code>A</code>. This is done using the <code>max_element</code> function, which scans the entire array to find the largest element. This element is stored in the variable <code>a</code>.</li>
</ul>
<h4 id="step-2-initialize-variables">Step 2: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> A.size(), cur <span style="color:#666">=</span> <span style="color:#666">0</span>, i <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>n</code>: The size of the array <code>A</code>.</li>
<li><code>cur</code>: A counter that tracks how many times the maximum element <code>a</code> appears in the current sliding window.</li>
<li><code>i</code>: The starting index of the sliding window.</li>
<li><code>res</code>: A variable to accumulate the total number of valid subarrays. It will eventually store the result.</li>
</ul>
<h4 id="step-3-sliding-window-setup-outer-loop">Step 3: Sliding Window Setup (Outer Loop)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; <span style="color:#666">++</span>j) {
</span></span><span style="display:flex;"><span>    cur <span style="color:#666">+=</span> A[j] <span style="color:#666">==</span> a;
</span></span></code></pre></div><ul>
<li>The outer loop runs through each element of the array. The index <code>j</code> represents the current element of the array being considered for the window.</li>
<li>Inside the loop, we check if the current element <code>A[j]</code> is equal to the maximum element <code>a</code>. If so, we increment the <code>cur</code> variable by 1, indicating that we&rsquo;ve found one more occurrence of the maximum element within the window.</li>
</ul>
<h4 id="step-4-shrink-the-window-inner-while-loop">Step 4: Shrink the Window (Inner While Loop)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span> (cur <span style="color:#666">&gt;=</span> k)
</span></span><span style="display:flex;"><span>    cur <span style="color:#666">-=</span> A[i<span style="color:#666">++</span>] <span style="color:#666">==</span> a;
</span></span></code></pre></div><ul>
<li>This part of the code ensures that the window contains at least <code>k</code> occurrences of the maximum element <code>a</code>.</li>
<li>The <code>while</code> loop checks if <code>cur</code>, the count of occurrences of the maximum element in the window, is greater than or equal to <code>k</code>. If it is, we shrink the window from the left by incrementing the start index <code>i</code>. Each time we remove an element from the left of the window, we decrement <code>cur</code> if the element at <code>A[i]</code> was the maximum element.</li>
<li>This shrinking process continues until the window contains fewer than <code>k</code> occurrences of the maximum element.</li>
</ul>
<h4 id="step-5-accumulate-the-result">Step 5: Accumulate the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>res <span style="color:#666">+=</span> i;
</span></span></code></pre></div><ul>
<li>After adjusting the window to ensure it contains at least <code>k</code> occurrences of the maximum element, we add the value of <code>i</code> to the result. This is because every subarray starting from index <code>i</code> to the current index <code>j</code> contains at least <code>k</code> occurrences of the maximum element. Since there are <code>i</code> possible starting points for such subarrays, we add <code>i</code> to <code>res</code>.</li>
</ul>
<h4 id="step-6-return-the-result">Step 6: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After iterating through all elements of the array, the variable <code>res</code> contains the total count of subarrays that contain at least <code>k</code> occurrences of the maximum element. We return this value as the final result.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ol>
<li><strong>Finding the Maximum Element</strong>: The <code>max_element</code> function runs in <strong>O(n)</strong> time, where <code>n</code> is the number of elements in the array.</li>
<li><strong>Outer Loop</strong>: The outer loop runs <code>n</code> times, iterating over each element of the array once.</li>
<li><strong>Inner While Loop</strong>: The <code>while</code> loop ensures that the sliding window is adjusted as needed. Although the inner loop runs multiple times in some cases, each element is processed at most once by the <code>i</code> index. Therefore, the total number of iterations of the inner loop across all iterations of the outer loop is <strong>O(n)</strong>.</li>
</ol>
<p>Overall, the total time complexity is <strong>O(n)</strong>, where <code>n</code> is the number of elements in the array.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The solution only uses a constant amount of extra space for the variables <code>cur</code>, <code>i</code>, and <code>res</code>, regardless of the input size.</li>
<li>Therefore, the space complexity is <strong>O(1)</strong>, i.e., constant space.</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>This solution leverages an efficient sliding window technique to count the number of valid subarrays in a single pass through the array, achieving a time complexity of <strong>O(n)</strong>. The key idea is to maintain a dynamic window that contains at least <code>k</code> occurrences of the maximum element, and to count how many valid subarrays can be formed from the current position. This approach avoids the need to check all subarrays explicitly, resulting in a highly efficient solution that scales well with large inputs.</p>
<p><a href="https://leetcode.com/problems/count-subarrays-where-max-element-appears-at-least-k-times/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/CZ-z1ViskzE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
