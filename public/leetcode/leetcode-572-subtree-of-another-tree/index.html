<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 572: Subtree of Another Tree | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 572: Subtree of Another Tree">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 572: Subtree of Another Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-572-subtree-of-another-tree/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 572: Subtree of Another Tree">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 572: Subtree of Another Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="String Matching">
    <meta property="article:tag" content="Binary Tree">
    <meta property="article:tag" content="Hash Function">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 572: Subtree of Another Tree</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1205s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/572.webp" 
           alt="A tree being checked for its subtree, with the subtree softly glowing as it is found." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 572: Subtree of Another Tree Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1205s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> isSubtree(TreeNode<span style="color:#666">*</span> root, TreeNode<span style="color:#666">*</span> subRoot) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>root) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(match(root, subRoot)) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">isSubtree</span>(root<span style="color:#666">-&gt;</span>left, subRoot) <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>                isSubtree(root<span style="color:#666">-&gt;</span>right, subRoot);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">match</span>(TreeNode<span style="color:#666">*</span> r1, TreeNode<span style="color:#666">*</span> r2) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>r1 <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>r2) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>r1 <span style="color:#666">||</span> <span style="color:#666">!</span>r2) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(r1<span style="color:#666">-&gt;</span>val <span style="color:#666">!=</span> r2<span style="color:#666">-&gt;</span>val) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> match(r1<span style="color:#666">-&gt;</span>left, r2<span style="color:#666">-&gt;</span>left) <span style="color:#666">&amp;&amp;</span>
</span></span><span style="display:flex;"><span>            match(r1<span style="color:#666">-&gt;</span>right, r2<span style="color:#666">-&gt;</span>right);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The problem asks us to determine whether a binary tree <code>subRoot</code> is a subtree of another binary tree <code>root</code>. A subtree of a binary tree is a tree that consists of a node in the original tree along with all of its descendants. The task is to check if there exists a node in <code>root</code> such that the subtree rooted at that node is identical to <code>subRoot</code>.</p>
<p>For example:</p>
<ul>
<li><code>root = [3, 4, 5, 1, 2]</code></li>
<li><code>subRoot = [4, 1, 2]</code></li>
</ul>
<p>The function should return <code>true</code> since the subtree rooted at node 4 in <code>root</code> is identical to <code>subRoot</code>.</p>
<h3 id="approach">Approach:</h3>
<p>This problem can be solved using a <strong>depth-first search (DFS)</strong> approach. The basic idea is to traverse the tree <code>root</code> and, for each node, check whether the subtree rooted at that node is identical to <code>subRoot</code>. If we find a match, we return <code>true</code>. If no match is found after traversing the entire tree, we return <code>false</code>.</p>
<p>To check if two trees are identical, we can use a helper function that compares the two trees recursively. If both trees are empty, they are identical. If one is empty and the other is not, they are not identical. If the values of the current nodes are the same, we recursively compare the left and right subtrees.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="step-1-main-function-issubtree">Step 1: Main Function (<code>isSubtree</code>)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">isSubtree</span>(TreeNode<span style="color:#666">*</span> root, TreeNode<span style="color:#666">*</span> subRoot) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span>root) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;  <span style="color:#080;font-style:italic">// If the main tree is empty, return false
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">if</span> (match(root, subRoot)) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;  <span style="color:#080;font-style:italic">// If the current node matches the subtree, return true
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#080;font-style:italic">// Recursively check the left and right children of the current node
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">return</span> isSubtree(root<span style="color:#666">-&gt;</span>left, subRoot) <span style="color:#666">||</span> isSubtree(root<span style="color:#666">-&gt;</span>right, subRoot);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The function <code>isSubtree</code> checks whether the subtree <code>subRoot</code> exists in the binary tree <code>root</code>.</li>
<li>If <code>root</code> is <code>nullptr</code>, it returns <code>false</code>, meaning there&rsquo;s no subtree in an empty tree.</li>
<li>We then check whether the subtree starting at the current node matches <code>subRoot</code> by calling the helper function <code>match</code>. If it matches, we return <code>true</code>.</li>
<li>If the current node does not match, we recursively check the left and right subtrees of <code>root</code> to see if <code>subRoot</code> exists in either.</li>
</ul>
<h4 id="step-2-helper-function-match">Step 2: Helper Function (<code>match</code>)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">match</span>(TreeNode<span style="color:#666">*</span> r1, TreeNode<span style="color:#666">*</span> r2) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span>r1 <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>r2) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;  <span style="color:#080;font-style:italic">// Both nodes are null, so they match
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span>r1 <span style="color:#666">||</span> <span style="color:#666">!</span>r2) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;  <span style="color:#080;font-style:italic">// One of the nodes is null, so they don&#39;t match
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">if</span> (r1<span style="color:#666">-&gt;</span>val <span style="color:#666">!=</span> r2<span style="color:#666">-&gt;</span>val) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;  <span style="color:#080;font-style:italic">// The values of the nodes don&#39;t match
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#080;font-style:italic">// Recursively check the left and right children
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">return</span> match(r1<span style="color:#666">-&gt;</span>left, r2<span style="color:#666">-&gt;</span>left) <span style="color:#666">&amp;&amp;</span> match(r1<span style="color:#666">-&gt;</span>right, r2<span style="color:#666">-&gt;</span>right);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The function <code>match</code> checks whether two binary trees rooted at <code>r1</code> and <code>r2</code> are identical.</li>
<li>If both trees are empty (<code>nullptr</code>), they are considered identical.</li>
<li>If one of the trees is empty but the other is not, they are not identical.</li>
<li>If the values of the current nodes <code>r1-&gt;val</code> and <code>r2-&gt;val</code> are different, we return <code>false</code> as the trees are not identical.</li>
<li>If the current nodes match, we recursively check their left and right children to see if the entire trees match.</li>
</ul>
<h4 id="step-3-termination">Step 3: Termination</h4>
<p>After calling <code>isSubtree</code>, the recursion will eventually return <code>true</code> when it finds a subtree in <code>root</code> that matches <code>subRoot</code>. If no such match is found, the function will return <code>false</code> after traversing the entire tree.</p>
<h3 id="complexity">Complexity:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n * m):</strong> In the worst case, we need to check every node in <code>root</code> to see if it matches <code>subRoot</code>. For each node in <code>root</code>, we call the <code>match</code> function to check if the subtree rooted at that node matches <code>subRoot</code>. The time complexity of <code>match</code> is O(m), where <code>m</code> is the number of nodes in <code>subRoot</code> (since we might need to check all the nodes in <code>subRoot</code> for every node in <code>root</code>). Therefore, the overall time complexity is O(n * m), where <code>n</code> is the number of nodes in <code>root</code> and <code>m</code> is the number of nodes in <code>subRoot</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(h):</strong> The space complexity is determined by the recursion depth of the DFS traversal. In the worst case, the recursion depth is proportional to the height of the tree, which is O(h), where <code>h</code> is the height of the tree <code>root</code>. In a balanced binary tree, the height is O(log n), but in the worst case (e.g., a skewed tree), the height can be O(n).</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>This solution efficiently checks if a binary tree <code>subRoot</code> is a subtree of another binary tree <code>root</code> using a depth-first search (DFS) approach. The key idea is to recursively traverse <code>root</code> and compare each node with <code>subRoot</code> using the <code>match</code> helper function. The solution works in O(n * m) time, where <code>n</code> is the size of <code>root</code> and <code>m</code> is the size of <code>subRoot</code>, and it uses O(h) space for the recursion stack, where <code>h</code> is the height of the tree. This approach is optimal for problems involving subtree matching and provides an intuitive and efficient way to solve the problem.</p>
<p><a href="https://leetcode.com/problems/subtree-of-another-tree/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Qk7_vGWUMMQ?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
