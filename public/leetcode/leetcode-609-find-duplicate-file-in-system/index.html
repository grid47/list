<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 609: Find Duplicate File in System | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 609: Find Duplicate File in System">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 609: Find Duplicate File in System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-609-find-duplicate-file-in-system/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 609: Find Duplicate File in System">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 609: Find Duplicate File in System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 609: Find Duplicate File in System</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1215s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/609.webp" 
           alt="A computer directory where duplicate files are identified and softly glowing, showing their locations." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 609: Find Duplicate File in System Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1215s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> findDuplicate(vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> paths) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span>string, vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> result;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">path</span>: paths) {
</span></span><span style="display:flex;"><span>            stringstream <span style="color:#00a000">ss</span>(path);
</span></span><span style="display:flex;"><span>            string root;
</span></span><span style="display:flex;"><span>            string s;
</span></span><span style="display:flex;"><span>            getline(ss, root, <span style="color:#b44">&#39; &#39;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(getline(ss, s, <span style="color:#b44">&#39; &#39;</span>)) {
</span></span><span style="display:flex;"><span>                string fileName <span style="color:#666">=</span> root <span style="color:#666">+</span> <span style="color:#b44">&#39;/&#39;</span> <span style="color:#666">+</span> s.substr(<span style="color:#666">0</span>, s.find(<span style="color:#b44">&#39;(&#39;</span>));
</span></span><span style="display:flex;"><span>                string fileContent <span style="color:#666">=</span> s.substr(s.find(<span style="color:#b44">&#39;(&#39;</span>) <span style="color:#666">+</span> <span style="color:#666">1</span>, s.find(<span style="color:#b44">&#39;)&#39;</span>) <span style="color:#666">-</span> s.find(<span style="color:#b44">&#39;(&#39;</span>)<span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>                mp[fileContent].push_back(fileName);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">file</span> : mp) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(file.second.size() <span style="color:#666">&gt;</span> <span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>            result.push_back(file.second);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to identify and return all the duplicate files in a given list of paths. Each path consists of a root directory followed by a list of files in that directory. Each file contains a name and its associated content. Our goal is to return all groups of files that have the same content, indicating that they are duplicates. Each file&rsquo;s content is enclosed in parentheses, and files with the same content should be grouped together in the output.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to:</p>
<ol>
<li>Process each path in the input list, extracting file names and their corresponding content.</li>
<li>Use a hash map (unordered map) to group file names by their content. The key in the map will be the content, and the value will be a list of file names that share the same content.</li>
<li>After processing all the paths, we should filter and return only those content groups that contain more than one file, as these represent the duplicate files.</li>
</ol>
<p>The approach utilizes the fact that:</p>
<ul>
<li>File content is the key differentiator for duplicates.</li>
<li>A hash map allows efficient grouping and lookup based on content.</li>
<li>We need to handle the path and file content parsing carefully.</li>
</ul>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-data-structures">Step 1: Initialize Data Structures</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span>string, vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&gt;</span> result;
</span></span></code></pre></div><ul>
<li>We use an unordered map <code>mp</code> to store file content as the key and a vector of file paths as the value. This allows us to group files by content.</li>
<li><code>result</code> is a vector that will store the final list of duplicate files.</li>
</ul>
<h4 id="step-2-iterate-through-paths">Step 2: Iterate Through Paths</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">path</span> : paths) {
</span></span><span style="display:flex;"><span>    stringstream <span style="color:#00a000">ss</span>(path);
</span></span><span style="display:flex;"><span>    string root;
</span></span><span style="display:flex;"><span>    string s;
</span></span><span style="display:flex;"><span>    getline(ss, root, <span style="color:#b44">&#39; &#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">while</span> (getline(ss, s, <span style="color:#b44">&#39; &#39;</span>)) {
</span></span></code></pre></div><ul>
<li>We iterate through each <code>path</code> in the input <code>paths</code> list. Each <code>path</code> contains a root directory followed by files with names and contents.</li>
<li>A <code>stringstream</code> is used to parse the <code>path</code> string, where we first extract the root directory (<code>root</code>), and then extract each file (denoted by <code>s</code>).</li>
</ul>
<h4 id="step-3-parse-each-files-name-and-content">Step 3: Parse Each File&rsquo;s Name and Content</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>string fileName <span style="color:#666">=</span> root <span style="color:#666">+</span> <span style="color:#b44">&#39;/&#39;</span> <span style="color:#666">+</span> s.substr(<span style="color:#666">0</span>, s.find(<span style="color:#b44">&#39;(&#39;</span>));
</span></span><span style="display:flex;"><span>string fileContent <span style="color:#666">=</span> s.substr(s.find(<span style="color:#b44">&#39;(&#39;</span>) <span style="color:#666">+</span> <span style="color:#666">1</span>, s.find(<span style="color:#b44">&#39;)&#39;</span>) <span style="color:#666">-</span> s.find(<span style="color:#b44">&#39;(&#39;</span>) <span style="color:#666">-</span> <span style="color:#666">1</span>);
</span></span></code></pre></div><ul>
<li>For each file string <code>s</code>, we:
<ul>
<li>Extract the file name by taking the substring of <code>s</code> before the opening parenthesis <code>(</code>.</li>
<li>Extract the content of the file by taking the substring between the parentheses <code>()</code>. This is achieved by finding the positions of <code>(</code> and <code>)</code> in the string.</li>
</ul>
</li>
</ul>
<h4 id="step-4-group-files-by-content">Step 4: Group Files by Content</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>mp[fileContent].push_back(fileName);
</span></span></code></pre></div><ul>
<li>We use the content of the file (<code>fileContent</code>) as the key in the map <code>mp</code>. The corresponding value is a vector of file names that share this content. If multiple files have the same content, they will be added to the vector for that content key.</li>
</ul>
<h4 id="step-5-filter-and-collect-duplicate-files">Step 5: Filter and Collect Duplicate Files</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">file</span> : mp) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (file.second.size() <span style="color:#666">&gt;</span> <span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>        result.push_back(file.second);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>After processing all the paths and files, we iterate through the map <code>mp</code> and check for entries where the size of the vector (the number of files) is greater than 1. This indicates that these files are duplicates.</li>
<li>We push all groups of duplicate files into the <code>result</code> vector.</li>
</ul>
<h4 id="step-6-return-the-result">Step 6: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> result;
</span></span></code></pre></div><ul>
<li>Finally, we return the <code>result</code> vector, which contains the groups of duplicate files.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(N * M)</strong>:
<ul>
<li>Where <code>N</code> is the number of paths in the input list <code>paths</code>, and <code>M</code> is the average number of files per path.</li>
<li>We loop through each path, split it into its root directory and files, and for each file, we extract its content and name. The operations inside the loop (parsing the file name and content, and adding it to the map) take constant time on average.</li>
<li>Therefore, the overall time complexity is proportional to the total number of files across all paths.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(K)</strong>:
<ul>
<li>Where <code>K</code> is the total number of files in all paths, as we store the files in the map <code>mp</code>. Each file&rsquo;s name and content are stored in the map, so the space complexity is proportional to the number of files.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently identifies and groups duplicate files based on their content. The approach leverages hash maps for efficient lookup and grouping, ensuring that we can process each file in constant time. The algorithm handles parsing of file names and contents carefully, ensuring that even files with the same name but different content are correctly treated as separate files. The solution is optimal with respect to both time and space, making it well-suited for handling large inputs efficiently.</p>
<p><a href="https://leetcode.com/problems/find-duplicate-file-in-system/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/3GP6BA1oXQw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
