<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2521: Distinct Prime Factors of Product of Array | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2521: Distinct Prime Factors of Product of Array">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2521: Distinct Prime Factors of Product of Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2521-distinct-prime-factors-of-product-of-array/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2521: Distinct Prime Factors of Product of Array">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2521: Distinct Prime Factors of Product of Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Number Theory">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2521: Distinct Prime Factors of Product of Array</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode810s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fact</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(num <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>            cnt.insert(<span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>            num <span style="color:#666">/=</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">3</span>; i <span style="color:#666">&lt;=</span> num; i<span style="color:#666">+=</span><span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(num <span style="color:#666">%</span> i <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                cnt.insert(i);
</span></span><span style="display:flex;"><span>                num <span style="color:#666">/=</span> i;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">distinctPrimeFactors</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            fact(nums[i]);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt.size() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given an array of integers <code>nums</code>, the task is to find the number of distinct prime factors that appear in at least one element of the array. Each integer in the array can have multiple prime factors, but we are only interested in the distinct prime factors across all elements of the array. The goal is to return the total number of unique prime factors that appear across all the numbers in the array.</p>
<h3 id="approach">Approach</h3>
<p>The problem requires us to find all the prime factors for each number in the array and count the distinct ones. To solve this, we need to:</p>
<ol>
<li><strong>Prime Factorization:</strong> Decompose each number into its prime factors.</li>
<li><strong>Tracking Distinct Primes:</strong> As we find prime factors, we should store them in a set to automatically handle duplicates.</li>
<li><strong>Efficient Factorization:</strong> Use an efficient algorithm to factorize each number by checking divisibility starting from the smallest primes (2 and then odd numbers).</li>
<li><strong>Final Count:</strong> After processing all numbers, the size of the set will give us the count of distinct prime factors.</li>
</ol>
<p>The solution involves two main steps:</p>
<ol>
<li>For each number in the <code>nums</code> array, perform prime factorization and add the prime factors to a set.</li>
<li>Finally, return the size of the set, which contains only distinct prime factors.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="class-definition">Class Definition:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cnt;
</span></span></code></pre></div><ul>
<li>Here, we define a class <code>Solution</code> that will hold a set <code>cnt</code> which will store distinct prime factors. The <code>set</code> is ideal because it automatically handles duplicate entries and stores only unique values.</li>
</ul>
<h4 id="prime-factorization-function">Prime Factorization Function:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">fact</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(num <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>            cnt.insert(<span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>            num <span style="color:#666">/=</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>The <code>fact</code> function is responsible for finding the prime factors of a number.</li>
<li><strong>Dividing by 2</strong>: We first check if <code>num</code> is divisible by 2 (the smallest prime). While it is divisible by 2, we insert 2 into the set <code>cnt</code> and divide <code>num</code> by 2.</li>
<li>This loop will ensure that we eliminate all factors of 2 from <code>num</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">3</span>; i <span style="color:#666">&lt;=</span> num; i<span style="color:#666">+=</span><span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(num <span style="color:#666">%</span> i <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>                cnt.insert(i);
</span></span><span style="display:flex;"><span>                num <span style="color:#666">/=</span> i;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>After removing factors of 2, we continue with the odd numbers starting from 3.</li>
<li><strong>Dividing by odd numbers</strong>: The loop checks all odd numbers from 3 upwards. For each number <code>i</code>, we check if <code>num</code> is divisible by <code>i</code>. If it is, we insert <code>i</code> into the set <code>cnt</code> and divide <code>num</code> by <code>i</code> until it is no longer divisible.</li>
<li>This ensures we capture all prime factors. The loop stops once <code>i</code> exceeds <code>num</code>, at which point <code>num</code> itself must be a prime number if it is greater than 2.</li>
</ul>
<h4 id="main-function-to-count-distinct-prime-factors">Main Function to Count Distinct Prime Factors:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">distinctPrimeFactors</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            fact(nums[i]);
</span></span></code></pre></div><ul>
<li>The function <code>distinctPrimeFactors</code> takes a vector <code>nums</code> as input. We first determine the size of the vector <code>n</code>.</li>
<li>Then, we iterate over each element in the <code>nums</code> array and call the <code>fact</code> function to find its prime factors. For each element, <code>fact</code> adds the prime factors to the <code>cnt</code> set.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt.size();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Finally, the function returns the size of the set <code>cnt</code>, which represents the total number of distinct prime factors across all numbers in the array. Since a set automatically handles duplicates, it ensures that only unique prime factors are counted.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The prime factorization process for each number involves dividing the number by all integers starting from 2 and moving upwards. The complexity of finding the prime factors of a number is approximately ( O(\sqrt{num}) ), where <code>num</code> is the value of the number being factored.</li>
<li>For each number <code>nums[i]</code> in the array, we perform a factorization that takes ( O(\sqrt{nums[i]}) ).</li>
<li>If <code>n</code> is the number of elements in the array <code>nums</code>, and <code>max_num</code> is the largest number in the array, the overall time complexity is ( O(n \times \sqrt{max_num}) ), where <code>max_num</code> is the largest number in the array.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is ( O(k) ), where <code>k</code> is the number of distinct prime factors across all numbers in the array. This is because we are storing the distinct prime factors in a <code>set</code>. The set will have a size proportional to the number of distinct prime factors.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently calculates the number of distinct prime factors across all elements of the array. By using prime factorization and a set to store unique primes, we ensure that the solution handles duplicate factors and efficiently counts distinct primes. The solution is optimal for a wide range of input sizes, with a time complexity of ( O(n \times \sqrt{max_num}) ) and a space complexity of ( O(k) ), where <code>n</code> is the number of elements and <code>k</code> is the number of distinct prime factors. The use of a set guarantees that duplicate prime factors are not counted, ensuring the correctness of the result.</p>
<p><a href="https://leetcode.com/problems/distinct-prime-factors-of-product-of-array/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/HKc9PcSzNic?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
