<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 636: Exclusive Time of Functions | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 636: Exclusive Time of Functions">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 636: Exclusive Time of Functions in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-636-exclusive-time-of-functions/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 636: Exclusive Time of Functions">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 636: Exclusive Time of Functions in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 636: Exclusive Time of Functions</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1226s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/636.webp" 
           alt="A timeline of function executions, where the exclusive time for each function is highlighted and softly glowing." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 636: Exclusive Time of Functions Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1226s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">struct</span> <span style="color:#00f">Log</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> id;
</span></span><span style="display:flex;"><span>    string status;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> time;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> exclusiveTime(<span style="color:#0b0;font-weight:bold">int</span> n, vector<span style="color:#666">&lt;</span>string<span style="color:#666">&gt;&amp;</span> logs) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span>Log<span style="color:#666">&gt;</span> stk;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(string <span style="color:#a0a000">log</span> : logs) {
</span></span><span style="display:flex;"><span>            stringstream <span style="color:#00a000">ss</span>(log);
</span></span><span style="display:flex;"><span>            string num, adj, time;
</span></span><span style="display:flex;"><span>            getline(ss, num,  <span style="color:#b44">&#39;:&#39;</span>);
</span></span><span style="display:flex;"><span>            getline(ss, adj,  <span style="color:#b44">&#39;:&#39;</span>);
</span></span><span style="display:flex;"><span>            getline(ss, time, <span style="color:#b44">&#39;:&#39;</span>);
</span></span><span style="display:flex;"><span>            Log item <span style="color:#666">=</span> { stoi(num), adj, stoi(time) };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(item.status <span style="color:#666">==</span> <span style="color:#b44">&#34;start&#34;</span>) {
</span></span><span style="display:flex;"><span>                stk.push(item);
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                assert(stk.top().id <span style="color:#666">==</span> item.id);
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> t <span style="color:#666">=</span> item.time <span style="color:#666">-</span> stk.top().time <span style="color:#666">+</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                ans[item.id] <span style="color:#666">+=</span> t;
</span></span><span style="display:flex;"><span>                stk.pop();
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>stk.empty()){
</span></span><span style="display:flex;"><span>                    assert(stk.top().status <span style="color:#666">==</span> <span style="color:#b44">&#34;start&#34;</span>);
</span></span><span style="display:flex;"><span>                    ans[stk.top().id] <span style="color:#666">-=</span> t;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to calculate the exclusive execution time of functions in a system where each log entry records the starting or stopping time of a function, along with its unique function ID. The logs are provided as strings where each log contains the function ID, the status (either &ldquo;start&rdquo; or &ldquo;end&rdquo;), and the timestamp of when the event occurred.</p>
<p>Given <code>n</code> functions, our goal is to compute the exclusive execution time of each function. The exclusive execution time is defined as the total time a function spends executing minus the time it spends in functions that it calls.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to simulate the execution of the functions and manage their start and end times. A stack data structure is ideal for this problem because it allows us to keep track of the functions that are currently executing.</p>
<p>The solution can be broken down into the following steps:</p>
<ol>
<li><strong>Parse the Logs</strong>: Each log entry contains a function ID, a status (&ldquo;start&rdquo; or &ldquo;end&rdquo;), and a timestamp. We need to extract this information from the log.</li>
<li><strong>Track Start and End Times</strong>: Use a stack to keep track of functions that are currently executing. When a function starts, we push it onto the stack. When a function ends, we pop it from the stack and compute its exclusive execution time.</li>
<li><strong>Adjust the Times</strong>: For each &ldquo;end&rdquo; log, we calculate the time spent by the function and update the time of the function at the top of the stack, which represents the function that called the current function.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s go through the code step by step to understand how it works:</p>
<h4 id="1-data-structures-and-initialization">1. <strong>Data Structures and Initialization</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ans(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>stack<span style="color:#666">&lt;</span>Log<span style="color:#666">&gt;</span> stk;
</span></span></code></pre></div><ul>
<li>We initialize a <code>vector&lt;int&gt; ans</code> with size <code>n</code> to store the exclusive execution times of each function. The <code>vector</code> is initialized with zeros.</li>
<li>A stack <code>stk</code> of type <code>Log</code> is used to track functions as they start. Each entry in the stack represents a function that is currently running, including its ID, status, and start time.</li>
</ul>
<h4 id="2-iterating-through-the-logs">2. <strong>Iterating Through the Logs</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(string <span style="color:#a0a000">log</span> : logs) {
</span></span><span style="display:flex;"><span>    stringstream <span style="color:#00a000">ss</span>(log);
</span></span><span style="display:flex;"><span>    string num, adj, time;
</span></span><span style="display:flex;"><span>    getline(ss, num, <span style="color:#b44">&#39;:&#39;</span>);
</span></span><span style="display:flex;"><span>    getline(ss, adj, <span style="color:#b44">&#39;:&#39;</span>);
</span></span><span style="display:flex;"><span>    getline(ss, time, <span style="color:#b44">&#39;:&#39;</span>);
</span></span><span style="display:flex;"><span>    Log item <span style="color:#666">=</span> { stoi(num), adj, stoi(time) };
</span></span></code></pre></div><ul>
<li>We iterate through each log in the <code>logs</code> vector. Each log string is passed to a stringstream <code>ss</code> to extract the function ID (<code>num</code>), status (<code>adj</code>), and timestamp (<code>time</code>) using <code>getline()</code>.</li>
<li>We convert <code>num</code> and <code>time</code> to integers using <code>stoi()</code>, and create a <code>Log</code> structure with the parsed information.</li>
</ul>
<h4 id="3-processing-the-start-log">3. <strong>Processing the &ldquo;Start&rdquo; Log</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(item.status <span style="color:#666">==</span> <span style="color:#b44">&#34;start&#34;</span>) {
</span></span><span style="display:flex;"><span>    stk.push(item);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the log represents a &ldquo;start&rdquo; event, we push the <code>Log</code> object onto the stack. This indicates that a function has started and is currently executing.</li>
</ul>
<h4 id="4-processing-the-end-log">4. <strong>Processing the &ldquo;End&rdquo; Log</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    assert(stk.top().id <span style="color:#666">==</span> item.id);
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> t <span style="color:#666">=</span> item.time <span style="color:#666">-</span> stk.top().time <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    ans[item.id] <span style="color:#666">+=</span> t;
</span></span><span style="display:flex;"><span>    stk.pop();
</span></span></code></pre></div><ul>
<li>If the log represents an &ldquo;end&rdquo; event, we first check that the function ID of the &ldquo;end&rdquo; log matches the function ID of the function at the top of the stack (i.e., the currently executing function).</li>
<li>We calculate the time spent by the function using the formula <code>t = item.time - stk.top().time + 1</code>, where <code>item.time</code> is the timestamp of the &ldquo;end&rdquo; event and <code>stk.top().time</code> is the timestamp of the corresponding &ldquo;start&rdquo; event.</li>
<li>We add this time to <code>ans[item.id]</code>, which stores the total exclusive execution time for the function <code>item.id</code>.</li>
<li>We then pop the function from the stack because it has finished executing.</li>
</ul>
<h4 id="5-adjusting-the-time-of-the-calling-function">5. <strong>Adjusting the Time of the Calling Function</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>stk.empty()){
</span></span><span style="display:flex;"><span>    assert(stk.top().status <span style="color:#666">==</span> <span style="color:#b44">&#34;start&#34;</span>);
</span></span><span style="display:flex;"><span>    ans[stk.top().id] <span style="color:#666">-=</span> t;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the stack is not empty (i.e., there is a function that called the current function), we subtract the execution time of the current function from the exclusive execution time of the function at the top of the stack. This ensures that the time spent in the current function is not counted as part of the calling function&rsquo;s exclusive time.</li>
</ul>
<h4 id="6-returning-the-result">6. <strong>Returning the Result</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>After processing all logs, the <code>ans</code> vector will contain the exclusive execution times of all functions, which we return.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: We iterate through each log exactly once, where <code>n</code> is the number of logs. Each operation inside the loop (such as parsing the log and pushing or popping from the stack) takes constant time.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: The space complexity is determined by the stack, which can store at most <code>n</code> functions in the worst case (when no functions have finished executing).</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently computes the exclusive execution time of each function by simulating the function calls using a stack. The stack allows us to keep track of which function is currently running and ensures that we correctly account for the time spent in functions that are called. By maintaining the exclusive execution time of each function, we handle nested calls and accurately compute the total time spent by each function without counting the time spent in its child functions.</p>
<p>This approach runs in <strong>O(n)</strong> time, where <code>n</code> is the number of log entries, and it uses <strong>O(n)</strong> space, making it optimal for solving the problem. The use of a stack ensures that the solution is both simple and efficient.</p>
<p><a href="https://leetcode.com/problems/exclusive-time-of-functions/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Rjcwy-Q2uDo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
