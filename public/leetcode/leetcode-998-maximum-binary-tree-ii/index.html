<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 998: Maximum Binary Tree II | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 998: Maximum Binary Tree II">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 998: Maximum Binary Tree II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-998-maximum-binary-tree-ii/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 998: Maximum Binary Tree II">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 998: Maximum Binary Tree II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 998: Maximum Binary Tree II</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1441s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> insertIntoMaxTree(TreeNode<span style="color:#666">*</span> root, <span style="color:#0b0;font-weight:bold">int</span> val) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(root <span style="color:#666">!=</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> root<span style="color:#666">-&gt;</span>val <span style="color:#666">&gt;</span> val) {
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> insertIntoMaxTree(root<span style="color:#666">-&gt;</span>right, val);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        TreeNode<span style="color:#666">*</span> node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(val);
</span></span><span style="display:flex;"><span>        node<span style="color:#666">-&gt;</span>left <span style="color:#666">=</span> root;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, you are given the root of a <strong>maximum binary tree</strong> and a value <code>val</code>. The task is to <strong>insert</strong> the given value into the binary tree such that the resulting tree is still a valid <strong>maximum binary tree</strong>.</p>
<p>A <strong>maximum binary tree</strong> is defined as follows:</p>
<ol>
<li>The root is the maximum value in the tree.</li>
<li>The left subtree is a maximum binary tree of all the values smaller than the root.</li>
<li>The right subtree is a maximum binary tree of all the values greater than the root.</li>
</ol>
<h3 id="problem-understanding">Problem Understanding</h3>
<p>Given the structure of a maximum binary tree, if you are asked to insert a new value <code>val</code>, you need to ensure that:</p>
<ul>
<li>The new value is inserted while maintaining the max-heap-like property of the binary tree.</li>
<li>The tree should remain balanced such that the new value <code>val</code> becomes the new root if it is greater than the current root. Otherwise, it should be placed as the right child of the tree&rsquo;s root or somewhere further down.</li>
</ul>
<h3 id="approach">Approach</h3>
<p>The key insight to solving this problem is to recognize how the <strong>maximum binary tree structure</strong> behaves:</p>
<ul>
<li>If the value <code>val</code> is larger than the current root, it should become the new root, and the original tree becomes its left subtree.</li>
<li>If <code>val</code> is smaller than the current root, the insertion process should proceed recursively down the right child of the tree.</li>
</ul>
<p>This leads us to the following steps for solving the problem:</p>
<ol>
<li>If the value <code>val</code> is greater than the current node&rsquo;s value, <code>val</code> should become the new root, and the current tree becomes its left subtree.</li>
<li>Otherwise, if <code>val</code> is smaller, recursively move to the right subtree to continue the insertion process, since the right subtree of any node in a max-heap should contain values that are smaller than the node itself.</li>
</ol>
<p>This recursive approach ensures that we insert the new value into the tree while preserving the properties of the maximum binary tree.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> insertIntoMaxTree(TreeNode<span style="color:#666">*</span> root, <span style="color:#0b0;font-weight:bold">int</span> val) {
</span></span></code></pre></div><ul>
<li><strong>Function Definition</strong>: The function <code>insertIntoMaxTree</code> is defined as a member function of the <code>Solution</code> class, which takes the root of the binary tree and the value <code>val</code> to be inserted as arguments. It returns a pointer to the root of the modified binary tree.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(root <span style="color:#666">!=</span> <span style="color:#a2f">NULL</span> <span style="color:#666">&amp;&amp;</span> root<span style="color:#666">-&gt;</span>val <span style="color:#666">&gt;</span> val) {
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> insertIntoMaxTree(root<span style="color:#666">-&gt;</span>right, val);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Base Case and Recursive Call</strong>:
<ul>
<li>If the current node <code>root</code> is not <code>NULL</code> and its value is greater than the value <code>val</code> to be inserted, the following happens:
<ul>
<li>We proceed to insert <code>val</code> in the right subtree of the current node. This is done by making a recursive call <code>insertIntoMaxTree(root-&gt;right, val)</code>.</li>
<li>After the recursive call, the right child of the current node will be updated with the result of the insertion. This keeps the tree structure intact.</li>
<li>The current node is then returned as the root of the modified subtree.</li>
</ul>
</li>
<li>This step ensures that the value <code>val</code> is inserted into the right subtree of nodes where <code>val</code> is smaller than the node&rsquo;s value.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        TreeNode<span style="color:#666">*</span> node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(val);
</span></span><span style="display:flex;"><span>        node<span style="color:#666">-&gt;</span>left <span style="color:#666">=</span> root;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Insertion Case</strong>:
<ul>
<li>If the current node <code>root</code> is either <code>NULL</code> or its value is smaller than <code>val</code>, then <code>val</code> becomes the new root of the tree.</li>
<li>A new node is created with the value <code>val</code>, and the original root is set as the left child of this new node. This is because, in the max binary tree, any node larger than its parent should become the new root, and the old root becomes its left child.</li>
<li>Finally, the new node is returned, which will be the new root of the tree or subtree.</li>
</ul>
</li>
</ul>
<p>This process of recursive insertion guarantees that the tree will remain a valid maximum binary tree after the insertion.</p>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of the solution is <strong>O(h)</strong>, where <code>h</code> is the height of the binary tree. In the worst case, we may need to traverse from the root to a leaf, which requires visiting every node along the path. Since the tree is a binary tree, the height is logarithmic in the best case (<code>O(log n)</code> for balanced trees) but can be linear (<code>O(n)</code>) in the worst case if the tree is skewed.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is <strong>O(h)</strong>, which is the space required for the recursion stack. In the worst case, if the tree is skewed, the height of the tree is <code>O(n)</code>, and thus the recursion stack will also require <code>O(n)</code> space. In the best case (balanced tree), the recursion depth is <code>O(log n)</code>.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution provides a simple yet efficient method for inserting a new value into a maximum binary tree. The recursive approach ensures that the properties of the tree are maintained, with the new value becoming the root if it is larger than the current root, and otherwise being inserted into the right subtree. By leveraging the natural structure of the maximum binary tree, this approach works efficiently even with large trees.</p>
<p>The time complexity is proportional to the height of the tree, and the space complexity depends on the recursion depth. The solution is both time-efficient and space-efficient for the given problem constraints.</p>
<p><a href="https://leetcode.com/problems/maximum-binary-tree-ii/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/9Mr8YfV6hA4?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
