<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2245: Maximum Trailing Zeros in a Cornered Path | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2245: Maximum Trailing Zeros in a Cornered Path">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2245: Maximum Trailing Zeros in a Cornered Path in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="https://www.grid47.xyz/leetcode/solution-2245-maximum-trailing-zeros-in-a-cornered-path/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2245: Maximum Trailing Zeros in a Cornered Path">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2245: Maximum Trailing Zeros in a Cornered Path in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Matrix">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="https://www.grid47.xyz//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/courses/">Course</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
    <div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%202245%3a%20Maximum%20Trailing%20Zeros%20in%20a%20Cornered%20Path&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f" 
               onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f" 
               onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f&title=Leetcode%202245%3a%20Maximum%20Trailing%20Zeros%20in%20a%20Cornered%20Path" 
               onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://reddit.com/submit?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f&title=Leetcode%202245%3a%20Maximum%20Trailing%20Zeros%20in%20a%20Cornered%20Path" 
               onclick="window.open(this.href, 'reddit-share', 'width=550,height=435');return false;">
                <i class="fab fa-reddit-alien"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://api.whatsapp.com/send?text=Leetcode%202245%3a%20Maximum%20Trailing%20Zeros%20in%20a%20Cornered%20Path%20https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f" 
               onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;">
                <i class="fab fa-whatsapp"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://telegram.me/share/url?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f&text=Leetcode%202245%3a%20Maximum%20Trailing%20Zeros%20in%20a%20Cornered%20Path" 
               onclick="window.open(this.href, 'telegram-share', 'width=550,height=435');return false;">
                <i class="fab fa-telegram-plane"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="mailto:?subject=Leetcode%202245%3a%20Maximum%20Trailing%20Zeros%20in%20a%20Cornered%20Path&body=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2245-maximum-trailing-zeros-in-a-cornered-path%2f" 
               onclick="window.open(this.href, 'email-share', 'width=550,height=435');return false;">
                <i class="fas fa-envelope"></i>
            </a>
        </li> 
    </ul>

    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        
                        <h1 class="posttitle">Leetcode 2245: Maximum Trailing Zeros in a Cornered Path</h1> 
                        
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Mar 27, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                                   
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode642s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#a2f;font-weight:bold">operator</span><span style="color:#666">+</span>(<span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r1, <span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r2) { <span style="color:#a2f;font-weight:bold">return</span> { r1[<span style="color:#666">0</span>] <span style="color:#666">+</span> r2[<span style="color:#666">0</span>], r1[<span style="color:#666">1</span>] <span style="color:#666">+</span> r2[<span style="color:#666">1</span>] }; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#a2f;font-weight:bold">operator</span><span style="color:#666">-</span>(<span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r1, <span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r2) { <span style="color:#a2f;font-weight:bold">return</span> { r1[<span style="color:#666">0</span>] <span style="color:#666">-</span> r2[<span style="color:#666">0</span>], r1[<span style="color:#666">1</span>] <span style="color:#666">-</span> r2[<span style="color:#666">1</span>] }; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">pairs</span> (<span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>p) { <span style="color:#a2f;font-weight:bold">return</span> min(p[<span style="color:#666">0</span>], p[<span style="color:#666">1</span>]); }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> fact(<span style="color:#0b0;font-weight:bold">int</span> i, <span style="color:#0b0;font-weight:bold">int</span> j) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> i <span style="color:#666">%</span> j <span style="color:#666">?</span> <span style="color:#666">0</span> <span style="color:#666">:</span> <span style="color:#666">1</span> <span style="color:#666">+</span> fact(i<span style="color:#666">/</span>j, j);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">maxTrailingZeros</span>(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> grid) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> m <span style="color:#666">=</span> grid.size(), n <span style="color:#666">=</span> grid[<span style="color:#666">0</span>].size(), res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;&gt;&gt;</span> h(m, vector<span style="color:#666">&lt;</span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;&gt;</span>(n <span style="color:#666">+</span> <span style="color:#666">1</span>)), v(m<span style="color:#666">+</span><span style="color:#666">1</span>, vector<span style="color:#666">&lt;</span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;&gt;</span>(n));
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> t <span style="color:#666">=</span> grid[i][j];
</span></span><span style="display:flex;"><span>                array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> node <span style="color:#666">=</span> { fact(t, <span style="color:#666">2</span>), fact(t, <span style="color:#666">5</span>) };
</span></span><span style="display:flex;"><span>                h[i][j <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> h[i][j] <span style="color:#666">+</span> node;
</span></span><span style="display:flex;"><span>                v[i <span style="color:#666">+</span> <span style="color:#666">1</span>][j] <span style="color:#666">=</span> v[i][j] <span style="color:#666">+</span> node;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> h1 <span style="color:#666">=</span> h[i][j], 
</span></span><span style="display:flex;"><span>                h2 <span style="color:#666">=</span> h[i][n] <span style="color:#666">-</span> h[i][j<span style="color:#666">+</span><span style="color:#666">1</span>],
</span></span><span style="display:flex;"><span>                v1 <span style="color:#666">=</span> v[i<span style="color:#666">+</span><span style="color:#666">1</span>][j],
</span></span><span style="display:flex;"><span>                v2 <span style="color:#666">=</span> v[m][j] <span style="color:#666">-</span> v[i][j];
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> max({res, pairs(v1<span style="color:#666">+</span>h1), pairs(v1<span style="color:#666">+</span>h2), pairs(v2<span style="color:#666">+</span>h1), pairs(v2<span style="color:#666">+</span>h2)});
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to find the maximum number of trailing zeros in any possible subgrid of a given 2D grid of integers. A trailing zero in a number results from factors of 10, which is the product of the prime factors 2 and 5. For each number in the grid, we need to count how many times it can be divided by 2 and 5. The task is to determine which subgrid produces the maximum number of trailing zeros when considering the factors of 2 and 5 across all possible subgrids.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we will use the following steps:</p>
<ol>
<li>
<p><strong>Factorization</strong>:
Every number can be broken down into prime factors, primarily focusing on the factors 2 and 5 because trailing zeros are produced by multiples of 10, and 10 = 2 * 5. For each number in the grid, we calculate how many times it can be divided by 2 (<code>fact(i, 2)</code>) and by 5 (<code>fact(i, 5)</code>).</p>
</li>
<li>
<p><strong>Prefix Sum Arrays</strong>:
To efficiently calculate the number of trailing zeros in any subgrid, we use prefix sum arrays. We maintain two 2D arrays (<code>h</code> for horizontal sums and <code>v</code> for vertical sums) to store cumulative counts of the factors 2 and 5 up to each point in the grid.</p>
</li>
<li>
<p><strong>Maximize Trailing Zeros</strong>:
The idea is to calculate the number of trailing zeros in all possible subgrids by considering different combinations of horizontal and vertical segments from the <code>h</code> and <code>v</code> arrays. We then track the maximum number of trailing zeros across all these subgrids.</p>
</li>
<li>
<p><strong>Efficient Calculation</strong>:
By using the prefix sum arrays, we can quickly compute the number of trailing zeros for any subgrid without recalculating sums from scratch each time. The goal is to compute these sums in <code>O(1)</code> time for each query after preprocessing.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Operator Overloading for Addition and Subtraction of Factor Pairs</strong>:
We overload the <code>+</code> and <code>-</code> operators for arrays of size 2, which store the counts of factors 2 and 5 for a number. This allows us to easily combine the factor counts from different parts of the grid:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#a2f;font-weight:bold">operator</span><span style="color:#666">+</span>(<span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r1, <span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r2) { 
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> { r1[<span style="color:#666">0</span>] <span style="color:#666">+</span> r2[<span style="color:#666">0</span>], r1[<span style="color:#666">1</span>] <span style="color:#666">+</span> r2[<span style="color:#666">1</span>] }; 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#a2f;font-weight:bold">operator</span><span style="color:#666">-</span>(<span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r1, <span style="color:#a2f;font-weight:bold">const</span> array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>r2) { 
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> { r1[<span style="color:#666">0</span>] <span style="color:#666">-</span> r2[<span style="color:#666">0</span>], r1[<span style="color:#666">1</span>] <span style="color:#666">-</span> r2[<span style="color:#666">1</span>] }; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Counting Factors (2 and 5) for a Number</strong>:
The <code>fact</code> function is designed to count how many times a number can be divided by a given factor (<code>2</code> or <code>5</code>). It uses recursive division to calculate the number of times the number can be divided by the factor until it&rsquo;s no longer divisible:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">fact</span>(<span style="color:#0b0;font-weight:bold">int</span> i, <span style="color:#0b0;font-weight:bold">int</span> j) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> i <span style="color:#666">%</span> j <span style="color:#666">?</span> <span style="color:#666">0</span> <span style="color:#666">:</span> <span style="color:#666">1</span> <span style="color:#666">+</span> fact(i <span style="color:#666">/</span> j, j);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Grid Initialization</strong>:
The grid <code>grid</code> is a 2D matrix where each element is an integer. We initialize two 2D arrays <code>h</code> (horizontal sums) and <code>v</code> (vertical sums), where each element stores an array of two integers: the count of factors of 2 and the count of factors of 5 for the corresponding position in the grid.</p>
<p>We compute these values while iterating over the grid, and at each position <code>(i, j)</code>, we update <code>h[i][j + 1]</code> and <code>v[i + 1][j]</code> by adding the factor counts of the current number to the cumulative sums in the horizontal and vertical directions.</p>
</li>
<li>
<p><strong>Prefix Sum Calculation</strong>:
This step uses the prefix sums to calculate the total factors of 2 and 5 for each subgrid efficiently. The arrays <code>h</code> and <code>v</code> hold the cumulative sums for factors of 2 and 5, allowing us to quickly compute the factors for any subgrid:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> t <span style="color:#666">=</span> grid[i][j];
</span></span><span style="display:flex;"><span>        array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> node <span style="color:#666">=</span> { fact(t, <span style="color:#666">2</span>), fact(t, <span style="color:#666">5</span>) };
</span></span><span style="display:flex;"><span>        h[i][j <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> h[i][j] <span style="color:#666">+</span> node;
</span></span><span style="display:flex;"><span>        v[i <span style="color:#666">+</span> <span style="color:#666">1</span>][j] <span style="color:#666">=</span> v[i][j] <span style="color:#666">+</span> node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Finding the Maximum Number of Trailing Zeros</strong>:
For each position <code>(i, j)</code>, we calculate the possible number of trailing zeros by considering the factors of 2 and 5 from four subgrids:</p>
<ul>
<li>Subgrid 1: Uses the factors from the top-left portion of the grid.</li>
<li>Subgrid 2: Uses the factors from the top-right portion of the grid.</li>
<li>Subgrid 3: Uses the factors from the bottom-left portion of the grid.</li>
<li>Subgrid 4: Uses the factors from the bottom-right portion of the grid.</li>
</ul>
<p>We compute the number of trailing zeros for each of these four subgrids and update the result with the maximum number of trailing zeros:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> m; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">2</span><span style="color:#666">&gt;</span> h1 <span style="color:#666">=</span> h[i][j], 
</span></span><span style="display:flex;"><span>            h2 <span style="color:#666">=</span> h[i][n] <span style="color:#666">-</span> h[i][j<span style="color:#666">+</span><span style="color:#666">1</span>],
</span></span><span style="display:flex;"><span>            v1 <span style="color:#666">=</span> v[i<span style="color:#666">+</span><span style="color:#666">1</span>][j],
</span></span><span style="display:flex;"><span>            v2 <span style="color:#666">=</span> v[m][j] <span style="color:#666">-</span> v[i][j];
</span></span><span style="display:flex;"><span>        res <span style="color:#666">=</span> max({res, pairs(v1 <span style="color:#666">+</span> h1), pairs(v1 <span style="color:#666">+</span> h2), pairs(v2 <span style="color:#666">+</span> h1), pairs(v2 <span style="color:#666">+</span> h2)});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Return the Result</strong>:
The final result, <code>res</code>, stores the maximum number of trailing zeros for any subgrid. We return this value as the output of the function:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity for computing the factor counts for each element in the grid is <code>O(m * n)</code> where <code>m</code> is the number of rows and <code>n</code> is the number of columns in the grid.</li>
<li>The <code>fact</code> function computes the factors for each element, which takes <code>O(log i)</code> time where <code>i</code> is the value of the element. Since the grid elements can be large, we assume that the factorization is handled efficiently.</li>
<li>The total complexity for the grid processing and calculation of trailing zeros for all subgrids is <code>O(m * n)</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>We use two 2D arrays, <code>h</code> and <code>v</code>, each of size <code>m * n</code>. Therefore, the space complexity is <code>O(m * n)</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The approach efficiently computes the maximum number of trailing zeros in any subgrid of a given 2D grid of integers by leveraging prefix sum arrays to compute the factors of 2 and 5. The solution is optimized for both time and space complexity, handling large grids and large numbers efficiently. By using prefix sums and operator overloading for array operations, the solution provides a clean and efficient way to tackle the problem.</p>
<p><a href="https://leetcode.com/problems/maximum-trailing-zeros-in-a-cornered-path/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/QMRHGd9ftz8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/array">Array</a>
                        </li>
                        
                        <li>
                        <a href="/tags/matrix">Matrix</a>
                        </li>
                        
                        <li>
                        <a href="/tags/prefix-sum">Prefix Sum</a>
                        </li>
                        
                        </ul>
                    </div>
                                        
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="https://www.grid47.xyz/leetcode/solution-2243-calculate-digit-sum-of-a-string/"> &laquo; Leetcode 2243: Calculate Digit Sum of a String</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="https://www.grid47.xyz/leetcode/solution-2249-count-lattice-points-inside-a-circle/">Leetcode 2249: Count Lattice Points Inside a Circle &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>                                                            
                    
                </div>
                
            </div>
        </div>
        
        
    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/database">database</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="https://www.grid47.xyz/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
