<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2320: Count Number of Ways to Place Houses | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2320: Count Number of Ways to Place Houses">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2320: Count Number of Ways to Place Houses in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2320-count-number-of-ways-to-place-houses/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2320: Count Number of Ways to Place Houses">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2320: Count Number of Ways to Place Houses in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2320: Count Number of Ways to Place Houses</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode686s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> mod <span style="color:#666">=</span> <span style="color:#666">1000000007</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">typedef</span> <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> dp;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">countHousePlacements</span>(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        dp.resize(n <span style="color:#666">+</span> <span style="color:#666">1</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> (<span style="color:#666">2</span>, <span style="color:#666">-</span><span style="color:#666">1</span>));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ll res <span style="color:#666">=</span> ( rec(n, <span style="color:#666">0</span>) <span style="color:#666">+</span> rec(n, <span style="color:#666">1</span>) ) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> (res <span style="color:#666">*</span> res ) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">rec</span>(<span style="color:#0b0;font-weight:bold">int</span> n, <span style="color:#0b0;font-weight:bold">bool</span> filled) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(n <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(dp[n][filled] <span style="color:#666">!=</span> <span style="color:#666">-</span><span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> dp[n][filled];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(filled)  <span style="color:#a2f;font-weight:bold">return</span> dp[n][filled] <span style="color:#666">=</span> rec(n <span style="color:#666">-</span> <span style="color:#666">1</span>, <span style="color:#666">!</span>filled);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">else</span>        <span style="color:#a2f;font-weight:bold">return</span> dp[n][filled] <span style="color:#666">=</span> ( rec(n <span style="color:#666">-</span> <span style="color:#666">1</span>, filled) <span style="color:#666">+</span> rec(n <span style="color:#666">-</span> <span style="color:#666">1</span>, <span style="color:#666">!</span>filled) ) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to determine how many ways we can place houses on a street of length <code>n</code> such that no two houses are adjacent. We are asked to return the result modulo <code>10^9 + 7</code>. The challenge is to compute the number of valid configurations efficiently, considering that <code>n</code> can be large.</p>
<p>A <strong>house</strong> can either be placed or not placed on each unit of the street, with the restriction that no two houses can be placed next to each other.</p>
<p>For example, if <code>n = 3</code>, the valid configurations are:</p>
<ul>
<li>No house: <code>[]</code></li>
<li>One house at position 1: <code>[1, 0, 0]</code></li>
<li>One house at position 2: <code>[0, 1, 0]</code></li>
<li>One house at position 3: <code>[0, 0, 1]</code></li>
<li>Two houses: <code>[1, 0, 1]</code></li>
</ul>
<p>Thus, the task is to count the number of ways to place the houses on the street following these rules.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can use <strong>dynamic programming</strong> (DP). The idea is to break the problem down into smaller subproblems where we calculate how many ways houses can be placed for smaller lengths of the street, and then use these results to build up the solution for the full street.</p>
<h4 id="key-observations">Key Observations:</h4>
<ol>
<li>We need to keep track of whether the last position in the street is occupied by a house or not. This will help us decide whether we can place a house at the next position or not.</li>
<li>If the last position is empty, we have two choices:
<ul>
<li>Place a house in the current position and move to the next position (which must be empty).</li>
<li>Leave the current position empty and move to the next position.</li>
</ul>
</li>
<li>If the last position is filled with a house, we can only leave the next position empty.</li>
</ol>
<h4 id="dynamic-programming-definition">Dynamic Programming Definition:</h4>
<ul>
<li>Let <code>dp[n][0]</code> represent the number of ways to place houses on a street of length <code>n</code> where the last position is empty.</li>
<li>Let <code>dp[n][1]</code> represent the number of ways to place houses on a street of length <code>n</code> where the last position is filled with a house.</li>
</ul>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-dp-table">Step 1: Initialize DP Table</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>dp.resize(n <span style="color:#666">+</span> <span style="color:#666">1</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>(<span style="color:#666">2</span>, <span style="color:#666">-</span><span style="color:#666">1</span>));
</span></span></code></pre></div><ul>
<li>Here, we initialize a DP table <code>dp</code> with dimensions <code>(n+1) x 2</code>. Each entry represents the number of ways to place houses on a street of length <code>i</code> (<code>i</code> from 0 to <code>n</code>), either with the last position empty (represented by <code>0</code>) or filled (represented by <code>1</code>).</li>
<li>Initially, all values are set to <code>-1</code>, meaning they are uncomputed.</li>
</ul>
<h4 id="step-2-base-case-for-recursive-function">Step 2: Base Case for Recursive Function</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(n <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>If the length of the street is 1, there is exactly 1 way to place houses (either place a house or don&rsquo;t place a house).</li>
</ul>
<h4 id="step-3-recursive-function-definition">Step 3: Recursive Function Definition</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(dp[n][filled] <span style="color:#666">!=</span> <span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> dp[n][filled];
</span></span></code></pre></div><ul>
<li>If we&rsquo;ve already computed the result for <code>dp[n][filled]</code>, we return the stored value to avoid redundant computation.</li>
</ul>
<h4 id="step-4-handle-the-filled-case">Step 4: Handle the Filled Case</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(filled) <span style="color:#a2f;font-weight:bold">return</span> dp[n][filled] <span style="color:#666">=</span> rec(n <span style="color:#666">-</span> <span style="color:#666">1</span>, <span style="color:#666">!</span>filled);
</span></span></code></pre></div><ul>
<li>If the last position is filled, then the previous position must be empty, so we recursively compute the number of valid configurations for <code>n-1</code> positions with the last position empty (<code>!filled</code>).</li>
</ul>
<h4 id="step-5-handle-the-empty-case">Step 5: Handle the Empty Case</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">return</span> dp[n][filled] <span style="color:#666">=</span> ( rec(n <span style="color:#666">-</span> <span style="color:#666">1</span>, filled) <span style="color:#666">+</span> rec(n <span style="color:#666">-</span> <span style="color:#666">1</span>, <span style="color:#666">!</span>filled) ) <span style="color:#666">%</span> mod;
</span></span></code></pre></div><ul>
<li>If the last position is empty, then we have two choices:
<ul>
<li>We can either place a house at the current position and recursively solve for <code>n-1</code> with the last position filled.</li>
<li>Or we can leave the current position empty and recursively solve for <code>n-1</code> with the last position empty.</li>
</ul>
</li>
<li>We compute the sum of these two cases and take the result modulo <code>10^9 + 7</code> (denoted as <code>mod</code>).</li>
</ul>
<h4 id="step-6-final-computation-in-counthouseplacements">Step 6: Final Computation in <code>countHousePlacements</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ll res <span style="color:#666">=</span> ( rec(n, <span style="color:#666">0</span>) <span style="color:#666">+</span> rec(n, <span style="color:#666">1</span>) ) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> (res <span style="color:#666">*</span> res) <span style="color:#666">%</span> mod;
</span></span></code></pre></div><ul>
<li>The final result is the square of the sum of the two possibilities: one with the last position empty (<code>rec(n, 0)</code>) and one with the last position filled (<code>rec(n, 1)</code>).</li>
<li>We return this result modulo <code>10^9 + 7</code>.</li>
</ul>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<h4 id="example-1-n--3">Example 1: <code>n = 3</code></h4>
<p>We can visualize the function calls for <code>n = 3</code>:</p>
<ul>
<li><code>countHousePlacements(3)</code> calls <code>rec(3, 0)</code> and <code>rec(3, 1)</code>.</li>
<li><code>rec(3, 0)</code> computes the number of ways to place houses with the last position empty.</li>
<li><code>rec(3, 1)</code> computes the number of ways to place houses with the last position filled.</li>
<li>The final result is the square of the sum of these values modulo <code>10^9 + 7</code>.</li>
</ul>
<h4 id="example-2-n--4">Example 2: <code>n = 4</code></h4>
<p>For <code>n = 4</code>, we follow a similar recursive breakdown:</p>
<ul>
<li><code>countHousePlacements(4)</code> calls <code>rec(4, 0)</code> and <code>rec(4, 1)</code>.</li>
<li>Each recursive call continues breaking down the problem until the base case is reached.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: The DP table has <code>n+1</code> rows and 2 columns. We compute each entry at most once, and each entry computation involves only constant-time operations. Therefore, the time complexity is O(n).</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: We store the DP table, which has a size of <code>(n+1) x 2</code>. Thus, the space complexity is O(n).</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution uses dynamic programming to efficiently count the number of ways to place houses on a street of length <code>n</code> such that no two houses are adjacent. The key insight is to recursively calculate the number of valid configurations for smaller subproblems and store the results in a DP table to avoid redundant computations.</p>
<p>The time and space complexity of this solution is linear in terms of the size of the input, making it suitable for large values of <code>n</code>. The final result is returned modulo <code>10^9 + 7</code> to ensure that it fits within typical integer limits and avoids overflow.</p>
<p><a href="https://leetcode.com/problems/count-number-of-ways-to-place-houses/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/9K92zYtgjrk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
