<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 554: Brick Wall | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 554: Brick Wall">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 554: Brick Wall in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-554-brick-wall/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 554: Brick Wall">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 554: Brick Wall in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 554: Brick Wall</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1197s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/554.webp" 
           alt="A wall made of bricks where the minimum number of bricks to be removed is calculated, with the optimal brick removals glowing." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 554: Brick Wall Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1197s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> leastBricks(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> wall) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> edge_freq;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> max_freq <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> row <span style="color:#666">=</span> <span style="color:#666">0</span>; row <span style="color:#666">&lt;</span> wall.size(); row<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> edge_pos <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> brick_no <span style="color:#666">=</span> <span style="color:#666">0</span>; brick_no <span style="color:#666">&lt;</span> wall[row].size() <span style="color:#666">-</span> <span style="color:#666">1</span>; brick_no<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> curr_brick_length <span style="color:#666">=</span> wall[row][brick_no];
</span></span><span style="display:flex;"><span>                edge_pos <span style="color:#666">=</span> edge_pos <span style="color:#666">+</span> curr_brick_length;
</span></span><span style="display:flex;"><span>                edge_freq[edge_pos]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                max_freq <span style="color:#666">=</span> max(edge_freq[edge_pos], max_freq);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> wall.size() <span style="color:#666">-</span> max_freq;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves a wall made up of bricks, where each brick has a certain length. The goal is to find the least number of bricks that a vertical line can intersect. In other words, a vertical line can be drawn through the wall, and we want to minimize the number of bricks it crosses. The optimal solution minimizes the intersections by finding the positions where the vertical line crosses through the least number of bricks.</p>
<p>For example:</p>
<ul>
<li>A wall of size <code>[[1, 2, 2], [3, 1, 2], [2, 3], [2, 2, 3]]</code> would have the least number of bricks intersected by drawing a vertical line at the position where the most brick edges align.</li>
</ul>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can use the following approach:</p>
<ol>
<li><strong>Identify Brick Edges</strong>: Each brick in the wall has an edge that defines its position. A vertical line will intersect a brick if it crosses its boundary (an edge).</li>
<li><strong>Track Edge Frequencies</strong>: For each row in the wall, calculate the cumulative position of the brick edges, and keep a frequency count of how many rows share the same edge position. The more rows that share the same edge, the fewer bricks a vertical line will intersect at that position.</li>
<li><strong>Maximize Edge Alignment</strong>: The position with the highest frequency of edges indicates the optimal place to draw the vertical line, as it minimizes the number of bricks intersected. The fewer the edges crossed, the fewer the bricks intersected.</li>
<li><strong>Calculate the Result</strong>: The minimum number of bricks crossed is equal to the total number of rows minus the maximum frequency of edge alignments. This is because the vertical line intersects all rows except the ones where the edges align perfectly.</li>
</ol>
<p>By following this approach, we can efficiently determine the optimal position for the vertical line.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-class-and-function-definition">1. <strong>Class and Function Definition</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> leastBricks(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> wall) {
</span></span></code></pre></div><ul>
<li>The solution is encapsulated in the <code>Solution</code> class, and the main function <code>leastBricks</code> is defined.</li>
<li>The function takes <code>wall</code>, a vector of vectors of integers, which represents the dimensions of the bricks in the wall.</li>
</ul>
<h4 id="2-initialize-edge-frequency-map">2. <strong>Initialize Edge Frequency Map</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> edge_freq;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> max_freq <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>edge_freq</code> is an unordered map (hash table) that will store the frequency of each edge position (the cumulative position where a brick edge occurs).</li>
<li><code>max_freq</code> keeps track of the maximum frequency of edges at any given position.</li>
</ul>
<h4 id="3-iterating-over-rows-and-calculating-edge-positions">3. <strong>Iterating Over Rows and Calculating Edge Positions</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> row <span style="color:#666">=</span> <span style="color:#666">0</span>; row <span style="color:#666">&lt;</span> wall.size(); row<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> edge_pos <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> brick_no <span style="color:#666">=</span> <span style="color:#666">0</span>; brick_no <span style="color:#666">&lt;</span> wall[row].size() <span style="color:#666">-</span> <span style="color:#666">1</span>; brick_no<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> curr_brick_length <span style="color:#666">=</span> wall[row][brick_no];
</span></span><span style="display:flex;"><span>                edge_pos <span style="color:#666">=</span> edge_pos <span style="color:#666">+</span> curr_brick_length;
</span></span><span style="display:flex;"><span>                edge_freq[edge_pos]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                max_freq <span style="color:#666">=</span> max(edge_freq[edge_pos], max_freq);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>The outer loop iterates through each row of the wall.</li>
<li>The <code>edge_pos</code> variable tracks the cumulative position of brick edges along the row.</li>
<li>The inner loop iterates through each brick in the row, but skips the last brick (<code>wall[row].size() - 1</code>), as we only care about the edges between bricks.</li>
<li>For each brick, we update <code>edge_pos</code> by adding the current brick&rsquo;s length, then we increment the frequency of the <code>edge_pos</code> in the <code>edge_freq</code> map.</li>
<li>We also update <code>max_freq</code> to reflect the maximum frequency of edge alignments, which tells us the most optimal vertical line position (where the least number of bricks will be intersected).</li>
</ul>
<h4 id="4-calculate-the-result">4. <strong>Calculate the Result</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> wall.size() <span style="color:#666">-</span> max_freq;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Finally, the result is calculated by subtracting <code>max_freq</code> from the total number of rows in the wall (<code>wall.size()</code>).</li>
<li>The reason we subtract <code>max_freq</code> is that the rows where the edges align perfectly with the vertical line will not have any bricks intersected. Thus, the fewer the number of rows that intersect with the line, the fewer the bricks that will be crossed.</li>
<li>The function returns this value as the result.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity of the algorithm is <strong>O(N * M)</strong>, where <code>N</code> is the number of rows in the wall (<code>wall.size()</code>) and <code>M</code> is the average number of bricks in each row (<code>wall[i].size()</code>). This is because we iterate through each brick in the wall once.</li>
<li>The operations within the loops (updating the <code>edge_freq</code> map and calculating the cumulative positions) are constant-time operations on average, due to the efficient lookup and update times of an unordered map (hash table).</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(K)</strong>, where <code>K</code> is the number of unique edge positions encountered during the iterations. This corresponds to the number of different cumulative positions of the brick edges across all rows. Since in the worst case, each brick could have a different edge position, this is proportional to the number of bricks in the wall.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently computes the least number of bricks a vertical line intersects by focusing on the cumulative positions of brick edges across the rows. By tracking these positions and their frequencies, the algorithm determines the optimal line placement that minimizes intersections.</p>
<p><strong>Key Points:</strong></p>
<ul>
<li>The problem is solved by analyzing brick edges and finding the optimal vertical line placement.</li>
<li>The frequency of edge positions helps identify the best position for the vertical line.</li>
<li>The solution is both time and space efficient, with a time complexity of <strong>O(N * M)</strong> and space complexity of <strong>O(K)</strong>.</li>
</ul>
<p>This approach provides a clear, optimal, and efficient way to solve the problem by leveraging hash maps and frequency counting, making it a great example of how to optimize problems involving spatial arrangements.</p>
<p><a href="https://leetcode.com/problems/brick-wall/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/Kkmv2h48ekw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
