<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1995: Count Special Quadruplets | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1995: Count Special Quadruplets">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1995: Count Special Quadruplets in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1995-count-special-quadruplets/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1995: Count Special Quadruplets">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1995: Count Special Quadruplets in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Enumeration">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1995: Count Special Quadruplets</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode496s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countQuadruplets(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">const</span> <span style="color:#a2f;font-weight:bold">auto</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> freq;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        freq[nums[n <span style="color:#666">-</span> <span style="color:#666">1</span>]] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        size_t answ <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>; i <span style="color:#666">&gt;</span> <span style="color:#666">1</span>; <span style="color:#666">--</span>i)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i <span style="color:#666">-</span> <span style="color:#666">1</span>; j <span style="color:#666">&gt;</span> <span style="color:#666">0</span>; <span style="color:#666">--</span>j)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> k <span style="color:#666">=</span> j <span style="color:#666">-</span> <span style="color:#666">1</span>; k <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; <span style="color:#666">--</span>k)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span> (freq.count(nums[i] <span style="color:#666">+</span> nums[j] <span style="color:#666">+</span> nums[k]))
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        answ <span style="color:#666">+=</span> freq[nums[i] <span style="color:#666">+</span> nums[j] <span style="color:#666">+</span> nums[k]];
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            freq[nums[i]] <span style="color:#666">+=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> answ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves finding the number of quadruplets in a given list of integers, <code>nums</code>, such that the sum of the first three integers in the quadruplet equals the fourth integer. A quadruplet is defined as a collection of four integers ((a, b, c, d)) from the list, with the condition that the indices satisfy (i &lt; j &lt; k &lt; l). The challenge is to compute the count of such valid quadruplets efficiently, especially when the input size can be large.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we utilize a combination of hash maps and nested loops to efficiently count potential quadruplets:</p>
<ol>
<li>
<p><strong>Use of Hash Map</strong>: We maintain a frequency map that keeps track of how many times each number appears in the portion of the array we are currently considering. This allows us to quickly look up how many valid pairs of numbers can sum to a specific target.</p>
</li>
<li>
<p><strong>Iterate from Right to Left</strong>: We iterate through the array in reverse order, considering each number as a potential fourth element of the quadruplet. For each potential fourth element, we calculate all possible sums of the two preceding elements, checking if that sum exists in our frequency map.</p>
</li>
<li>
<p><strong>Triple Nested Loops</strong>: The approach involves three nested loops to consider every combination of the first three numbers in the quadruplet. For each combination, we check if their sum matches the value stored in the frequency map.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s break down the provided code step by step:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countQuadruplets(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">const</span> <span style="color:#a2f;font-weight:bold">auto</span> n <span style="color:#666">=</span> nums.size(); <span style="color:#080;font-style:italic">// Store the size of the input vector
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> freq; <span style="color:#080;font-style:italic">// Initialize a hash map to count occurrences
</span></span></span></code></pre></div><ul>
<li>We define a class <code>Solution</code> with a method <code>countQuadruplets</code> that takes a vector of integers, <code>nums</code>.</li>
<li>The size of <code>nums</code> is stored in <code>n</code>, and we create an unordered map <code>freq</code> to keep track of the frequencies of numbers.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        freq[nums[n <span style="color:#666">-</span> <span style="color:#666">1</span>]] <span style="color:#666">=</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Initialize the frequency map with the last element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        size_t answ <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Variable to store the count of valid quadruplets
</span></span></span></code></pre></div><ul>
<li>We start by initializing the frequency map with the last element of <code>nums</code> since it will be considered as the fourth element of our quadruplets.</li>
<li>The variable <code>answ</code> is used to accumulate the total number of valid quadruplets found.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>; i <span style="color:#666">&gt;</span> <span style="color:#666">1</span>; <span style="color:#666">--</span>i) <span style="color:#080;font-style:italic">// Iterate from the second last element to the third element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i <span style="color:#666">-</span> <span style="color:#666">1</span>; j <span style="color:#666">&gt;</span> <span style="color:#666">0</span>; <span style="color:#666">--</span>j) <span style="color:#080;font-style:italic">// Iterate through the elements to the left of `i`
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> k <span style="color:#666">=</span> j <span style="color:#666">-</span> <span style="color:#666">1</span>; k <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; <span style="color:#666">--</span>k) <span style="color:#080;font-style:italic">// Iterate through the elements to the left of `j`
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span> (freq.count(nums[i] <span style="color:#666">+</span> nums[j] <span style="color:#666">+</span> nums[k])) <span style="color:#080;font-style:italic">// Check if the sum exists in the map
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                    {
</span></span><span style="display:flex;"><span>                        answ <span style="color:#666">+=</span> freq[nums[i] <span style="color:#666">+</span> nums[j] <span style="color:#666">+</span> nums[k]]; <span style="color:#080;font-style:italic">// Update the count of valid quadruplets
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            freq[nums[i]] <span style="color:#666">+=</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">// Update the frequency map with the current element
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> answ; <span style="color:#080;font-style:italic">// Return the total count of quadruplets
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>The outermost loop iterates over each potential fourth element of the quadruplet, starting from the second last element and moving left.</li>
<li>The second nested loop iterates through the elements to the left of <code>i</code>, treating each as a potential second element.</li>
<li>The innermost loop iterates through elements to the left of <code>j</code>, treating them as potential first elements.</li>
<li>For each combination of <code>nums[i]</code>, <code>nums[j]</code>, and <code>nums[k]</code>, we check if their sum exists in our frequency map. If it does, we add the corresponding frequency to our answer.</li>
<li>After processing the combinations for a given <code>i</code>, we update the frequency map to include the current number <code>nums[i]</code>.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this algorithm is (O(n^3)), where (n) is the length of the input array. This is due to the three nested loops iterating through the array, leading to a cubic number of combinations being checked. Although this seems high, the constraints of the problem (size of the input) may allow for this approach in many competitive programming scenarios.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the hash map storing the frequencies of numbers in the array. This space will be used to store potentially all unique numbers in the array.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution efficiently counts the number of quadruplets in an integer array where the sum of the first three numbers equals the fourth number. By leveraging a frequency map and iterating through the array in reverse, we can quickly determine valid combinations without needing to check all possible quadruplets explicitly. This method, while having a cubic time complexity, is straightforward and works within the constraints typically given in competitive programming challenges.</p>
<p>The code effectively demonstrates how to utilize hash maps for counting occurrences and efficiently compute the required sums, showcasing an effective application of nested loops and combinatorial logic.</p>
<h3 id="example-usage">Example Usage</h3>
<p>Here’s an example of how to use the <code>Solution</code> class to count quadruplets in a given list of integers:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080">#include</span> <span style="color:#080">&lt;iostream&gt;</span><span style="color:#080">
</span></span></span><span style="display:flex;"><span><span style="color:#080">#include</span> <span style="color:#080">&lt;vector&gt;</span><span style="color:#080">
</span></span></span><span style="display:flex;"><span><span style="color:#080"></span><span style="color:#a2f;font-weight:bold">using</span> <span style="color:#a2f;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">main</span>() {
</span></span><span style="display:flex;"><span>    Solution sol;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> nums <span style="color:#666">=</span> {<span style="color:#666">1</span>, <span style="color:#666">2</span>, <span style="color:#666">3</span>, <span style="color:#666">6</span>}; <span style="color:#080;font-style:italic">// Example input
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">int</span> result <span style="color:#666">=</span> sol.countQuadruplets(nums);
</span></span><span style="display:flex;"><span>    cout <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;Number of valid quadruplets: &#34;</span> <span style="color:#666">&lt;&lt;</span> result <span style="color:#666">&lt;&lt;</span> endl; <span style="color:#080;font-style:italic">// Should print the count of valid quadruplets
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This simple example initializes the <code>Solution</code> object and passes an array of integers to count the valid quadruplets, demonstrating practical usage of the method.</p>
<p><a href="https://leetcode.com/problems/count-special-quadruplets/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/H06N-OsxpoE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
