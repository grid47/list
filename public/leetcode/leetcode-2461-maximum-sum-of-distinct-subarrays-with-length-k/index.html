<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2461: Maximum Sum of Distinct Subarrays With Length K | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2461: Maximum Sum of Distinct Subarrays With Length K">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2461: Maximum Sum of Distinct Subarrays With Length K in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2461-maximum-sum-of-distinct-subarrays-with-length-k/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2461: Maximum Sum of Distinct Subarrays With Length K">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2461: Maximum Sum of Distinct Subarrays With Length K in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-05T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2461: Maximum Sum of Distinct Subarrays With Length K</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode775s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> maximumSubarraySum(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(), j <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            sum <span style="color:#666">+=</span> nums[i];
</span></span><span style="display:flex;"><span>            mp[nums[i]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&gt;</span> k <span style="color:#666">||</span> mp[nums[i]] <span style="color:#666">&gt;</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>                mp[nums[j]]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                sum <span style="color:#666">-=</span> nums[j];
</span></span><span style="display:flex;"><span>                j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>((i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">==</span> k) {
</span></span><span style="display:flex;"><span>                ans <span style="color:#666">=</span> max(sum, ans);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>In this problem, we are given an array of integers <code>nums</code> and an integer <code>k</code>. Our task is to find the maximum sum of a subarray of length <code>k</code> in the array, where the subarray does not contain any duplicate elements. We need to return the maximum sum of such subarrays.</p>
<h3 id="approach">Approach:</h3>
<p>The approach to solving this problem involves using the sliding window technique combined with a hash map (or a map in C++) to keep track of the frequency of elements in the current subarray. The window is adjusted to ensure that no duplicate elements are present within the subarray. Here&rsquo;s how we can solve this efficiently:</p>
<ol>
<li>
<p><strong>Sliding Window Technique</strong>:</p>
<ul>
<li>The sliding window helps us to explore subarrays of length <code>k</code> efficiently. Instead of recalculating the sum for every subarray from scratch, we maintain a running sum for the current window and adjust it as the window slides.</li>
</ul>
</li>
<li>
<p><strong>Tracking Duplicates</strong>:</p>
<ul>
<li>We need to ensure that the current subarray has no duplicates. This can be easily tracked using a map where the key is the number and the value is the frequency of that number in the current subarray. If any number appears more than once, the subarray is invalid, and we shrink the window until it becomes valid again.</li>
</ul>
</li>
<li>
<p><strong>Maximizing the Sum</strong>:</p>
<ul>
<li>As we slide the window through the array, we keep track of the maximum sum encountered while maintaining a valid subarray.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<p>Let’s break down the code to understand each part:</p>
<ol>
<li>
<p><strong>Function Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#00a000">maximumSubarraySum</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span></code></pre></div><ul>
<li>The function <code>maximumSubarraySum</code> takes a vector <code>nums</code> of integers and an integer <code>k</code> as inputs and returns a <code>long long</code> value representing the maximum sum of a subarray of length <code>k</code> with no duplicates.</li>
</ul>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size(), j <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span></code></pre></div><ul>
<li><code>sum</code>: This variable stores the running sum of the current subarray.</li>
<li><code>ans</code>: This variable stores the maximum sum encountered so far.</li>
<li><code>n</code>: The size of the input array <code>nums</code>.</li>
<li><code>j</code>: This is the starting index of the sliding window.</li>
<li><code>mp</code>: A map that tracks the frequency of elements in the current subarray.</li>
</ul>
</li>
<li>
<p><strong>Iterating Through the Array</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    sum <span style="color:#666">+=</span> nums[i];
</span></span><span style="display:flex;"><span>    mp[nums[i]]<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>We iterate over the array using the index <code>i</code>, which represents the current end of the sliding window.</li>
<li>For each element <code>nums[i]</code>, we add it to the running sum <code>sum</code> and update its count in the map <code>mp</code>.</li>
</ul>
</li>
<li>
<p><strong>Shrinking the Window for Invalid Subarrays</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&gt;</span> k <span style="color:#666">||</span> mp[nums[i]] <span style="color:#666">&gt;</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>    mp[nums[j]]<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>    sum <span style="color:#666">-=</span> nums[j];
</span></span><span style="display:flex;"><span>    j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The condition <code>i - j + 1 &gt; k</code> ensures that the window size remains at most <code>k</code>. If the window size exceeds <code>k</code>, we shrink it by moving the start index <code>j</code> forward.</li>
<li>The condition <code>mp[nums[i]] &gt; 1</code> ensures that there are no duplicate elements in the window. If a duplicate element is found (i.e., the count of <code>nums[i]</code> exceeds 1), we move <code>j</code> forward to shrink the window until it becomes valid again.</li>
</ul>
</li>
<li>
<p><strong>Updating the Maximum Sum</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>((i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">==</span> k) {
</span></span><span style="display:flex;"><span>    ans <span style="color:#666">=</span> max(sum, ans);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>After ensuring that the window is valid (with no duplicates and size exactly <code>k</code>), we check if the current window has exactly <code>k</code> elements.</li>
<li>If so, we update the <code>ans</code> variable to store the maximum sum encountered so far by comparing <code>sum</code> with <code>ans</code>.</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Finally, the function returns <code>ans</code>, which holds the maximum sum of any subarray of length <code>k</code> that contains no duplicates.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity:</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity of the algorithm is ( O(n) ), where ( n ) is the number of elements in the input array <code>nums</code>.</li>
<li>This is because the sliding window only moves the start index <code>j</code> and the end index <code>i</code> once over the array. The inner <code>while</code> loop ensures that the window is valid and does not cause repeated traversal of any element in the array.</li>
<li>The map operations (insertion, deletion, and lookup) all take ( O(\log k) ) time, but since we only use a fixed amount of space for tracking frequencies (at most <code>k</code> elements), the complexity remains linear with respect to the number of elements in the array.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is ( O(k) ), where ( k ) is the size of the sliding window. The map <code>mp</code> stores the frequency of elements in the current window, and the maximum number of distinct elements in the window is <code>k</code>. Therefore, the space complexity is proportional to <code>k</code>.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion:</h3>
<p>The <code>maximumSubarraySum</code> function efficiently solves the problem of finding the maximum sum of a subarray of length <code>k</code> with no duplicates using the sliding window technique. By maintaining a running sum and using a map to track the frequencies of elements in the current window, the algorithm ensures that we can efficiently find the result in linear time.</p>
<p>This approach is optimal for solving the problem, as it processes each element of the array at most twice (once when expanding the window and once when shrinking it), leading to a time complexity of ( O(n) ). The space complexity is ( O(k) ), as we only need to store at most <code>k</code> elements in the map. This makes the solution both time and space efficient, suitable for large inputs.</p>
<p><a href="https://leetcode.com/problems/maximum-sum-of-distinct-subarrays-with-length-k/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/o8XmnEBQrLs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
