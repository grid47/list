<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 560: Subarray Sum Equals K | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 560: Subarray Sum Equals K">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 560: Subarray Sum Equals K in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-560-subarray-sum-equals-k/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 560: Subarray Sum Equals K">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 560: Subarray Sum Equals K in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 560: Subarray Sum Equals K</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1201s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/560.webp" 
           alt="An array where subarrays that sum to `k` are highlighted, each valid sum softly glowing as it is found." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 560: Subarray Sum Equals K Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1201s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> subarraySum(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> k) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        mp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            sum <span style="color:#666">+=</span> nums[i];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp.count(sum <span style="color:#666">-</span> k)) cnt <span style="color:#666">+=</span> mp[sum <span style="color:#666">-</span> k];
</span></span><span style="display:flex;"><span>            mp[sum] <span style="color:#666">+=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The task is to find the number of subarrays in a given array of integers <code>nums</code> whose sum equals a given integer <code>k</code>. A subarray is any contiguous section of the array. This is a typical problem that can be solved efficiently using a combination of hashing and prefix sums.</p>
<h3 id="approach">Approach:</h3>
<p>This problem can be efficiently solved using a <strong>prefix sum</strong> approach combined with a <strong>hash map</strong> (unordered map). The idea is to maintain the sum of all elements from the beginning of the array up to each point, and store the number of times each sum occurs. If the difference between the current prefix sum and <code>k</code> has been seen before, it means there is a subarray whose sum equals <code>k</code>.</p>
<h4 id="key-observations">Key Observations:</h4>
<ul>
<li><strong>Prefix Sum:</strong> The sum of elements from the start of the array up to a particular index.</li>
<li><strong>HashMap (unordered_map):</strong> It helps to keep track of how many times each prefix sum has occurred.</li>
</ul>
<p>The algorithm works by iterating through the array while maintaining a running sum (<code>sum</code>). If at any point the difference <code>sum - k</code> has appeared previously in the array, it means that there exists a subarray that sums to <code>k</code>. By counting how many times <code>sum - k</code> has appeared, we can determine how many subarrays end at the current index that sum to <code>k</code>.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<h4 id="step-1-initialize-result-and-data-structures">Step 1: Initialize Result and Data Structures</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Variable to store the final count of subarrays
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;  <span style="color:#080;font-style:italic">// HashMap to store the count of prefix sums
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>mp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// We initialize with 0 to handle cases where a subarray starting from index 0 sums to k
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// sum tracks the running sum of elements; cnt is for counting subarrays
</span></span></span></code></pre></div><p>Here, <code>res</code> is the variable that will store the final result. The map <code>mp</code> is initialized to store the frequency of prefix sums encountered during iteration. We start by assuming that the sum of 0 has occurred once, which is necessary for cases where a subarray itself directly sums to <code>k</code> from the beginning. <code>sum</code> holds the running total as we iterate through <code>nums</code>, and <code>cnt</code> tracks how many subarrays we&rsquo;ve found.</p>
<h4 id="step-2-iterate-over-the-array-and-calculate-prefix-sums">Step 2: Iterate Over the Array and Calculate Prefix Sums</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    sum <span style="color:#666">+=</span> nums[i];  <span style="color:#080;font-style:italic">// Update the running sum with the current element
</span></span></span></code></pre></div><p>We start iterating through the array. At each step, we add the current element <code>nums[i]</code> to <code>sum</code>, which gives the prefix sum up to index <code>i</code>.</p>
<h4 id="step-3-check-for-subarrays-with-sum-equal-to-k">Step 3: Check for Subarrays with Sum Equal to k</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mp.count(sum <span style="color:#666">-</span> k)) cnt <span style="color:#666">+=</span> mp[sum <span style="color:#666">-</span> k];  <span style="color:#080;font-style:italic">// If sum - k has been seen, it means we have a valid subarray
</span></span></span></code></pre></div><p>We check if <code>sum - k</code> is a key in the hash map <code>mp</code>. If it is, it means there exists a previous prefix sum such that the difference between the current sum and this previous sum equals <code>k</code>. This means we have found a subarray with sum <code>k</code>. We increment <code>cnt</code> by the frequency of <code>sum - k</code> in <code>mp</code> because each occurrence of <code>sum - k</code> represents a valid subarray that ends at the current index.</p>
<h4 id="step-4-update-the-hashmap-with-the-current-prefix-sum">Step 4: Update the HashMap with the Current Prefix Sum</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    mp[sum] <span style="color:#666">+=</span> <span style="color:#666">1</span>;  <span style="color:#080;font-style:italic">// Increment the count of the current prefix sum in the hash map
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><p>Finally, we update the hash map to record the occurrence of the current <code>sum</code>. This allows us to track how many times each prefix sum has appeared so far.</p>
<h4 id="step-5-return-the-result">Step 5: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> cnt;  <span style="color:#080;font-style:italic">// Return the total count of subarrays found
</span></span></span></code></pre></div><p>After processing all elements in the array, we return the value of <code>cnt</code>, which contains the total number of subarrays that sum to <code>k</code>.</p>
<h3 id="complexity">Complexity:</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n):</strong> We iterate through the array exactly once, and for each element, we perform constant-time operations: updating the running sum and checking/updating the hash map. Since hash map operations (insertion, lookup) are on average O(1), the overall time complexity is O(n), where <code>n</code> is the size of the input array <code>nums</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(n):</strong> In the worst case, the hash map can store up to <code>n</code> different prefix sums (if every sum encountered is unique). Therefore, the space complexity is O(n).</li>
</ul>
<h3 id="conclusion">Conclusion:</h3>
<p>This approach leverages the efficiency of prefix sums and hash maps to solve the problem in linear time. By maintaining a cumulative sum and storing the frequency of each sum, we can quickly check for subarrays that sum to <code>k</code>. This technique is optimal and well-suited for solving problems involving subarrays and cumulative sums, providing both time and space efficiency.</p>
<p><a href="https://leetcode.com/problems/subarray-sum-equals-k/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/fFVZt-6sgyo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
