<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 443: String Compression | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 443: String Compression">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 443: String Compression in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-443-string-compression/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 443: String Compression">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 443: String Compression in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="String">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 443: String Compression</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1140s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/443.webp" 
           alt="A string shrinking as characters are compressed, with each compression step softly glowing." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 443: String Compression Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1140s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> compress(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span><span style="color:#666">&gt;&amp;</span> chars) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(chars.size() <span style="color:#666">&lt;</span> <span style="color:#666">2</span>) <span style="color:#a2f;font-weight:bold">return</span> chars.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> chars.size()) {
</span></span><span style="display:flex;"><span>            chars[j] <span style="color:#666">=</span> chars[i];
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> chars.size() <span style="color:#666">&amp;&amp;</span> chars[i] <span style="color:#666">==</span> chars[j]) {
</span></span><span style="display:flex;"><span>                cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(cnt <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>                j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                string cntt <span style="color:#666">=</span> to_string(cnt);
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">ch</span>: cntt) {
</span></span><span style="display:flex;"><span>                    chars[<span style="color:#666">++</span>j] <span style="color:#666">=</span> ch;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> j;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to implement a string compression algorithm. Given a list of characters, we need to compress the string by replacing consecutive repeated characters with a single character followed by the count of its repetitions. For example, the input <code>[&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]</code> should be compressed to <code>[&quot;a&quot;,&quot;2&quot;,&quot;b&quot;,&quot;2&quot;,&quot;c&quot;,&quot;3&quot;]</code>. The goal is to compress the list in-place, using the minimum amount of extra space, and return the new length of the compressed list.</p>
<h3 id="approach">Approach</h3>
<p>The key idea behind this solution is to use a two-pointer approach to iterate through the <code>chars</code> array and compress consecutive characters as we encounter them. The approach works by:</p>
<ol>
<li><strong>Iterating through the input array</strong>: Using a pointer <code>i</code> to traverse through each character and another pointer <code>j</code> to place the result of compression.</li>
<li><strong>Counting consecutive characters</strong>: For each character, we count how many times it repeats consecutively.</li>
<li><strong>Compressing the string</strong>: If the character repeats more than once, we add both the character and the count of its occurrences to the <code>chars</code> array. If it only appears once, we just add the character.</li>
<li><strong>Updating the pointer</strong>: After processing a sequence of repeated characters, we update the pointer <code>j</code> accordingly and continue to the next unique character.</li>
<li><strong>Handling edge cases</strong>: Special cases like when the input string has fewer than two characters or no characters at all are handled early in the function.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-handle-short-inputs">Step 1: Handle Short Inputs</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(chars.size() <span style="color:#666">&lt;</span> <span style="color:#666">2</span>) <span style="color:#a2f;font-weight:bold">return</span> chars.size();
</span></span></code></pre></div><ul>
<li>We first handle the base case where the input has fewer than two characters. In this case, there’s no compression to do, so the function simply returns the size of the input.</li>
</ul>
<h4 id="step-2-initialize-pointers">Step 2: Initialize Pointers</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>Two pointers are initialized: <code>i</code> is used to traverse the array to find consecutive characters, and <code>j</code> is used to place the result of the compression.</li>
</ul>
<h4 id="step-3-main-loop-to-traverse-and-compress">Step 3: Main Loop to Traverse and Compress</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> chars.size()) {
</span></span><span style="display:flex;"><span>    chars[j] <span style="color:#666">=</span> chars[i];
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>The loop begins with <code>i</code> pointing to the first character. The character at <code>chars[i]</code> is placed at <code>chars[j]</code> to preserve it for later compression. We also initialize a counter <code>cnt</code> to zero to count the consecutive occurrences of the current character.</li>
</ul>
<h4 id="step-4-count-consecutive-occurrences">Step 4: Count Consecutive Occurrences</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> chars.size() <span style="color:#666">&amp;&amp;</span> chars[i] <span style="color:#666">==</span> chars[j]) {
</span></span><span style="display:flex;"><span>    cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We use an inner <code>while</code> loop to count how many times the current character repeats consecutively in the array. Each time we find a match (<code>chars[i] == chars[j]</code>), we increment the counter <code>cnt</code> and move the pointer <code>i</code> to the next character.</li>
</ul>
<h4 id="step-5-handle-the-count-of-repeated-characters">Step 5: Handle the Count of Repeated Characters</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(cnt <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>    j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    string cntt <span style="color:#666">=</span> to_string(cnt);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">ch</span>: cntt) {
</span></span><span style="display:flex;"><span>        chars[<span style="color:#666">++</span>j] <span style="color:#666">=</span> ch;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the character appears only once (i.e., <code>cnt == 1</code>), we simply increment the pointer <code>j</code> to place the next character.</li>
<li>If the character appears more than once, we convert the count <code>cnt</code> to a string and place each digit of the count in the <code>chars</code> array, updating <code>j</code> each time we place a character or digit.</li>
</ul>
<h4 id="step-6-return-the-new-length">Step 6: Return the New Length</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> j;
</span></span></code></pre></div><ul>
<li>Finally, the function returns <code>j</code>, which represents the new length of the compressed string after the in-place compression is done.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity of the solution is <code>O(n)</code>, where <code>n</code> is the size of the <code>chars</code> array. This is because we only traverse the input array once, and the inner loop only operates on a limited number of characters (i.e., the digits of the count). The overall number of iterations is proportional to the length of the input array, so the time complexity is linear.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <code>O(1)</code>, which means that the algorithm uses constant space, excluding the input and output. The compression is done in-place, meaning we do not use any additional data structures to store intermediate results (other than a small number of variables like <code>i</code>, <code>j</code>, and <code>cnt</code>).</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution provides an efficient in-place approach to compressing a list of characters by replacing consecutive repeated characters with the character followed by the number of occurrences. It uses a two-pointer technique to traverse the list, counting consecutive characters and placing the result directly into the input array. The time complexity is linear (<code>O(n)</code>), making this approach very efficient for large inputs. The space complexity is constant (<code>O(1)</code>), making it an optimal solution in terms of memory usage as well.</p>
<p>By following this method, the function efficiently solves the problem while maintaining the required constraints and ensuring that the output is in the correct compressed format.</p>
<p><a href="https://leetcode.com/problems/string-compression/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/JHTqvUTZzqM?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
