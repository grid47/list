<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 445: Add Two Numbers II | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 445: Add Two Numbers II">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 445: Add Two Numbers II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-445-add-two-numbers-ii/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 445: Add Two Numbers II">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 445: Add Two Numbers II in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Linked List">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Stack">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 445: Add Two Numbers II</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1141s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/445.webp" 
           alt="Two linked lists gently adding their digits, with each addition softly illuminated as it occurs." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 445: Add Two Numbers II Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1141s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for singly-linked list.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct ListNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode *next;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode() : val(0), next(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode(int x) : val(x), next(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     ListNode(int x, ListNode *next) : val(x), next(next) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    ListNode<span style="color:#666">*</span> addTwoNumbers(ListNode<span style="color:#666">*</span> l1, ListNode<span style="color:#666">*</span> l2) {
</span></span><span style="display:flex;"><span>        stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s1, s2;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(l1) {
</span></span><span style="display:flex;"><span>            s1.push(l1<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>            l1 <span style="color:#666">=</span> l1<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(l2) {
</span></span><span style="display:flex;"><span>            s2.push(l2<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>            l2 <span style="color:#666">=</span> l2<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cry <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ListNode<span style="color:#666">*</span> node <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>, <span style="color:#666">*</span>prv <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>s1.empty() <span style="color:#666">||</span> <span style="color:#666">!</span>s2.empty()) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>s1.empty()) {
</span></span><span style="display:flex;"><span>                cry <span style="color:#666">+=</span> s1.top();
</span></span><span style="display:flex;"><span>                s1.pop();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>s2.empty()) {
</span></span><span style="display:flex;"><span>                cry <span style="color:#666">+=</span> s2.top();
</span></span><span style="display:flex;"><span>                s2.pop();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(cry <span style="color:#666">%</span> <span style="color:#666">10</span>);
</span></span><span style="display:flex;"><span>            node<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> prv;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            prv <span style="color:#666">=</span> node;
</span></span><span style="display:flex;"><span>            cry <span style="color:#666">/=</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(cry <span style="color:#666">!=</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>            node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(cry <span style="color:#666">%</span><span style="color:#666">10</span>);
</span></span><span style="display:flex;"><span>            node<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> prv;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to add two numbers that are represented as linked lists. Each node in the linked list represents a single digit of the number, where the digits are stored in reverse order (i.e., the least significant digit comes first). The goal is to add these two numbers and return the sum, also represented as a linked list in reverse order.</p>
<p>For example:</p>
<ul>
<li>Input: <code>l1 = [2,4,3]</code>, <code>l2 = [5,6,4]</code></li>
<li>Output: <code>[7,0,8]</code></li>
</ul>
<p>This is because the numbers represented are <code>342</code> and <code>465</code>, and their sum is <code>807</code>, which is stored in reverse order.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can follow the following steps:</p>
<ol>
<li>
<p><strong>Use Stacks to Reverse the Linked Lists</strong>:</p>
<ul>
<li>Since the digits are stored in reverse order in the input lists, it makes sense to push each digit onto a stack. The stack allows us to pop the digits in reverse order, so we can simulate adding the numbers from the least significant digit to the most significant digit.</li>
</ul>
</li>
<li>
<p><strong>Add the Two Numbers Digit by Digit</strong>:</p>
<ul>
<li>While there are digits left in either of the input lists, we pop the digits from the stacks, add them, and keep track of any carry from the addition.</li>
<li>If the sum of the digits exceeds 9, we set a carry for the next addition.</li>
</ul>
</li>
<li>
<p><strong>Handle Carry</strong>:</p>
<ul>
<li>After adding all digits, if there is any remaining carry (i.e., the sum of the last digits is greater than 9), we need to create a new node with the carry as the value.</li>
</ul>
</li>
<li>
<p><strong>Construct the Result Linked List</strong>:</p>
<ul>
<li>Since we need to return the result in reverse order, we can maintain a linked list that is built from the last digit to the first. We start by creating new nodes and linking them together.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-push-digits-to-stacks">Step 1: Push Digits to Stacks</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>stack<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s1, s2;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(l1) {
</span></span><span style="display:flex;"><span>    s1.push(l1<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>    l1 <span style="color:#666">=</span> l1<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(l2) {
</span></span><span style="display:flex;"><span>    s2.push(l2<span style="color:#666">-&gt;</span>val);
</span></span><span style="display:flex;"><span>    l2 <span style="color:#666">=</span> l2<span style="color:#666">-&gt;</span>next;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>First, we initialize two stacks <code>s1</code> and <code>s2</code> to store the digits of <code>l1</code> and <code>l2</code> respectively.</li>
<li>We iterate over the linked lists <code>l1</code> and <code>l2</code>, pushing the values of each node onto the respective stack until we reach the end of both lists.</li>
</ul>
<h4 id="step-2-add-digits-with-carry">Step 2: Add Digits with Carry</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cry <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>ListNode<span style="color:#666">*</span> node <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>, <span style="color:#666">*</span>prv <span style="color:#666">=</span> <span style="color:#a2f">NULL</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>s1.empty() <span style="color:#666">||</span> <span style="color:#666">!</span>s2.empty()) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>s1.empty()) {
</span></span><span style="display:flex;"><span>        cry <span style="color:#666">+=</span> s1.top();
</span></span><span style="display:flex;"><span>        s1.pop();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>s2.empty()) {
</span></span><span style="display:flex;"><span>        cry <span style="color:#666">+=</span> s2.top();
</span></span><span style="display:flex;"><span>        s2.pop();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(cry <span style="color:#666">%</span> <span style="color:#666">10</span>);
</span></span><span style="display:flex;"><span>    node<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> prv;
</span></span><span style="display:flex;"><span>    prv <span style="color:#666">=</span> node;
</span></span><span style="display:flex;"><span>    cry <span style="color:#666">/=</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We initialize a variable <code>cry</code> to keep track of the carry, and pointers <code>node</code> and <code>prv</code> to build the new linked list.</li>
<li>We enter a loop that continues until both stacks are empty.
<ul>
<li>Inside the loop, we check if the stacks <code>s1</code> and <code>s2</code> are non-empty. If they are, we pop the top element from each stack and add it to <code>cry</code>.</li>
<li>We create a new node with the value <code>cry % 10</code> (the digit part of the sum) and update the <code>next</code> pointer of this new node to point to the previously created node (to reverse the order).</li>
<li>After that, we update the carry (<code>cry</code>) to be the integer division of <code>cry</code> by 10, so we can carry over the value if the sum of digits was greater than 9.</li>
</ul>
</li>
</ul>
<h4 id="step-3-handle-remaining-carry">Step 3: Handle Remaining Carry</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(cry <span style="color:#666">!=</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>    node <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> ListNode(cry <span style="color:#666">%</span> <span style="color:#666">10</span>);
</span></span><span style="display:flex;"><span>    node<span style="color:#666">-&gt;</span>next <span style="color:#666">=</span> prv;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>After the loop ends, if there is any leftover carry (<code>cry != 0</code>), we create a new node for it and link it to the result list.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> node;
</span></span></code></pre></div><ul>
<li>Finally, we return the head of the newly created linked list, which holds the sum of the two numbers.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Pushing digits to stacks</strong>: We iterate through the entire length of both input lists (<code>l1</code> and <code>l2</code>), which takes <code>O(n + m)</code> time where <code>n</code> is the length of <code>l1</code> and <code>m</code> is the length of <code>l2</code>.</li>
<li><strong>Adding digits</strong>: In the second loop, we process the digits from the stacks and add them. Since we process each digit once, this also takes <code>O(n + m)</code> time.</li>
<li><strong>Overall Time Complexity</strong>: The time complexity is <code>O(n + m)</code>, where <code>n</code> and <code>m</code> are the lengths of the two input lists.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>We use two stacks to hold the digits of the input linked lists, which each take <code>O(n)</code> and <code>O(m)</code> space respectively.</li>
<li>Additionally, we create a new linked list to hold the result, which takes <code>O(n + m)</code> space.</li>
<li><strong>Overall Space Complexity</strong>: The space complexity is <code>O(n + m)</code> due to the use of the stacks and the result list.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This approach solves the problem efficiently by:</p>
<ul>
<li>Reversing the linked lists using stacks.</li>
<li>Adding the digits from the least significant to the most significant, while handling carries.</li>
<li>Constructing the result linked list in the correct order by using a simple iterative process.</li>
</ul>
<p>The algorithm is optimal with a time complexity of <code>O(n + m)</code> and space complexity of <code>O(n + m)</code>, making it suitable for large input sizes. The solution is simple, easy to understand, and leverages stack operations to reverse the digit order and handle carries effectively.</p>
<p><a href="https://leetcode.com/problems/add-two-numbers-ii/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ovGnWmf2sew?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
