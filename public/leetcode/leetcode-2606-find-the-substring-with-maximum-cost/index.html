<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2606: Find the Substring With Maximum Cost | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2606: Find the Substring With Maximum Cost">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2606: Find the Substring With Maximum Cost in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2606-find-the-substring-with-maximum-cost/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2606: Find the Substring With Maximum Cost">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2606: Find the Substring With Maximum Cost in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2606: Find the Substring With Maximum Cost</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode870s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maximumCostSubstring(string s, string chars, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> vals) {
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> chars.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            mp[chars[i]] <span style="color:#666">=</span> vals[i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">26</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">char</span> x <span style="color:#666">=</span> <span style="color:#b44">&#39;a&#39;</span> <span style="color:#666">+</span> i;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp.count(x)) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            mp[x] <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> lmax <span style="color:#666">=</span> <span style="color:#666">0</span>, gmax <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp[s[i]] <span style="color:#666">&lt;</span> lmax <span style="color:#666">+</span> mp[s[i]]) {
</span></span><span style="display:flex;"><span>                lmax <span style="color:#666">=</span> lmax <span style="color:#666">+</span> mp[s[i]];
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> lmax <span style="color:#666">=</span> mp[s[i]];
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            gmax <span style="color:#666">=</span> max(gmax, lmax);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> gmax;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are tasked with finding the maximum possible cost of a substring in a given string <code>s</code>. The cost of each character in <code>s</code> is determined by a list of values given in the array <code>vals</code> corresponding to a set of characters in the string <code>chars</code>. For the characters in <code>chars</code>, we use the provided values in <code>vals</code>, and for characters that are not in <code>chars</code>, we assign a default value based on their alphabetical position. The goal is to calculate the maximum cost of a substring of <code>s</code>, where the cost of the substring is defined as the sum of the values of its characters.</p>
<h3 id="approach">Approach</h3>
<p>The solution employs the following approach:</p>
<ol>
<li>
<p><strong>Mapping character values</strong>: First, create a map that stores the value for each character in <code>chars</code>. If a character in <code>s</code> is not in <code>chars</code>, its value is assigned based on its position in the alphabet.</p>
</li>
<li>
<p><strong>Kadane’s Algorithm for Maximum Subarray Sum</strong>: Once the values for each character in <code>s</code> are determined, the problem reduces to finding the maximum sum of any contiguous subarray of these values. This is a classic problem solved using Kadane’s algorithm, which keeps track of the running sum and updates the maximum sum encountered.</p>
</li>
<li>
<p><strong>Iterating through the string</strong>: For each character in <code>s</code>, its corresponding value (from the map) is added to the running sum (<code>lmax</code>). If this value decreases the sum (i.e., if the sum becomes negative), we reset the running sum to the value of the current character. The global maximum (<code>gmax</code>) is updated accordingly to track the highest sum seen so far.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-map-the-values-for-characters">1. <strong>Map the values for characters</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> chars.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    mp[chars[i]] <span style="color:#666">=</span> vals[i];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Here, we create a map <code>mp</code> where each character in the <code>chars</code> string is mapped to its corresponding value from <code>vals</code>.</li>
<li>This allows us to easily look up the value for each character in the string <code>s</code>.</li>
</ul>
<h4 id="2-assign-default-values-to-missing-characters">2. <strong>Assign default values to missing characters</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> <span style="color:#666">26</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">char</span> x <span style="color:#666">=</span> <span style="color:#b44">&#39;a&#39;</span> <span style="color:#666">+</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mp.count(x)) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>    mp[x] <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>This loop checks for characters in the alphabet that are not present in the <code>chars</code> string.</li>
<li>For those characters, we assign a default value, which is their alphabetical position. For example, &lsquo;a&rsquo; gets a value of 1, &lsquo;b&rsquo; gets a value of 2, and so on.</li>
</ul>
<h4 id="3-initialize-variables-for-kadanes-algorithm">3. <strong>Initialize variables for Kadane&rsquo;s algorithm</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> lmax <span style="color:#666">=</span> <span style="color:#666">0</span>, gmax <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>lmax</code> keeps track of the current running sum of the substring. It is initialized to 0 because we start with no elements selected.</li>
<li><code>gmax</code> stores the global maximum sum encountered during the iteration through the string <code>s</code>.</li>
</ul>
<h4 id="4-iterate-through-the-string-to-compute-the-maximum-sum">4. <strong>Iterate through the string to compute the maximum sum</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> s.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mp[s[i]] <span style="color:#666">&lt;</span> lmax <span style="color:#666">+</span> mp[s[i]]) {
</span></span><span style="display:flex;"><span>        lmax <span style="color:#666">=</span> lmax <span style="color:#666">+</span> mp[s[i]];
</span></span><span style="display:flex;"><span>    } <span style="color:#a2f;font-weight:bold">else</span> lmax <span style="color:#666">=</span> mp[s[i]];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    gmax <span style="color:#666">=</span> max(gmax, lmax);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The loop iterates through each character in the string <code>s</code> and uses the previously created map <code>mp</code> to get the corresponding value of the character.</li>
<li>If adding the current character’s value to the running sum (<code>lmax</code>) results in a higher value than just using the current character’s value alone, the running sum is updated to include the current character’s value.</li>
<li>If adding the character’s value results in a smaller sum (i.e., the running sum would be negative), the running sum is reset to the value of the current character.</li>
<li>At each step, <code>gmax</code> is updated to keep track of the highest sum encountered.</li>
</ul>
<h4 id="5-return-the-result">5. <strong>Return the result</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> gmax;
</span></span></code></pre></div><ul>
<li>After iterating through the string, the function returns <code>gmax</code>, which contains the maximum sum of the substring.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Mapping the character values</strong>: Creating the map from <code>chars</code> to <code>vals</code> takes (O(c)), where (c) is the size of <code>chars</code>.</li>
<li><strong>Assigning default values</strong>: The loop that assigns default values to characters takes (O(26)), which is constant and can be ignored.</li>
<li><strong>Kadane’s algorithm</strong>: The iteration over the string <code>s</code> takes (O(n)), where (n) is the length of <code>s</code>.</li>
<li><strong>Overall Time Complexity</strong>: The overall time complexity is (O(n + c)), where (n) is the length of <code>s</code> and (c) is the length of <code>chars</code>. Since (c) is typically much smaller than (n), we can approximate the time complexity as (O(n)).</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Map storage</strong>: The map <code>mp</code> stores up to 26 characters (one for each letter of the alphabet), so it uses (O(26)) space, which is constant.</li>
<li><strong>Other variables</strong>: The other variables (<code>lmax</code>, <code>gmax</code>) take constant space.</li>
<li><strong>Overall Space Complexity</strong>: The space complexity is (O(1)), as the map size is bounded by the number of letters in the alphabet (26).</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently calculates the maximum cost of any substring of <code>s</code> by first mapping the values of the characters and then applying Kadane’s algorithm to find the maximum sum subarray. The algorithm operates in linear time with respect to the size of the string, making it optimal for large inputs. The approach is both time and space efficient, using a map to store character values and applying a standard algorithm for maximum subarray sum to solve the problem.</p>
<p><a href="https://leetcode.com/problems/find-the-substring-with-maximum-cost/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/EwSIfXGq2B4?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
