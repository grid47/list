<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2915: Length of the Longest Subsequence That Sums to Target | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2915: Length of the Longest Subsequence That Sums to Target">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2915: Length of the Longest Subsequence That Sums to Target in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2915-length-of-the-longest-subsequence-that-sums-to-target/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2915: Length of the Longest Subsequence That Sums to Target">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2915: Length of the Longest Subsequence That Sums to Target in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2915: Length of the Longest Subsequence That Sums to Target</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1015s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> lengthOfLongestSubsequence(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> sum) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Create a 2D array to store the dynamic programming results.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">1</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>(sum <span style="color:#666">+</span> <span style="color:#666">1</span>, <span style="color:#666">-</span><span style="color:#666">1</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            dp[i][<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Longest subsequence when the target sum is 0.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> sum <span style="color:#666">+</span> <span style="color:#666">1</span>; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#080;font-style:italic">// Initially, set the result to be the same as the result for the previous element.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                dp[i][j] <span style="color:#666">=</span> dp[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#080;font-style:italic">// Check if the current element can contribute to the current sum.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                <span style="color:#a2f;font-weight:bold">if</span> (j <span style="color:#666">&gt;=</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&amp;&amp;</span> dp[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j <span style="color:#666">-</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]] <span style="color:#666">!=</span> <span style="color:#666">-</span><span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>                    dp[i][j] <span style="color:#666">=</span> max(<span style="color:#666">1</span> <span style="color:#666">+</span> dp[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j <span style="color:#666">-</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]], dp[i][j]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp[n][sum]; <span style="color:#080;font-style:italic">// Return the result for the entire array with the target sum.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the longest subsequence within a given array of integers <code>nums</code> where the sum of the subsequence elements equals a specified target value <code>sum</code>. A subsequence is a sequence derived from the array by deleting some or no elements without changing the order of the remaining elements. The goal is to maximize the length of the subsequence while ensuring its sum equals <code>sum</code>.</p>
<h3 id="approach">Approach</h3>
<p>The solution leverages a dynamic programming approach to efficiently solve this problem. Here&rsquo;s how we can think about the problem:</p>
<ol>
<li>
<p><strong>Dynamic Programming Table (DP Table)</strong>:</p>
<ul>
<li>We will create a DP table, <code>dp[i][j]</code>, where <code>i</code> represents the number of elements considered so far from the array <code>nums</code>, and <code>j</code> represents the target sum.</li>
<li>The value stored at <code>dp[i][j]</code> will represent the length of the longest subsequence that can be formed using the first <code>i</code> elements of the array such that the sum of the subsequence is equal to <code>j</code>.</li>
</ul>
</li>
<li>
<p><strong>Base Case</strong>:</p>
<ul>
<li>If the target sum <code>j = 0</code>, then the longest subsequence with sum 0 is the empty subsequence, so <code>dp[i][0] = 0</code> for all <code>i</code>. This is because the sum of zero can always be achieved by an empty subsequence.</li>
</ul>
</li>
<li>
<p><strong>Transition (Recurrence)</strong>:</p>
<ul>
<li>For each element <code>nums[i - 1]</code> in the array, we have two choices:
<ol>
<li>We can <strong>exclude</strong> the current element from the subsequence. In this case, the best result is the same as the result from the previous element, i.e., <code>dp[i][j] = dp[i - 1][j]</code>.</li>
<li>We can <strong>include</strong> the current element in the subsequence if it doesn’t exceed the target sum. If <code>nums[i - 1] &lt;= j</code>, and if including this element leads to a valid subsequence (i.e., <code>dp[i - 1][j - nums[i - 1]] != -1</code>), we can update the DP value as: <code>dp[i][j] = max(1 + dp[i - 1][j - nums[i - 1]], dp[i][j])</code>. The <code>1 + dp[i - 1][j - nums[i - 1]]</code> part indicates that we are including the current element, hence we add <code>1</code> to the length of the subsequence.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Final Answer</strong>:</p>
<ul>
<li>The final value of <code>dp[n][sum]</code> will contain the length of the longest subsequence whose sum equals the target <code>sum</code>. If no such subsequence exists, the value will remain <code>-1</code>.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>We start by defining <code>n</code>, the size of the <code>nums</code> array.</li>
<li>A 2D DP array <code>dp</code> of size <code>(n + 1) x (sum + 1)</code> is created, and all entries are initialized to <code>-1</code>. This signifies that initially, no subsequence sum has been found.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">1</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>(sum <span style="color:#666">+</span> <span style="color:#666">1</span>, <span style="color:#666">-</span><span style="color:#666">1</span>));
</span></span></code></pre></div></li>
<li>
<p><strong>Base Case Handling</strong>:</p>
<ul>
<li>We then initialize the first column of the DP table (where the sum is <code>0</code>) to <code>0</code>. This is because a subsequence of length <code>0</code> always has a sum of <code>0</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    dp[i][<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Filling the DP Table</strong>:</p>
<ul>
<li>We loop through each element of the array (<code>i</code> from <code>1</code> to <code>n</code>) and for each element, we loop through possible sums (<code>j</code> from <code>1</code> to <code>sum</code>).</li>
<li>For each pair <code>(i, j)</code>, we check two possibilities:
<ol>
<li>The current element is excluded from the subsequence.</li>
<li>The current element is included, and we update the DP value accordingly.</li>
</ol>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">1</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> sum <span style="color:#666">+</span> <span style="color:#666">1</span>; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        dp[i][j] <span style="color:#666">=</span> dp[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (j <span style="color:#666">&gt;=</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>] <span style="color:#666">&amp;&amp;</span> dp[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j <span style="color:#666">-</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]] <span style="color:#666">!=</span> <span style="color:#666">-</span><span style="color:#666">1</span>)
</span></span><span style="display:flex;"><span>            dp[i][j] <span style="color:#666">=</span> max(<span style="color:#666">1</span> <span style="color:#666">+</span> dp[i <span style="color:#666">-</span> <span style="color:#666">1</span>][j <span style="color:#666">-</span> nums[i <span style="color:#666">-</span> <span style="color:#666">1</span>]], dp[i][j]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Returning the Result</strong>:</p>
<ul>
<li>After the table is completely filled, the value at <code>dp[n][sum]</code> represents the length of the longest subsequence with sum equal to <code>sum</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> dp[n][sum];
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is dominated by the double loop iterating over all elements of the array and all possible sums from <code>1</code> to <code>sum</code>.</li>
<li>Thus, the time complexity is <code>O(n * sum)</code>, where <code>n</code> is the number of elements in the <code>nums</code> array and <code>sum</code> is the target sum.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is also <code>O(n * sum)</code> due to the 2D DP table that stores intermediate results for all subproblems. This is the space required to store the DP table.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution uses dynamic programming to efficiently find the length of the longest subsequence with a given sum. The solution correctly handles both the inclusion and exclusion of each element in the array for all possible sums and updates the DP table accordingly. The approach ensures that the problem is solved within the time and space limits for reasonably large inputs. By utilizing a DP table, the solution avoids brute-forcing through all possible subsequences, which would be computationally expensive.</p>
<p><a href="https://leetcode.com/problems/length-of-the-longest-subsequence-that-sums-to-target/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/NNSzElew804?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
