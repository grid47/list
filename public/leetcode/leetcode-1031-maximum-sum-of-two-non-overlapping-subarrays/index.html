<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1031-maximum-sum-of-two-non-overlapping-subarrays/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode31s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxTwoNoOverlap(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> A, <span style="color:#0b0;font-weight:bold">int</span> L, <span style="color:#0b0;font-weight:bold">int</span> M, <span style="color:#0b0;font-weight:bold">int</span> sz, <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> left(sz<span style="color:#666">+</span><span style="color:#666">1</span>), right(sz<span style="color:#666">+</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> sz <span style="color:#666">-</span> <span style="color:#666">1</span>, s_r <span style="color:#666">=</span> <span style="color:#666">0</span>, s_l <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> sz; <span style="color:#666">++</span>i, <span style="color:#666">--</span>j) {
</span></span><span style="display:flex;"><span>            s_l <span style="color:#666">+=</span> A[i], s_r <span style="color:#666">+=</span> A[j];
</span></span><span style="display:flex;"><span>            left[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> max(left[i], s_l);
</span></span><span style="display:flex;"><span>            right[j] <span style="color:#666">=</span> max(right[j <span style="color:#666">+</span> <span style="color:#666">1</span>], s_r);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (i <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&gt;=</span> L) s_l <span style="color:#666">-=</span> A[i <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">-</span> L];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (i <span style="color:#666">+</span> <span style="color:#666">1</span> <span style="color:#666">&gt;=</span> M) s_r <span style="color:#666">-=</span> A[j <span style="color:#666">+</span> M <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> A.size(); <span style="color:#666">++</span>i) {
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> max(res, left[i] <span style="color:#666">+</span> right[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">maxSumTwoNoOverlap</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> firstLen, <span style="color:#0b0;font-weight:bold">int</span> secondLen) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> max(maxTwoNoOverlap(nums, firstLen, secondLen, nums.size()),
</span></span><span style="display:flex;"><span>                   maxTwoNoOverlap(nums, secondLen, firstLen, nums.size()));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The goal is to find the maximum sum of two non-overlapping subarrays within a given array of integers. We are given two lengths, <code>L</code> and <code>M</code>, which represent the lengths of the two subarrays. The task is to maximize the sum of these two subarrays while ensuring that they do not overlap.</p>
<p>For example, given the array:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>A = [1, 2, 1, 2, 5, 3, 2]
</span></span></code></pre></div><p>and lengths <code>L = 2</code> and <code>M = 3</code>, the optimal non-overlapping subarrays would yield the maximum sum.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can break it down into a few key steps:</p>
<ol>
<li><strong>Prefix Sum Arrays</strong>: We will calculate two prefix sum arrays: one for subarrays of length <code>L</code> (denoted as <code>left</code>) and one for subarrays of length <code>M</code> (denoted as <code>right</code>).</li>
<li><strong>Max Sum Calculation</strong>: For each position in the array, we will calculate the maximum sums of the two subarrays that can be formed without overlapping.</li>
<li><strong>Iteration</strong>: We will iterate through the array to populate these prefix sum arrays, ensuring that we account for the lengths <code>L</code> and <code>M</code> correctly to avoid overlap.</li>
</ol>
<p>The solution consists of a function <code>maxTwoNoOverlap</code> that handles the logic for calculating the maximum sums of two non-overlapping subarrays for given lengths.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Class Declaration</strong>:</p>
<ul>
<li>The code defines a class <code>Solution</code>, which encapsulates the logic for solving the problem.</li>
</ul>
</li>
<li>
<p><strong>Function Declaration</strong>:</p>
<ul>
<li>The function <code>maxTwoNoOverlap</code> takes the following parameters:
<ul>
<li><code>A</code>: The input array of integers.</li>
<li><code>L</code>: Length of the first subarray.</li>
<li><code>M</code>: Length of the second subarray.</li>
<li><code>sz</code>: The size of the input array.</li>
<li><code>res</code>: A variable initialized to <code>0</code> that will hold the result.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>Two vectors, <code>left</code> and <code>right</code>, are initialized to store the maximum sums of subarrays of length <code>L</code> and <code>M</code>, respectively. Both vectors are of size <code>sz + 1</code> to accommodate the calculations easily.</li>
</ul>
</li>
<li>
<p><strong>Calculating Left and Right Sums</strong>:</p>
<ul>
<li>A loop iterates through the array to calculate the maximum sums of subarrays of lengths <code>L</code> and <code>M</code>:
<ul>
<li><strong>Left Sum Calculation</strong>:
<ul>
<li><code>s_l</code> keeps track of the current sum for the subarray of length <code>L</code>.</li>
<li>The current value of <code>A[i]</code> is added to <code>s_l</code>, and the maximum is updated in the <code>left</code> array.</li>
<li>If we have processed at least <code>L</code> elements, we subtract the value that exits the window.</li>
</ul>
</li>
<li><strong>Right Sum Calculation</strong>:
<ul>
<li>Similarly, <code>s_r</code> tracks the current sum for the subarray of length <code>M</code> from the right side of the array.</li>
<li>The maximum is updated in the <code>right</code> array.</li>
<li>If we have processed at least <code>M</code> elements, we subtract the value that exits the window.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Combining Results</strong>:</p>
<ul>
<li>After populating the <code>left</code> and <code>right</code> arrays, another loop runs through the array to find the maximum combined sum of the two non-overlapping subarrays:
<ul>
<li>The maximum sum at each index <code>i</code> is calculated by adding <code>left[i]</code> and <code>right[i]</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Return Statement</strong>:</p>
<ul>
<li>The function returns the maximum sum found.</li>
</ul>
</li>
<li>
<p><strong>Main Function</strong>:</p>
<ul>
<li>The function <code>maxSumTwoNoOverlap</code> calls <code>maxTwoNoOverlap</code> twice:
<ul>
<li>First with lengths <code>firstLen</code> and <code>secondLen</code>.</li>
<li>Second with lengths <code>secondLen</code> and <code>firstLen</code>.</li>
</ul>
</li>
<li>This ensures that we account for both orderings of the two subarrays, thus maximizing the total sum.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: The overall time complexity is (O(n)), where (n) is the number of elements in the input array. The loops for calculating the sums and iterating through the array each run in linear time.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the use of the <code>left</code> and <code>right</code> arrays for storing intermediate results.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided code effectively calculates the maximum sum of two non-overlapping subarrays by utilizing a combination of prefix sums and careful iteration through the array. The solution is efficient and straightforward, making it suitable for large input sizes.</p>
<p>This approach is particularly useful in scenarios where resource allocation or partitioning of data is required, such as in financial computations, interval scheduling, and optimizing resource usage in various applications.</p>
<p>In summary, the <code>maxTwoNoOverlap</code> and <code>maxSumTwoNoOverlap</code> functions demonstrate a clear understanding of the problem and an effective implementation of a common algorithmic technique, providing a robust solution to the challenge of maximizing sums in non-overlapping subarrays.</p>
<p>By ensuring clarity in each step of the process, this explanation serves to enhance understanding of both the code and the underlying logic, making it beneficial for learners and practitioners in algorithm design and optimization.</p>
<p><a href="https://leetcode.com/problems/maximum-sum-of-two-non-overlapping-subarrays/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/YAcHH5AVsZg?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
