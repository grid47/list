<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1584: Min Cost to Connect All Points | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1584: Min Cost to Connect All Points">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1584: Min Cost to Connect All Points in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1584-min-cost-to-connect-all-points/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1584: Min Cost to Connect All Points">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1584: Min Cost to Connect All Points in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Union Find">
    <meta property="article:tag" content="Graph">
    <meta property="article:tag" content="Minimum Spanning Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1584: Min Cost to Connect All Points</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode284s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">UF</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> cnt;
</span></span><span style="display:flex;"><span>    UF(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> n;
</span></span><span style="display:flex;"><span>        ch.resize(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            ch[i] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">uni</span>(<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> find(a);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> y <span style="color:#666">=</span> find(b);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(x <span style="color:#666">!=</span> y) {
</span></span><span style="display:flex;"><span>            cnt<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>            ch[x] <span style="color:#666">=</span> y;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">find</span>(<span style="color:#0b0;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(x <span style="color:#666">==</span> ch[x]) <span style="color:#a2f;font-weight:bold">return</span> x;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ch[x] <span style="color:#666">=</span> find(ch[x]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">// class cmp {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     public:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     bool operator()(vector&lt;int&gt; a, vector&lt;int&gt; b) {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//         return a[0] &gt; b[0];
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//     }
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">// };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">static</span> <span style="color:#0b0;font-weight:bold">bool</span> cmp(array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">3</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>a, array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">3</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>b) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> a[<span style="color:#666">0</span>] <span style="color:#666">&lt;</span> b[<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">minCostConnectPoints</span>(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> pts) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">3</span><span style="color:#666">&gt;&gt;</span> q;
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// priority_queue&lt;vector&lt;int&gt;, vector&lt;vector&lt;int&gt;&gt;, cmp&gt; pq;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> pts.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> pts.size(); j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>                q.push_back({ abs(pts[i][<span style="color:#666">0</span>]<span style="color:#666">-</span>pts[j][<span style="color:#666">0</span>]) <span style="color:#666">+</span> abs(pts[i][<span style="color:#666">1</span>]<span style="color:#666">-</span>pts[j][<span style="color:#666">1</span>]), i, j});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        sort(q.begin(), q.end(), cmp);
</span></span><span style="display:flex;"><span>        UF<span style="color:#666">*</span> uf <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> UF(pts.size());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cost <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> pts.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> q.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-style:italic">// cout &lt;&lt; uf-&gt;cnt &lt;&lt; &#34; &#34; &lt;&lt; q[0] &lt;&lt; &#34; &#34; &lt;&lt; q[1] &lt;&lt; &#34; &#34; &lt;&lt; q[2] &lt;&lt; &#34;\n&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">if</span>(uf<span style="color:#666">-&gt;</span>uni(q[i][<span style="color:#666">1</span>], q[i][<span style="color:#666">2</span>])) {
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// cout &lt;&lt; n &lt;&lt; &#34; &#34;&lt;&lt; cost &lt;&lt; &#34; &#34; &lt;&lt; q[i][0] &lt;&lt; &#34; &#34; &lt;&lt; q[i][1] &lt;&lt; &#34; &#34; &lt;&lt; q[i][2] &lt;&lt; &#34;\n&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                cost <span style="color:#666">+=</span> q[i][<span style="color:#666">0</span>];
</span></span><span style="display:flex;"><span>                n<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(n <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> cost;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand is to find the minimum cost to connect all points in a 2D plane, where the cost to connect two points is defined as the Manhattan distance between them. This is a classic example of the Minimum Spanning Tree (MST) problem, which can be efficiently solved using algorithms like Kruskal&rsquo;s or Prim&rsquo;s. Here, we will use Kruskal&rsquo;s algorithm along with the Union-Find (Disjoint Set Union) data structure.</p>
<h3 id="approach">Approach</h3>
<p>To achieve the desired solution, we will follow these steps:</p>
<ol>
<li>
<p><strong>Calculate Distances</strong>: Compute the Manhattan distance for every pair of points and store the distances along with the corresponding point indices in a list.</p>
</li>
<li>
<p><strong>Sort Edges</strong>: Sort the edges (i.e., the distances between points) in ascending order, as we want to connect points starting from the smallest distances.</p>
</li>
<li>
<p><strong>Union-Find Structure</strong>: Utilize a Union-Find data structure to efficiently manage and merge different components (connected points) as we iterate through the sorted distances.</p>
</li>
<li>
<p><strong>Kruskal’s Algorithm</strong>: Iterate over the sorted edges, using the Union-Find structure to check whether two points are already connected. If they are not connected, add the cost of the edge to the total cost and merge the two components.</p>
</li>
<li>
<p><strong>Termination Condition</strong>: Stop the process when we have connected all points.</p>
</li>
</ol>
<p>This method ensures that we connect all points with the minimum total cost while avoiding cycles.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let’s go through the code and explain its functionality in detail:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">UF</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ch; <span style="color:#080;font-style:italic">// Array to track the parent of each node
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">int</span> cnt; <span style="color:#080;font-style:italic">// Number of connected components
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    UF(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> n; <span style="color:#080;font-style:italic">// Initialize the number of components
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        ch.resize(n, <span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            ch[i] <span style="color:#666">=</span> i; <span style="color:#080;font-style:italic">// Each node is its own parent initially
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span></code></pre></div><ul>
<li><strong>Union-Find Class Initialization</strong>: The <code>UF</code> class is defined to manage the connected components. It initializes the <code>ch</code> vector, where each index represents a point and its value is the parent index. The variable <code>cnt</code> tracks the number of connected components.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> <span style="color:#00a000">uni</span>(<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> x <span style="color:#666">=</span> find(a); <span style="color:#080;font-style:italic">// Find the root of the first point
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">int</span> y <span style="color:#666">=</span> find(b); <span style="color:#080;font-style:italic">// Find the root of the second point
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">if</span>(x <span style="color:#666">!=</span> y) {
</span></span><span style="display:flex;"><span>            cnt<span style="color:#666">--</span>; <span style="color:#080;font-style:italic">// Decrease the count of components if they are different
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            ch[x] <span style="color:#666">=</span> y; <span style="color:#080;font-style:italic">// Union the two components
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>; <span style="color:#080;font-style:italic">// If they are already connected
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span></code></pre></div><ul>
<li><strong>Union Function</strong>: This function attempts to unite two points. If they belong to different components, it merges them and returns true; otherwise, it returns false.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">find</span>(<span style="color:#0b0;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(x <span style="color:#666">==</span> ch[x]) <span style="color:#a2f;font-weight:bold">return</span> x; <span style="color:#080;font-style:italic">// If x is its own parent, return x
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">return</span> ch[x] <span style="color:#666">=</span> find(ch[x]); <span style="color:#080;font-style:italic">// Path compression optimization
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Find Function</strong>: This function finds the root of a point and employs path compression for efficiency, allowing the structure to maintain a flat tree.</li>
</ul>
<h4 id="the-solution-class-and-main-functionality">The Solution Class and Main Functionality</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">static</span> <span style="color:#0b0;font-weight:bold">bool</span> cmp(array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">3</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>a, array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">3</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>b) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> a[<span style="color:#666">0</span>] <span style="color:#666">&lt;</span> b[<span style="color:#666">0</span>]; <span style="color:#080;font-style:italic">// Custom comparator for sorting edges
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span></code></pre></div><ul>
<li><strong>Comparison Function</strong>: A static function <code>cmp</code> is defined to sort the edges based on their distances in ascending order.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">minCostConnectPoints</span>(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> pts) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>array<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#666">3</span><span style="color:#666">&gt;&gt;</span> q; <span style="color:#080;font-style:italic">// Array to hold edges as {distance, point1, point2}
</span></span></span></code></pre></div><ul>
<li><strong>Edge Initialization</strong>: The function initializes an array <code>q</code> to hold edges represented as arrays containing the distance and the indices of the two points.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> pts.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> pts.size(); j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>                q.push_back({ abs(pts[i][<span style="color:#666">0</span>]<span style="color:#666">-</span>pts[j][<span style="color:#666">0</span>]) <span style="color:#666">+</span> abs(pts[i][<span style="color:#666">1</span>]<span style="color:#666">-</span>pts[j][<span style="color:#666">1</span>]), i, j});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Distance Calculation</strong>: The nested loop calculates the Manhattan distance between each pair of points and populates the <code>q</code> array with these distances and their corresponding indices.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        sort(q.begin(), q.end(), cmp); <span style="color:#080;font-style:italic">// Sort edges by distance
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        UF<span style="color:#666">*</span> uf <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> UF(pts.size()); <span style="color:#080;font-style:italic">// Initialize Union-Find structure
</span></span></span></code></pre></div><ul>
<li><strong>Sorting Edges</strong>: The edges are sorted using the previously defined comparison function. A new instance of the Union-Find class is created for managing the components.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cost <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> pts.size(); <span style="color:#080;font-style:italic">// Total cost and number of points
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> q.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(uf<span style="color:#666">-&gt;</span>uni(q[i][<span style="color:#666">1</span>], q[i][<span style="color:#666">2</span>])) { <span style="color:#080;font-style:italic">// If the points can be united
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                cost <span style="color:#666">+=</span> q[i][<span style="color:#666">0</span>]; <span style="color:#080;font-style:italic">// Add the cost of the edge to the total
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                n<span style="color:#666">--</span>; <span style="color:#080;font-style:italic">// Decrease the number of components
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                <span style="color:#a2f;font-weight:bold">if</span>(n <span style="color:#666">==</span> <span style="color:#666">1</span>) <span style="color:#a2f;font-weight:bold">return</span> cost; <span style="color:#080;font-style:italic">// If all points are connected, return the cost
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Building the MST</strong>: The algorithm iterates through the sorted edges. If two points can be united (i.e., they are not already connected), the distance is added to the total cost, and the number of remaining components is decremented. The process stops when all points are connected.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Return 0 if we fail to connect all points (should not happen with valid input)
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Return Statement</strong>: The function returns 0 if, for some reason, not all points are connected. This condition shouldn&rsquo;t happen with valid inputs.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this algorithm is (O(P^2 \log P)), where (P) is the number of points. The (P^2) factor comes from calculating the distances between all pairs, while (\log P) comes from sorting the edges.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(P)) for the Union-Find structure and the array holding the edges.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The provided solution effectively solves the problem of finding the minimum cost to connect all points in a 2D space using the Manhattan distance metric. By leveraging Kruskal&rsquo;s algorithm along with a Union-Find structure, the solution efficiently manages connectivity checks and minimizes the total cost.</p>
<p>The clear and modular design of the code, along with the use of efficient data structures, ensures that the solution is both maintainable and performant. This approach is robust and can handle a variety of input sizes within reasonable limits, making it suitable for competitive programming and real-world applications.</p>
<p>In summary, this algorithm demonstrates how to effectively manage and optimize connections in a set of points using a combination of sorting, distance calculation, and disjoint set union operations.</p>
<p><a href="https://leetcode.com/problems/min-cost-to-connect-all-points/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/8VPIrqwQ8sQ?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
