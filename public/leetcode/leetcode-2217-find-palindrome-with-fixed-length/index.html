<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2217: Find Palindrome With Fixed Length | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2217: Find Palindrome With Fixed Length">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2217: Find Palindrome With Fixed Length in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2217-find-palindrome-with-fixed-length/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2217: Find Palindrome With Fixed Length">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2217: Find Palindrome With Fixed Length in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Math">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2217: Find Palindrome With Fixed Length</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode625s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> reverse(<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> n, <span style="color:#0b0;font-weight:bold">int</span> skip) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(n <span style="color:#666">=</span> skip<span style="color:#666">?</span>n<span style="color:#666">/</span><span style="color:#666">10</span><span style="color:#666">:</span> n; n <span style="color:#666">&gt;</span> <span style="color:#666">0</span>; n<span style="color:#666">/=</span><span style="color:#666">10</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> res <span style="color:#666">*</span> <span style="color:#666">10</span> <span style="color:#666">+</span> n <span style="color:#666">%</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> kthPalindrome(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> queries, <span style="color:#0b0;font-weight:bold">int</span> sz) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> ans;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> start <span style="color:#666">=</span> pow(<span style="color:#666">10</span>, (sz <span style="color:#666">+</span> <span style="color:#666">1</span>)<span style="color:#666">/</span><span style="color:#666">2</span><span style="color:#666">-</span><span style="color:#666">1</span>), end <span style="color:#666">=</span> pow(<span style="color:#666">10</span>, (sz <span style="color:#666">+</span> <span style="color:#666">1</span>)<span style="color:#666">/</span><span style="color:#666">2</span>), mul<span style="color:#666">=</span> pow(<span style="color:#666">10</span>, sz<span style="color:#666">/</span><span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">q</span>: queries)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(start <span style="color:#666">+</span> q <span style="color:#666">&gt;</span> end)
</span></span><span style="display:flex;"><span>                ans.push_back(<span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> (start <span style="color:#666">+</span> q <span style="color:#666">-</span> <span style="color:#666">1</span>) <span style="color:#666">*</span> mul <span style="color:#666">+</span> reverse(start <span style="color:#666">+</span> q <span style="color:#666">-</span> <span style="color:#666">1</span>, sz <span style="color:#666">%</span> <span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>                ans.push_back(res);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to find the <code>k</code>-th palindrome number with a specified number of digits <code>sz</code> for each query in the input list. A palindrome is a number that reads the same backward as forward, and the task is to return the <code>k</code>-th palindrome of a given size or return <code>-1</code> if the <code>k</code>-th palindrome does not exist.</p>
<p>We are given an array <code>queries</code>, where each query <code>q</code> asks for the <code>q</code>-th palindrome with exactly <code>sz</code> digits. If the query exceeds the number of possible palindromes of that size, return <code>-1</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we need to generate palindromes for a given size <code>sz</code> and identify the <code>q</code>-th palindrome for each query. The key observation is that a palindrome number can be constructed by using its first half digits, and the second half is a mirror of the first half.</p>
<h4 id="steps-to-solve">Steps to Solve:</h4>
<ol>
<li>
<p><strong>Understanding Palindromes</strong>:</p>
<ul>
<li>For a given size <code>sz</code>, the number of possible palindromes depends on whether the size is even or odd.</li>
<li>If <code>sz</code> is even, a palindrome consists of two equal halves. For example, a 4-digit palindrome looks like <code>ABBA</code>, where <code>AB</code> is the first half, and the second half mirrors <code>AB</code>.</li>
<li>If <code>sz</code> is odd, the middle digit is independent, and the palindrome looks like <code>ABA</code>, where <code>AB</code> is the first half, and <code>A</code> is mirrored as the last digit.</li>
</ul>
</li>
<li>
<p><strong>Constructing Palindromes</strong>:</p>
<ul>
<li>For each query, calculate the possible range of numbers that can form palindromes with the given size <code>sz</code>.</li>
<li>Find the first half of the palindrome, and then mirror it to form the full palindrome.</li>
<li>For odd-sized palindromes, exclude the middle digit from the mirrored portion.</li>
</ul>
</li>
<li>
<p><strong>Efficient Query Resolution</strong>:</p>
<ul>
<li>For each query, determine if the requested palindrome index <code>q</code> lies within the valid range of palindromes. If not, return <code>-1</code>.</li>
<li>Construct the palindrome by manipulating the first half digits and mirroring them.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-helper-function-reverse">Step 1: Helper Function <code>reverse</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#00a000">reverse</span>(<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> n, <span style="color:#0b0;font-weight:bold">int</span> skip) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(n <span style="color:#666">=</span> skip <span style="color:#666">?</span> n <span style="color:#666">/</span> <span style="color:#666">10</span> <span style="color:#666">:</span> n; n <span style="color:#666">&gt;</span> <span style="color:#666">0</span>; n <span style="color:#666">/=</span> <span style="color:#666">10</span>)
</span></span><span style="display:flex;"><span>        res <span style="color:#666">=</span> res <span style="color:#666">*</span> <span style="color:#666">10</span> <span style="color:#666">+</span> n <span style="color:#666">%</span> <span style="color:#666">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>This helper function reverses the digits of a number <code>n</code>.</li>
<li>If the <code>skip</code> flag is set, it removes the last digit of <code>n</code> before starting the reversal process. This is useful for palindromes where we only want to mirror the first half.</li>
</ul>
<h4 id="step-2-main-function-kthpalindrome">Step 2: Main Function <code>kthPalindrome</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> kthPalindrome(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> queries, <span style="color:#0b0;font-weight:bold">int</span> sz) {
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> start <span style="color:#666">=</span> pow(<span style="color:#666">10</span>, (sz <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">-</span> <span style="color:#666">1</span>), 
</span></span><span style="display:flex;"><span>              end <span style="color:#666">=</span> pow(<span style="color:#666">10</span>, (sz <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">/</span> <span style="color:#666">2</span>), 
</span></span><span style="display:flex;"><span>              mul <span style="color:#666">=</span> pow(<span style="color:#666">10</span>, sz <span style="color:#666">/</span> <span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">q</span> : queries)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (start <span style="color:#666">+</span> q <span style="color:#666">&gt;</span> end)
</span></span><span style="display:flex;"><span>            ans.push_back(<span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> res <span style="color:#666">=</span> (start <span style="color:#666">+</span> q <span style="color:#666">-</span> <span style="color:#666">1</span>) <span style="color:#666">*</span> mul <span style="color:#666">+</span> reverse(start <span style="color:#666">+</span> q <span style="color:#666">-</span> <span style="color:#666">1</span>, sz <span style="color:#666">%</span> <span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>            ans.push_back(res);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p><strong>Variables</strong>:</p>
<ul>
<li><code>start</code>: The smallest possible number for the first half of a palindrome. This is calculated as <code>pow(10, (sz + 1) / 2 - 1)</code>.</li>
<li><code>end</code>: The largest possible number for the first half of a palindrome. This is calculated as <code>pow(10, (sz + 1) / 2)</code>.</li>
<li><code>mul</code>: This is a multiplier used to combine the first half of the palindrome with its mirrored second half. It is calculated as <code>pow(10, sz / 2)</code>.</li>
</ul>
</li>
<li>
<p><strong>Query Processing</strong>:</p>
<ul>
<li>For each query <code>q</code>, the code checks if the <code>q</code>-th palindrome is within the range of possible palindromes. If <code>q</code> exceeds the number of palindromes of size <code>sz</code>, it appends <code>-1</code> to the result.</li>
<li>Otherwise, it calculates the palindrome by:
<ul>
<li>Using the first half of the palindrome, which is <code>(start + q - 1)</code>.</li>
<li>Mirroring the first half by calling the <code>reverse</code> function (if the palindrome size <code>sz</code> is odd, it skips the middle digit during mirroring).</li>
<li>Combining the first half and mirrored second half to form the palindrome.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Return Result</strong>:</p>
<ul>
<li>After processing all queries, the function returns the result vector <code>ans</code>, which contains the palindromes or <code>-1</code> for invalid queries.</li>
</ul>
</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(m)</strong>, where <code>m</code> is the number of queries in the input <code>queries</code> array.
<ul>
<li>For each query, we perform constant-time operations, such as checking if the query is valid and reversing the first half of the palindrome. These operations take constant time relative to the size of the palindrome (<code>sz</code>), which is a constant value in this case.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(m)</strong>, where <code>m</code> is the number of queries in the input <code>queries</code> array.
<ul>
<li>The space complexity is linear in the number of queries because we store the result for each query in the output vector <code>ans</code>.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently handles the task of finding the <code>k</code>-th palindrome for various queries with a given number of digits. By leveraging mathematical properties of palindromes, it calculates the palindrome directly from the first half and mirrors it to form the full palindrome, ensuring that the solution runs in optimal time for each query.</p>
<p>With a time complexity of <strong>O(m)</strong> and space complexity of <strong>O(m)</strong>, this approach is well-suited for handling large input sizes, making it both time and space-efficient.</p>
<p>Overall, the solution is elegant, simple, and performs the task optimally for all valid inputs.</p>
<p><a href="https://leetcode.com/problems/find-palindrome-with-fixed-length/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/yHa83HDgTdk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
