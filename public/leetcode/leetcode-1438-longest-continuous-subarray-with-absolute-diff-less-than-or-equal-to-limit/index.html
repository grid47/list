<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1438: Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1438: Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1438: Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1438-longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1438: Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1438: Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Queue">
    <meta property="article:tag" content="Sliding Window">
    <meta property="article:tag" content="Heap (Priority Queue)">
    <meta property="article:tag" content="Ordered Set">
    <meta property="article:tag" content="Monotonic Queue">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1438: Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode215s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> longestSubarray(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> limit) {
</span></span><span style="display:flex;"><span>        multiset<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ms;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            ms.insert(nums[i]);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>ms.empty() <span style="color:#666">&amp;&amp;</span> <span style="color:#666">*</span>ms.rbegin() <span style="color:#666">-</span> <span style="color:#666">*</span>ms.begin() <span style="color:#666">&gt;</span> limit) {
</span></span><span style="display:flex;"><span>                ms.erase(ms.find(nums[j<span style="color:#666">++</span>]));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            res <span style="color:#666">=</span> max(res, i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the length of the longest contiguous subarray in a given list of integers such that the difference between the maximum and minimum elements in the subarray does not exceed a specified limit. This problem can be understood as a sliding window problem, where we want to maintain a window of numbers that satisfies a certain condition regarding their maximum and minimum values.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we will use a sliding window technique combined with a multiset data structure to keep track of the elements in the current window. The general steps involved in the approach are as follows:</p>
<ol>
<li>
<p><strong>Initialize Variables</strong>: We will use a multiset to store the elements of the current window. We also maintain pointers to define the start and end of the window and a variable to store the maximum length of valid subarrays found so far.</p>
</li>
<li>
<p><strong>Iterate Over the Array</strong>: We will traverse through the array using a loop, expanding the window by adding elements to the multiset.</p>
</li>
<li>
<p><strong>Check Validity of the Window</strong>: For each new element added, we will check if the condition (difference between max and min elements in the window) is violated. If it is, we will shrink the window from the left by removing elements from the multiset until the condition is satisfied again.</p>
</li>
<li>
<p><strong>Update Result</strong>: After adjusting the window, we will compute the length of the current valid window and update our maximum length variable if needed.</p>
</li>
<li>
<p><strong>Return the Result</strong>: Finally, we return the maximum length of the valid subarrays found.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Letâ€™s break down the provided code step by step:</p>
<ol>
<li>
<p><strong>Class Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>We define a class named <code>Solution</code> which will contain our method to compute the result.</li>
</ul>
</li>
<li>
<p><strong>Function Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">longestSubarray</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> limit) {
</span></span></code></pre></div><ul>
<li>The function <code>longestSubarray</code> takes two parameters: a vector of integers <code>nums</code> and an integer <code>limit</code> which defines the maximum allowed difference between the maximum and minimum elements in a valid subarray.</li>
</ul>
</li>
<li>
<p><strong>Variable Initialization</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>multiset<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> ms;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, j <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>We declare a <code>multiset&lt;int&gt;</code> named <code>ms</code> to store the elements of the current subarray. The integer <code>res</code> will store the maximum length of valid subarrays found, and <code>j</code> is used as a pointer to the start of the current window.</li>
</ul>
</li>
<li>
<p><strong>Iterate Over the Array</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> nums.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    ms.insert(nums[i]);
</span></span></code></pre></div><ul>
<li>A loop iterates over each element in the <code>nums</code> array. The current element <code>nums[i]</code> is inserted into the multiset.</li>
</ul>
</li>
<li>
<p><strong>Check Window Validity</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>ms.empty() <span style="color:#666">&amp;&amp;</span> <span style="color:#666">*</span>ms.rbegin() <span style="color:#666">-</span> <span style="color:#666">*</span>ms.begin() <span style="color:#666">&gt;</span> limit) {
</span></span><span style="display:flex;"><span>    ms.erase(ms.find(nums[j<span style="color:#666">++</span>]));
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We check if the difference between the maximum element (<code>*ms.rbegin()</code>) and the minimum element (<code>*ms.begin()</code>) in the multiset exceeds the specified <code>limit</code>. If it does, we remove the leftmost element from the window (pointed to by <code>j</code>) until the condition is satisfied.</li>
</ul>
</li>
<li>
<p><strong>Update Maximum Length</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>res <span style="color:#666">=</span> max(res, i <span style="color:#666">-</span> j <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span></code></pre></div><ul>
<li>After ensuring the window is valid, we calculate the current length of the window (<code>i - j + 1</code>) and update <code>res</code> if this length is greater than the previously recorded maximum.</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Finally, we return the maximum length of the valid subarray stored in <code>res</code>.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this algorithm is (O(n \log n)), where (n) is the number of elements in the input array. This complexity arises from the insertion and deletion operations on the multiset, which take (O(\log n)) time.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) in the worst case, as we may store all elements in the multiset if the entire array satisfies the condition.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution effectively finds the longest contiguous subarray that meets the specified condition using a sliding window approach and a multiset for dynamic maintenance of the window&rsquo;s elements. It showcases the power of combining data structures with algorithmic strategies to solve complex problems efficiently.</p>
<h4 id="key-takeaways">Key Takeaways:</h4>
<ol>
<li>
<p><strong>Sliding Window Technique</strong>: The sliding window technique is a common pattern for solving problems related to subarrays, allowing for efficient tracking of conditions over a range of elements.</p>
</li>
<li>
<p><strong>Multiset Usage</strong>: Using a multiset provides an easy way to maintain a sorted order of elements and allows quick access to the maximum and minimum elements, which is crucial for this problem.</p>
</li>
<li>
<p><strong>Dynamic Problem Solving</strong>: The method illustrates how to dynamically adjust the size of the solution set (the window) based on the input conditions, demonstrating an effective approach to managing constraints in array problems.</p>
</li>
</ol>
<p>Overall, this implementation serves as a practical example of leveraging data structures to achieve efficient algorithms in solving array-related challenges.</p>
<p><a href="https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/V-ecDfY5xEw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
