<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 592: Fraction Addition and Subtraction | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 592: Fraction Addition and Subtraction">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 592: Fraction Addition and Subtraction in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-592-fraction-addition-and-subtraction/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 592: Fraction Addition and Subtraction">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 592: Fraction Addition and Subtraction in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Simulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 592: Fraction Addition and Subtraction</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1211s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/592.webp" 
           alt="A series of fractions being added and subtracted, with each operation softly glowing as it is performed." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 592: Fraction Addition and Subtraction Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1211s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string fractionAddition(string expression) {
</span></span><span style="display:flex;"><span>        istringstream <span style="color:#00a000">in</span>(expression);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> A <span style="color:#666">=</span> <span style="color:#666">0</span>, B <span style="color:#666">=</span> <span style="color:#666">1</span>, a, b;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">char</span> _;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(in <span style="color:#666">&gt;&gt;</span> a <span style="color:#666">&gt;&gt;</span> _ <span style="color:#666">&gt;&gt;</span> b) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            cout <span style="color:#666">&lt;&lt;</span> a <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;-&#39;</span> <span style="color:#666">&lt;&lt;</span> b <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            A <span style="color:#666">=</span> A <span style="color:#666">*</span> b <span style="color:#666">+</span> a <span style="color:#666">*</span> B;  <span style="color:#080;font-style:italic">// numerator in A denomiator in B
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            B <span style="color:#666">=</span> B<span style="color:#666">*</span>b; <span style="color:#080;font-style:italic">//b*B      // A / B + a/b
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                                <span style="color:#080;font-style:italic">// 0/1 + a/b
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                                <span style="color:#080;font-style:italic">// (A*b+a*B)/bB
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#080;font-style:italic">// A hold small a, B hold b
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#080;font-style:italic">// But cancel their greatest common divisor.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>            <span style="color:#080;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            a = -1/2
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            b =  1/2
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            A = 0 * 1/2 + -1/2 * 1 = -1/2
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            B = 1/2
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">            */</span>
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> g <span style="color:#666">=</span> abs(__gcd(A, B));
</span></span><span style="display:flex;"><span>            cout<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;-0&lt;&#34;</span><span style="color:#666">&lt;&lt;</span> g<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;&gt;0-&#34;</span><span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>            A <span style="color:#666">/=</span> g;
</span></span><span style="display:flex;"><span>            B <span style="color:#666">/=</span> g;
</span></span><span style="display:flex;"><span>            cout<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;-0{&#34;</span><span style="color:#666">&lt;&lt;</span> A <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;}0-&#34;</span><span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;            
</span></span><span style="display:flex;"><span>            cout<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;-0{&#34;</span><span style="color:#666">&lt;&lt;</span> B <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;}0-&#34;</span><span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;                        
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">to_string</span>(A) <span style="color:#666">+</span> <span style="color:#b44">&#34;/&#34;</span> <span style="color:#666">+</span> to_string(B);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to implement a function that adds a series of fractions represented as a string and returns the sum in its simplest fractional form. The input string will consist of fractions in the format <code>a/b</code>, where <code>a</code> is the numerator and <code>b</code> is the denominator. The goal is to sum all the fractions and return the result in the simplest form, meaning that the greatest common divisor (GCD) of the numerator and denominator should be used to reduce the fraction.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can break the task down into the following steps:</p>
<ol>
<li><strong>Input Parsing</strong>: Extract the individual fractions from the input string.</li>
<li><strong>Adding Fractions</strong>: Use a common denominator to sum the fractions. This can be achieved by converting each fraction to have the same denominator and summing the numerators.</li>
<li><strong>Simplification</strong>: Once the fractions are added, simplify the resulting fraction by dividing the numerator and denominator by their greatest common divisor (GCD).</li>
<li><strong>Return the Result</strong>: Convert the simplified result into the format <code>a/b</code> and return it.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-input-parsing">Step 1: Input Parsing</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>istringstream <span style="color:#00a000">in</span>(expression);
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> A <span style="color:#666">=</span> <span style="color:#666">0</span>, B <span style="color:#666">=</span> <span style="color:#666">1</span>, a, b;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">char</span> _;
</span></span></code></pre></div><ul>
<li>We start by creating an <code>istringstream</code> object to read the input <code>expression</code>. This allows us to extract each fraction in the format <code>a/b</code>.</li>
<li>We initialize variables <code>A</code> and <code>B</code>, which will hold the cumulative numerator and denominator respectively. Initially, <code>A</code> is set to <code>0</code> (since the sum of fractions starts at 0) and <code>B</code> is set to <code>1</code> (since we are working with fractions).</li>
<li>We also define <code>a</code> and <code>b</code> to store the numerator and denominator of each individual fraction, and <code>_</code> as a placeholder to capture the <code>/</code> character between the numerator and denominator.</li>
</ul>
<h4 id="step-2-adding-fractions">Step 2: Adding Fractions</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(in <span style="color:#666">&gt;&gt;</span> a <span style="color:#666">&gt;&gt;</span> _ <span style="color:#666">&gt;&gt;</span> b) {
</span></span><span style="display:flex;"><span>    cout <span style="color:#666">&lt;&lt;</span> a <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;-&#39;</span> <span style="color:#666">&lt;&lt;</span> b <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    A <span style="color:#666">=</span> A <span style="color:#666">*</span> b <span style="color:#666">+</span> a <span style="color:#666">*</span> B;  <span style="color:#080;font-style:italic">// Update numerator: A * b + a * B
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    B <span style="color:#666">=</span> B <span style="color:#666">*</span> b;          <span style="color:#080;font-style:italic">// Update denominator: B * b
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li>The loop continues while there are fractions to process. Inside the loop, we extract the numerator (<code>a</code>) and denominator (<code>b</code>) of each fraction.</li>
<li>The formula used to add two fractions <code>A/B</code> and <code>a/b</code> is:
[
\frac{A}{B} + \frac{a}{b} = \frac{A \times b + a \times B}{B \times b}
]
<ul>
<li>The numerator is updated by multiplying <code>A</code> by <code>b</code> and adding <code>a</code> multiplied by <code>B</code>.</li>
<li>The denominator is updated by multiplying <code>B</code> by <code>b</code>.</li>
</ul>
</li>
</ul>
<h4 id="step-3-simplification">Step 3: Simplification</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> g <span style="color:#666">=</span> abs(__gcd(A, B)); <span style="color:#080;font-style:italic">// Find GCD of A and B
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>cout<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;-0&lt;&#34;</span><span style="color:#666">&lt;&lt;</span> g<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;&gt;0-&#34;</span><span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>A <span style="color:#666">/=</span> g;  <span style="color:#080;font-style:italic">// Simplify numerator
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>B <span style="color:#666">/=</span> g;  <span style="color:#080;font-style:italic">// Simplify denominator
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>cout<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;-0{&#34;</span><span style="color:#666">&lt;&lt;</span> A <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;}0-&#34;</span><span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>cout<span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;-0{&#34;</span><span style="color:#666">&lt;&lt;</span> B <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;}0-&#34;</span><span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#39;\n&#39;</span>;
</span></span></code></pre></div><ul>
<li>After the fractions are added, we need to simplify the result by dividing both the numerator and denominator by their greatest common divisor (GCD).</li>
<li>The <code>__gcd()</code> function is used to find the GCD of <code>A</code> and <code>B</code>. We then divide both <code>A</code> and <code>B</code> by this GCD to ensure the fraction is in its simplest form.</li>
<li>For example, if the resulting fraction is <code>6/8</code>, the GCD of <code>6</code> and <code>8</code> is <code>2</code>, so we divide both by <code>2</code>, resulting in the fraction <code>3/4</code>.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#00a000">to_string</span>(A) <span style="color:#666">+</span> <span style="color:#b44">&#34;/&#34;</span> <span style="color:#666">+</span> to_string(B);
</span></span></code></pre></div><ul>
<li>Finally, we convert the simplified numerator and denominator back into a string in the format <code>a/b</code> and return the result.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>, where <code>n</code> is the number of fractions in the input string.
<ul>
<li>The <code>while</code> loop processes each fraction exactly once, and each fraction is processed in constant time. The simplification step, which involves finding the GCD, also takes constant time for each operation since the maximum size of the numbers involved is bounded by the input.</li>
<li>Therefore, the overall time complexity is linear in terms of the number of fractions.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(1)</strong>, aside from the input string. The space complexity is constant because we only use a fixed number of variables (<code>A</code>, <code>B</code>, <code>a</code>, <code>b</code>, <code>g</code>, etc.), and no additional data structures that grow with the input are used. The space required for storing the result is constant as well.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently handles the task of adding multiple fractions and reducing the result to its simplest form. It utilizes basic operations such as GCD computation and fractional arithmetic to achieve the desired result. The approach ensures that the solution is both time-efficient and space-efficient, making it suitable for processing a large number of fractions.</p>
<p>In summary:</p>
<ul>
<li>The input string is parsed to extract individual fractions.</li>
<li>Fractions are added by finding a common denominator and updating the numerator accordingly.</li>
<li>The result is simplified by dividing both the numerator and denominator by their GCD.</li>
<li>The final simplified fraction is returned as a string in the format <code>a/b</code>.</li>
</ul>
<p>This approach ensures correctness and efficiency, and the solution can handle large inputs with ease.</p>
<p><a href="https://leetcode.com/problems/fraction-addition-and-subtraction/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
