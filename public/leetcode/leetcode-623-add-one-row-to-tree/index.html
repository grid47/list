<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 623: Add One Row to Tree | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 623: Add One Row to Tree">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 623: Add One Row to Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-623-add-one-row-to-tree/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 623: Add One Row to Tree">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 623: Add One Row to Tree in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-05T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Tree">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Breadth-First Search">
    <meta property="article:tag" content="Binary Tree">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 623: Add One Row to Tree</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1221s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/623.webp" 
           alt="A binary tree where a new row is being added, with the new row glowing as it is inserted." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 623: Add One Row to Tree Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1221s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> addOneRow(TreeNode<span style="color:#666">*</span> root, <span style="color:#0b0;font-weight:bold">int</span> val, <span style="color:#0b0;font-weight:bold">int</span> d) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (d <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>            TreeNode<span style="color:#666">*</span> newroot <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(val);
</span></span><span style="display:flex;"><span>            newroot<span style="color:#666">-&gt;</span>left <span style="color:#666">=</span> root;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> newroot;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (d <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>            TreeNode<span style="color:#666">*</span> newroot <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(val);
</span></span><span style="display:flex;"><span>            newroot<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> root;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> newroot;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>root) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f;font-weight:bold">nullptr</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(d <span style="color:#666">==</span> <span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>left  <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>left, val, <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>right, val, <span style="color:#666">0</span>);            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>        } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(d <span style="color:#666">&gt;</span> <span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>left  <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>left, val, d <span style="color:#666">-</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            root<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>right, val,d <span style="color:#666">-</span> <span style="color:#666">1</span>);            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to add a new row of nodes with a specific value at a given depth in a binary tree. The depth is specified as <code>d</code>, and the node values of the new row are set to <code>val</code>. There are two possible scenarios:</p>
<ol>
<li>The new row should be inserted at the specified depth <code>d</code>, meaning we need to add new nodes between existing nodes at the given depth.</li>
<li>If <code>d</code> is 1, the new row is inserted at the root level, making the new node the root of the tree.</li>
</ol>
<p>This problem requires careful manipulation of the binary tree structure, ensuring that new nodes are added in the correct positions at the given depth.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem, we use a recursive depth-first search (DFS) approach. The basic idea is:</p>
<ol>
<li>If the depth <code>d</code> is 1, insert a new root node and adjust the structure accordingly.</li>
<li>For any other depth <code>d</code>, recursively traverse the tree until we reach the desired depth, adding a new node at each level.</li>
<li>When the required depth is reached, we insert the new row by creating new nodes and adjusting the child pointers.</li>
</ol>
<p>Here is the detailed step-by-step approach:</p>
<ol>
<li>
<p><strong>Base Case - Depth 1:</strong>
If the given depth <code>d</code> is 1, the new row should be inserted at the root level. Therefore, a new node with the value <code>val</code> is created, and the current root becomes the left child of this new node. We return the new node as the new root of the tree.</p>
</li>
<li>
<p><strong>Base Case - Depth 0:</strong>
If the given depth <code>d</code> is 0, a new node is added as the rightmost child of the root.</p>
</li>
<li>
<p><strong>Recursive Case - For Depths Greater Than 1:</strong>
For depths greater than 1, we recursively traverse the left and right children of the current node. We adjust the child pointers at the specified depth to insert the new node at that level.</p>
</li>
<li>
<p><strong>Recursive Function for Subtree Modification:</strong>
The function <code>addOneRow</code> recursively traverses the tree. At each level, it decrements the depth until it reaches the base cases, where the row is added. This function is called on both the left and right children as we go deeper into the tree.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s go through the code implementation step by step:</p>
<h4 id="step-1-checking-for-depth-1">Step 1: Checking for Depth 1</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (d <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> newroot <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(val);
</span></span><span style="display:flex;"><span>    newroot<span style="color:#666">-&gt;</span>left <span style="color:#666">=</span> root;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> newroot;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the desired depth <code>d</code> is 1, we need to add a new node at the root. A new node with the value <code>val</code> is created, and the current root of the tree becomes the left child of this new node. The new node is returned as the new root.</li>
</ul>
<h4 id="step-2-handling-depth-0">Step 2: Handling Depth 0</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (d <span style="color:#666">==</span> <span style="color:#666">0</span>) {
</span></span><span style="display:flex;"><span>    TreeNode<span style="color:#666">*</span> newroot <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> TreeNode(val);
</span></span><span style="display:flex;"><span>    newroot<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> root;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> newroot;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the depth <code>d</code> is 0 (or some other base case), we create a new node with the value <code>val</code> and set it as the right child of the root.</li>
</ul>
<h4 id="step-3-recursive-case-for-other-depths">Step 3: Recursive Case for Other Depths</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>root) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f;font-weight:bold">nullptr</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(d <span style="color:#666">==</span> <span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>    root<span style="color:#666">-&gt;</span>left  <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>left, val, <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>    root<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>right, val, <span style="color:#666">0</span>);            
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> root;
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(d <span style="color:#666">&gt;</span> <span style="color:#666">2</span>) {
</span></span><span style="display:flex;"><span>    root<span style="color:#666">-&gt;</span>left  <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>left, val, d <span style="color:#666">-</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>    root<span style="color:#666">-&gt;</span>right <span style="color:#666">=</span> addOneRow(root<span style="color:#666">-&gt;</span>right, val, d <span style="color:#666">-</span> <span style="color:#666">1</span>);            
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> root;
</span></span></code></pre></div><ul>
<li>If <code>d &gt; 2</code>, we recursively call the <code>addOneRow</code> function on the left and right subtrees. In each recursive call, we decrease the depth by 1 (<code>d - 1</code>), traversing the tree until we reach the base case where a new row needs to be inserted.</li>
<li>For depth 2, we handle inserting new nodes specifically for the left and right child pointers at that depth.</li>
</ul>
<h4 id="step-4-handling-recursion-and-insertion-at-deeper-levels">Step 4: Handling Recursion and Insertion at Deeper Levels</h4>
<ul>
<li>As the recursion unwinds, it correctly places the new row by adjusting the left and right child pointers of the nodes at the required depth.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(N):</strong> The function traverses the entire tree once, where <code>N</code> is the number of nodes in the tree. At each node, it performs constant-time operations, resulting in an overall time complexity of O(N), where N is the number of nodes in the tree.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(H):</strong> The space complexity is proportional to the depth of the recursion stack, where <code>H</code> is the height of the tree. In the worst case (when the tree is skewed), this will be O(N). However, in a balanced tree, the space complexity would be O(log N).</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently adds a new row of nodes with a specified value at the given depth of a binary tree. By leveraging a recursive approach, we ensure that each level of the tree is processed correctly, and the nodes are inserted at the correct positions. The time complexity of O(N) makes this solution scalable to trees with large numbers of nodes. The use of recursion simplifies the logic, and the function handles edge cases such as adding nodes at the root level or at deeper levels with ease.</p>
<p>This solution is ideal for scenarios where tree structures need to be modified dynamically by adding rows at specific depths, and it performs well within the constraints of typical binary tree problems.</p>
<p><a href="https://leetcode.com/problems/add-one-row-to-tree/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
