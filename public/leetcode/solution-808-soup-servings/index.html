<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 808: Soup Servings | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 808: Soup Servings">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 808: Soup Servings in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/solution-808-soup-servings/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 808: Soup Servings">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 808: Soup Servings in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Probability and Statistics">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/courses/">Course</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
    <div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%20808%3a%20Soup%20Servings&url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f" 
               onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f" 
               onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f&title=Leetcode%20808%3a%20Soup%20Servings" 
               onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f&title=Leetcode%20808%3a%20Soup%20Servings" 
               onclick="window.open(this.href, 'reddit-share', 'width=550,height=435');return false;">
                <i class="fab fa-reddit-alien"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://api.whatsapp.com/send?text=Leetcode%20808%3a%20Soup%20Servings%20http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f" 
               onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;">
                <i class="fab fa-whatsapp"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://telegram.me/share/url?url=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f&text=Leetcode%20808%3a%20Soup%20Servings" 
               onclick="window.open(this.href, 'telegram-share', 'width=550,height=435');return false;">
                <i class="fab fa-telegram-plane"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="mailto:?subject=Leetcode%20808%3a%20Soup%20Servings&body=http%3a%2f%2flocalhost%3a1313%2fleetcode%2fsolution-808-soup-servings%2f" 
               onclick="window.open(this.href, 'email-share', 'width=550,height=435');return false;">
                <i class="fas fa-envelope"></i>
            </a>
        </li> 
    </ul>

    
        <div class="sep">
        </div>				
        <ul>
            <li> 
            <a  class="small smoothscroll" href="#disqus_thread"></a>
            </li>
        </ul>
    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        
                        <h1 class="posttitle">Leetcode 808: Soup Servings</h1> 
                        
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Aug 18, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                                   
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <h2 id="hahahugoshortcode4360s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/808.webp" 
           alt="Bowls of soup where servings are poured, glowing softly as each serving is calculated." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.5em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 808: Soup Servings Problem
      </figcaption>
    
  </figure>
  </h2>
<p>You have two types of soup: A and B, with an initial volume of n ml of each. You can serve soup using four possible operations, each with a 25% chance of being chosen randomly. When serving, the amounts of soups A and B used are specified by each operation. If there is insufficient soup for a full operation, serve as much as possible. The process stops when one of the soups runs out. Return the probability that soup A will be exhausted first, plus half the probability that both soups will be exhausted at the same time.</p>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="input-representations-">Input Representations 📥</h3>
<ul>
<li><strong>Input:</strong> The input consists of a single integer n, which represents the initial amount (in ml) of both soup A and soup B.</li>
<li><strong>Example:</strong> <code>Input: n = 50</code></li>
<li><strong>Constraints:</strong>
<ul>
<li>0 &lt;= n &lt;= 10^9</li>
</ul>
</li>
</ul>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="output-specifications-">Output Specifications 📤</h3>
<ul>
<li><strong>Output:</strong> Return the probability that soup A becomes empty first, plus half the probability that both soups become empty simultaneously. The answer must be accurate to 10^-5.</li>
<li><strong>Example:</strong> <code>Output: 0.62500</code></li>
<li><strong>Constraints:</strong>
<ul>
<li>The answer will be considered correct if the error is within 10^-5 of the actual answer.</li>
</ul>
</li>
</ul>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="core-logic-">Core Logic 🔍</h3>
<p><strong>Goal:</strong> The goal is to calculate the probability of different outcomes where either soup A or both soups become empty based on random choices of operations.</p>
<ul>
<li>Represent the problem as a recursive dynamic programming problem, where each state tracks the remaining soup quantities of A and B.</li>
<li>Use memoization to store the results of already computed states to avoid redundant calculations.</li>
<li>Each recursive call simulates one of the four operations and computes the resulting probabilities, considering the constraints of the problem.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h3 id="problem-assumptions-">Problem Assumptions ✅</h3>
<ul>
<li>We assume that the operation probabilities are equal (0.25 for each of the four operations).</li>
<li>The process stops once either soup A or both soups are exhausted.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h2 id="examples-">Examples 🧩</h2>
<ul>
<li><strong>Input:</strong> <code>Input: n = 50</code>  <br>
<strong>Explanation:</strong> With 50 ml of soup A and B, there are four possible operations to serve the soup. Depending on the operation chosen, either soup A or both soups may be emptied. The probability of each outcome is calculated by simulating the operations and tracking when one or both soups become empty.</li>
</ul>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h2 id="approach-">Approach 🚀</h2>
<p>The approach leverages dynamic programming with memoization to efficiently calculate the probability of each possible outcome based on the operations performed. This avoids recalculating the same state multiple times.</p>
<h3 id="initial-thoughts-">Initial Thoughts 💭</h3>
<ul>
<li>The problem requires recursive thinking due to the multiple choices of operations and the changes in the soup quantities.</li>
<li>Memoization can help optimize the recursive approach by storing the results of already calculated states and reusing them.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h3 id="edge-cases-">Edge Cases 🌐</h3>
<ul>
<li>If n = 0, both soups are already empty, so the result is 0.</li>
<li>For very large values of n, the memoization approach ensures that we do not recompute the same states repeatedly.</li>
<li>If n is very small (e.g., n = 1), the result depends on the available operations and how quickly one soup is exhausted.</li>
<li>Ensure that the solution works efficiently for large values of n.
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p></li>
</ul>
<h2 id="code-">Code 💻</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span><span style="color:#666">&gt;&gt;</span> mem;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">double</span> soupServings(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span><span style="display:flex;"><span>    mem.resize(<span style="color:#666">200</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span><span style="color:#666">&gt;</span>(<span style="color:#666">200</span>, <span style="color:#666">0</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> n <span style="color:#666">&gt;</span> <span style="color:#666">4800</span><span style="color:#666">?</span> <span style="color:#666">1</span><span style="color:#666">:</span>f((n <span style="color:#666">+</span><span style="color:#666">24</span>)<span style="color:#666">/</span><span style="color:#666">25</span>, (n<span style="color:#666">+</span><span style="color:#666">24</span>)<span style="color:#666">/</span><span style="color:#666">25</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">double</span> <span style="color:#00a000">f</span>(<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(a <span style="color:#666">&lt;=</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> b <span style="color:#666">&lt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0.5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(a <span style="color:#666">&lt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(b <span style="color:#666">&lt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mem[a][b] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> mem[a][b];
</span></span><span style="display:flex;"><span> mem[a][b] <span style="color:#666">=</span> <span style="color:#666">0.25</span> <span style="color:#666">*</span> (f(a<span style="color:#666">-</span><span style="color:#666">4</span>, b) <span style="color:#666">+</span> f(a<span style="color:#666">-</span><span style="color:#666">3</span>, b<span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#666">+</span> f(a <span style="color:#666">-</span> <span style="color:#666">2</span>, b <span style="color:#666">-</span><span style="color:#666">2</span>) <span style="color:#666">+</span> f(a<span style="color:#666">-</span><span style="color:#666">1</span>, b<span style="color:#666">-</span><span style="color:#666">3</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> mem[a][b];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This code defines a recursive function with memoization to solve the soup serving problem, where two soups are served in varying amounts, and the goal is to calculate the probability of one soup running out before the other.</p>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h3 id="step-by-step-breakdown-">Step-by-Step Breakdown 🛠️</h3>
<ol>
<li>
<p><strong>Class Definition</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span></code></pre></div><p>This defines a class named &lsquo;Solution&rsquo; where the problem-solving method will be implemented.</p>
</li>
<li>
<p><strong>Variable Declaration</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span><span style="color:#666">&gt;&gt;</span> mem;
</span></span></code></pre></div><p>Declares a 2D vector &lsquo;mem&rsquo; to store the computed probabilities of soup servings.</p>
</li>
<li>
<p><strong>Access Modifier</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><p>This is the access modifier, making the following methods accessible from outside the class.</p>
</li>
<li>
<p><strong>Method Declaration</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">double</span> <span style="color:#00a000">soupServings</span>(<span style="color:#0b0;font-weight:bold">int</span> n) {
</span></span></code></pre></div><p>This method calculates the probability of serving the soups until one runs out, given an initial amount &rsquo;n&rsquo;.</p>
</li>
<li>
<p><strong>Vector Initialization</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    mem.resize(<span style="color:#666">200</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">double</span><span style="color:#666">&gt;</span>(<span style="color:#666">200</span>, <span style="color:#666">0</span>));
</span></span></code></pre></div><p>Resizes the &lsquo;mem&rsquo; vector to store 200 rows and columns, initializing all values to 0.</p>
</li>
<li>
<p><strong>Conditional Return</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> n <span style="color:#666">&gt;</span> <span style="color:#666">4800</span><span style="color:#666">?</span> <span style="color:#666">1</span><span style="color:#666">:</span>f((n <span style="color:#666">+</span><span style="color:#666">24</span>)<span style="color:#666">/</span><span style="color:#666">25</span>, (n<span style="color:#666">+</span><span style="color:#666">24</span>)<span style="color:#666">/</span><span style="color:#666">25</span>);
</span></span></code></pre></div><p>Checks if &rsquo;n&rsquo; is greater than 4800, returning 1 if true, otherwise calling the function &lsquo;f&rsquo; with adjusted parameters.</p>
</li>
<li>
<p><strong>Method Declaration</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">double</span> <span style="color:#00a000">f</span>(<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b) {
</span></span></code></pre></div><p>This method is a helper recursive function that calculates the probability for each state of the soup servings.</p>
</li>
<li>
<p><strong>Base Case Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(a <span style="color:#666">&lt;=</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> b <span style="color:#666">&lt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0.5</span>;
</span></span></code></pre></div><p>Checks if both soups are empty, returning a probability of 0.5 (equal chances of either soup running out first).</p>
</li>
<li>
<p><strong>Base Case Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(a <span style="color:#666">&lt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><p>If soup &lsquo;a&rsquo; is empty, return a probability of 1 (soup &lsquo;b&rsquo; runs out first).</p>
</li>
<li>
<p><strong>Base Case Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(b <span style="color:#666">&lt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>If soup &lsquo;b&rsquo; is empty, return a probability of 0 (soup &lsquo;a&rsquo; runs out first).</p>
</li>
<li>
<p><strong>Memoization Check</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mem[a][b] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> mem[a][b];
</span></span></code></pre></div><p>If the probability for the current state has already been computed, return the stored value from &lsquo;mem&rsquo;.</p>
</li>
<li>
<p><strong>Memoization Update</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span> mem[a][b] <span style="color:#666">=</span> <span style="color:#666">0.25</span> <span style="color:#666">*</span> (f(a<span style="color:#666">-</span><span style="color:#666">4</span>, b) <span style="color:#666">+</span> f(a<span style="color:#666">-</span><span style="color:#666">3</span>, b<span style="color:#666">-</span><span style="color:#666">1</span>) <span style="color:#666">+</span> f(a <span style="color:#666">-</span> <span style="color:#666">2</span>, b <span style="color:#666">-</span><span style="color:#666">2</span>) <span style="color:#666">+</span> f(a<span style="color:#666">-</span><span style="color:#666">1</span>, b<span style="color:#666">-</span><span style="color:#666">3</span>));
</span></span></code></pre></div><p>Recursively computes the probability for the current state by considering all possible moves and updates the &lsquo;mem&rsquo; vector with the result.</p>
</li>
<li>
<p><strong>Return Statement</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> mem[a][b];
</span></span></code></pre></div><p>Returns the computed probability stored in &lsquo;mem&rsquo; for the current state (a, b).</p>
</li>
</ol>
<p style="text-align: center; margin: 50px 0; font-weight: 600; letter-spacing: 0.8em;">...</p>
<h2 id="complexity-analysis-">Complexity Analysis 📊</h2>
<h3 id="time-complexity-">Time Complexity ⏳</h3>
<ul>
<li><strong>Best Case:</strong> O(1) for small n values where the result can be computed directly.</li>
<li><strong>Average Case:</strong> O(n^2) due to the recursive nature of the solution with memoization for a grid of possible states.</li>
<li><strong>Worst Case:</strong> O(n^2), where n is the maximum possible value.</li>
</ul>
<p>The time complexity depends on the number of unique states and the recursive depth of the function.</p>
<h3 id="space-complexity-">Space Complexity 💾</h3>
<ul>
<li><strong>Best Case:</strong> O(1), for very small n values where minimal space is needed.</li>
<li><strong>Worst Case:</strong> O(n^2), since the memoization stores results for each pair of soup quantities.</li>
</ul>
<p>The space complexity is determined by the memoization table, which stores results for each pair of remaining soup quantities.</p>
<p><strong>Happy Coding! 🎉</strong></p>
<p><a href="https://leetcode.com/problems/soup-servings/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>
                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/math">Math</a>
                        </li>
                        
                        <li>
                        <a href="/tags/dynamic-programming">Dynamic Programming</a>
                        </li>
                        
                        <li>
                        <a href="/tags/probability-and-statistics">Probability and Statistics</a>
                        </li>
                        
                        </ul>
                    </div>
                                        
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="http://localhost:1313/leetcode/solution-807-max-increase-to-keep-city-skyline/"> &laquo; Leetcode 807: Max Increase to Keep City Skyline</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="http://localhost:1313/leetcode/solution-809-expressive-words/">Leetcode 809: Expressive Words &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>                                                            
                    
                </div>
                
            </div>
        </div>
        
        
<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-8">              
            <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>               
        </div>
    </div>
</div>

    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
