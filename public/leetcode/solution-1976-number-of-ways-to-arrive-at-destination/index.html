<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1976: Number of Ways to Arrive at Destination | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1976: Number of Ways to Arrive at Destination">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1976: Number of Ways to Arrive at Destination in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="https://www.grid47.xyz/leetcode/solution-1976-number-of-ways-to-arrive-at-destination/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1976: Number of Ways to Arrive at Destination">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1976: Number of Ways to Arrive at Destination in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-04-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Graph">
    <meta property="article:tag" content="Topological Sort">
    <meta property="article:tag" content="Shortest Path">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="https://www.grid47.xyz//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/courses/">Course</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
    <div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%201976%3a%20Number%20of%20Ways%20to%20Arrive%20at%20Destination&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f" 
               onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f" 
               onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f&title=Leetcode%201976%3a%20Number%20of%20Ways%20to%20Arrive%20at%20Destination" 
               onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://reddit.com/submit?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f&title=Leetcode%201976%3a%20Number%20of%20Ways%20to%20Arrive%20at%20Destination" 
               onclick="window.open(this.href, 'reddit-share', 'width=550,height=435');return false;">
                <i class="fab fa-reddit-alien"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://api.whatsapp.com/send?text=Leetcode%201976%3a%20Number%20of%20Ways%20to%20Arrive%20at%20Destination%20https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f" 
               onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;">
                <i class="fab fa-whatsapp"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://telegram.me/share/url?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f&text=Leetcode%201976%3a%20Number%20of%20Ways%20to%20Arrive%20at%20Destination" 
               onclick="window.open(this.href, 'telegram-share', 'width=550,height=435');return false;">
                <i class="fab fa-telegram-plane"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="mailto:?subject=Leetcode%201976%3a%20Number%20of%20Ways%20to%20Arrive%20at%20Destination&body=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-1976-number-of-ways-to-arrive-at-destination%2f" 
               onclick="window.open(this.href, 'email-share', 'width=550,height=435');return false;">
                <i class="fas fa-envelope"></i>
            </a>
        </li> 
    </ul>

    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        
                        <h1 class="posttitle">Leetcode 1976: Number of Ways to Arrive at Destination</h1> 
                        
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Apr 23, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                                   
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode484s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080">#define ll long long
</span></span></span><span style="display:flex;"><span><span style="color:#080">#define pll pair&lt;ll, ll&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#080"></span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countPaths(<span style="color:#0b0;font-weight:bold">int</span> n, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> rds) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>pll<span style="color:#666">&gt;&gt;</span> gph(n);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">e</span> : rds) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> u <span style="color:#666">=</span> e[<span style="color:#666">0</span>], v <span style="color:#666">=</span> e[<span style="color:#666">1</span>], time <span style="color:#666">=</span> e[<span style="color:#666">2</span>];
</span></span><span style="display:flex;"><span>            gph[u].push_back({v, time});
</span></span><span style="display:flex;"><span>            gph[v].push_back({u, time});
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>ll<span style="color:#666">&gt;</span> ways(n, <span style="color:#666">0</span>), dst(n, LLONG_MAX);
</span></span><span style="display:flex;"><span>        ways[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>         dst[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pll, vector<span style="color:#666">&lt;</span>pll<span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        pq.push({<span style="color:#666">0</span>, <span style="color:#666">0</span>});
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>          <span style="color:#a2f;font-weight:bold">auto</span> [d, u] <span style="color:#666">=</span> pq.top();
</span></span><span style="display:flex;"><span>          pq.pop();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>   <span style="color:#a2f;font-weight:bold">for</span>(pll <span style="color:#a0a000">nb</span> : gph[u]) {
</span></span><span style="display:flex;"><span>              <span style="color:#0b0;font-weight:bold">int</span> nxt <span style="color:#666">=</span> nb.first, t <span style="color:#666">=</span> nb.second;
</span></span><span style="display:flex;"><span>       <span style="color:#a2f;font-weight:bold">if</span>(dst[nxt] <span style="color:#666">&gt;</span> d <span style="color:#666">+</span> t) {
</span></span><span style="display:flex;"><span>           
</span></span><span style="display:flex;"><span>           dst[nxt] <span style="color:#666">=</span> d <span style="color:#666">+</span> t;
</span></span><span style="display:flex;"><span>           ways[nxt] <span style="color:#666">=</span> ways[u];
</span></span><span style="display:flex;"><span>           pq.push({d <span style="color:#666">+</span> t, nxt});
</span></span><span style="display:flex;"><span>       } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (dst[nxt] <span style="color:#666">==</span> d <span style="color:#666">+</span> t) {
</span></span><span style="display:flex;"><span>           ways[nxt] <span style="color:#666">=</span> (ways[nxt] <span style="color:#666">+</span> ways[u]) <span style="color:#666">%</span> <span style="color:#666">1000000007</span>;
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ways[n <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The objective of this problem is to count the number of distinct paths in a graph where each path has the minimum travel time. Given a number of nodes and a list of edges that represent roads between them along with their respective travel times, we need to determine how many different ways we can reach from the starting node (node 0) to the destination node (node n-1) while ensuring the travel time is minimized.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can utilize Dijkstra’s algorithm, which is commonly used for finding the shortest paths in a graph. The steps involved in our approach are as follows:</p>
<ol>
<li>
<p><strong>Graph Representation</strong>: We will represent the graph using an adjacency list. Each node will have a list of pairs where each pair contains a neighboring node and the weight (travel time) of the edge leading to that neighbor.</p>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>A priority queue will be used to always expand the node with the currently known shortest distance.</li>
<li>Two arrays will be maintained:
<ul>
<li><code>ways</code> to count the number of ways to reach each node.</li>
<li><code>dst</code> to store the minimum distance to each node.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Dijkstra’s Algorithm</strong>:</p>
<ul>
<li>Start from the source node (node 0) and initialize its distance to 0 and the number of ways to reach it to 1.</li>
<li>For each node, explore its neighbors. If a shorter path to a neighbor is found, update its distance and the number of ways to reach it.</li>
<li>If an alternative path to a neighbor has the same distance as the previously known shortest distance, increment the number of ways to reach that neighbor by the number of ways to reach the current node.</li>
</ul>
</li>
<li>
<p><strong>Result</strong>: Finally, return the count of distinct paths to the destination node (node n-1).</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080">#define ll long long
</span></span></span><span style="display:flex;"><span><span style="color:#080">#define pll pair&lt;ll, ll&gt;
</span></span></span></code></pre></div><p>Here, we define <code>ll</code> as an alias for <code>long long</code> to handle large integer values and <code>pll</code> as a pair of long long integers for ease of use in the priority queue.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> countPaths(<span style="color:#0b0;font-weight:bold">int</span> n, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> rds) {
</span></span></code></pre></div><p>The main class <code>Solution</code> contains the method <code>countPaths</code>, which takes the number of nodes <code>n</code> and a vector of roads <code>rds</code> as parameters.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span>pll<span style="color:#666">&gt;&gt;</span> gph(n);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span><span style="color:#a0a000">e</span> : rds) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> u <span style="color:#666">=</span> e[<span style="color:#666">0</span>], v <span style="color:#666">=</span> e[<span style="color:#666">1</span>], time <span style="color:#666">=</span> e[<span style="color:#666">2</span>];
</span></span><span style="display:flex;"><span>            gph[u].push_back({v, time});
</span></span><span style="display:flex;"><span>            gph[v].push_back({u, time});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><p>We initialize an adjacency list <code>gph</code> of size <code>n</code> and populate it with edges from the <code>rds</code> vector. Each edge connects two nodes and has a travel time.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>ll<span style="color:#666">&gt;</span> ways(n, <span style="color:#666">0</span>), dst(n, LLONG_MAX);
</span></span><span style="display:flex;"><span>        ways[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        dst[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>Two vectors are initialized:</p>
<ul>
<li><code>ways</code> to count the number of paths to each node, initialized to zero, except for the starting node which is set to 1.</li>
<li><code>dst</code> to keep track of the shortest distance to each node, initialized to <code>LLONG_MAX</code> for all nodes except the starting node, which is set to 0.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pll, vector<span style="color:#666">&lt;</span>pll<span style="color:#666">&gt;</span>, greater<span style="color:#666">&lt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        pq.push({<span style="color:#666">0</span>, <span style="color:#666">0</span>});
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><p>A priority queue <code>pq</code> is initialized to facilitate Dijkstra’s algorithm. The starting node (0) with a distance of 0 is pushed onto the queue.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> [d, u] <span style="color:#666">=</span> pq.top();
</span></span><span style="display:flex;"><span>            pq.pop();
</span></span></code></pre></div><p>The main loop continues as long as there are nodes in the priority queue. The node with the smallest distance is retrieved and removed from the queue.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(pll <span style="color:#a0a000">nb</span> : gph[u]) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> nxt <span style="color:#666">=</span> nb.first, t <span style="color:#666">=</span> nb.second;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(dst[nxt] <span style="color:#666">&gt;</span> d <span style="color:#666">+</span> t) {
</span></span><span style="display:flex;"><span>                    dst[nxt] <span style="color:#666">=</span> d <span style="color:#666">+</span> t;
</span></span><span style="display:flex;"><span>                    ways[nxt] <span style="color:#666">=</span> ways[u];
</span></span><span style="display:flex;"><span>                    pq.push({d <span style="color:#666">+</span> t, nxt});
</span></span><span style="display:flex;"><span>                } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (dst[nxt] <span style="color:#666">==</span> d <span style="color:#666">+</span> t) {
</span></span><span style="display:flex;"><span>                    ways[nxt] <span style="color:#666">=</span> (ways[nxt] <span style="color:#666">+</span> ways[u]) <span style="color:#666">%</span> <span style="color:#666">1000000007</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><p>For each neighbor <code>nb</code> of the current node <code>u</code>, we check if a shorter path to <code>nxt</code> (the neighbor) can be established. If so:</p>
<ul>
<li>Update the shortest distance to <code>nxt</code>.</li>
<li>Update the number of ways to reach <code>nxt</code> using the number of ways to reach <code>u</code>.</li>
<li>Push the new distance and the neighbor onto the priority queue.
If the shortest distance to <code>nxt</code> is equal to the newly computed distance, it means we&rsquo;ve found another way to reach <code>nxt</code>, and we add the number of ways to reach <code>u</code> to <code>ways[nxt]</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ways[n <span style="color:#666">-</span> <span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Finally, the method returns the number of distinct paths to reach the destination node (n-1).</p>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The algorithm runs in (O((V + E) \log V)), where (V) is the number of vertices (nodes) and (E) is the number of edges. This is because each edge is processed at most once, and each insertion and extraction from the priority queue takes logarithmic time.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(V + E)) due to the adjacency list representation of the graph and the additional storage used for distances and paths.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution effectively counts the number of distinct paths from the starting node to the destination node while ensuring the paths are the shortest possible. The use of Dijkstra’s algorithm combined with the maintenance of a count of distinct paths allows for an optimal and clear solution to the problem. The overall design is efficient and handles large inputs gracefully due to the use of appropriate data structures.</p>
<h3 id="example-usage">Example Usage</h3>
<p>Here’s an example of how to use the <code>countPaths</code> function:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>Solution sol;
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> roads <span style="color:#666">=</span> {{<span style="color:#666">0</span>, <span style="color:#666">1</span>, <span style="color:#666">2</span>}, {<span style="color:#666">0</span>, <span style="color:#666">2</span>, <span style="color:#666">5</span>}, {<span style="color:#666">1</span>, <span style="color:#666">2</span>, <span style="color:#666">1</span>}};
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">3</span>; <span style="color:#080;font-style:italic">// Number of nodes
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#0b0;font-weight:bold">int</span> result <span style="color:#666">=</span> sol.countPaths(n, roads);
</span></span><span style="display:flex;"><span>cout <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;Number of distinct paths from node 0 to node &#34;</span> <span style="color:#666">&lt;&lt;</span> n<span style="color:#666">-</span><span style="color:#666">1</span> <span style="color:#666">&lt;&lt;</span> <span style="color:#b44">&#34;: &#34;</span> <span style="color:#666">&lt;&lt;</span> result <span style="color:#666">&lt;&lt;</span> endl; <span style="color:#080;font-style:italic">// Example output
</span></span></span></code></pre></div><p>This example initializes a graph with roads and computes the number of distinct paths from node 0 to node n-1, providing a practical demonstration of the algorithm&rsquo;s functionality.</p>
<h3 id="potential-improvements-and-variations">Potential Improvements and Variations</h3>
<ol>
<li>
<p><strong>Handling Large Graphs</strong>: For extremely large graphs, consider using bidirectional Dijkstra’s algorithm to potentially speed up the search for shortest paths.</p>
</li>
<li>
<p><strong>Path Reconstruction</strong>: This approach can be extended to not only count paths but also reconstruct the paths themselves if needed.</p>
</li>
<li>
<p><strong>Adaptability</strong>: The core logic can be adapted for directed graphs or weighted graphs with different constraints.</p>
</li>
</ol>
<p>This solution serves as an efficient and robust method for counting distinct shortest paths in a graph, showcasing effective algorithmic strategies and data structures in action.</p>
<p><a href="https://leetcode.com/problems/number-of-ways-to-arrive-at-destination/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/1JCXqupyLoQ?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/dynamic-programming">Dynamic Programming</a>
                        </li>
                        
                        <li>
                        <a href="/tags/graph">Graph</a>
                        </li>
                        
                        <li>
                        <a href="/tags/topological-sort">Topological Sort</a>
                        </li>
                        
                        <li>
                        <a href="/tags/shortest-path">Shortest Path</a>
                        </li>
                        
                        </ul>
                    </div>
                    
                    
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="https://www.grid47.xyz/leetcode/solution-1975-maximum-matrix-sum/"> &laquo; Leetcode 1975: Maximum Matrix Sum</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="https://www.grid47.xyz/leetcode/solution-1979-find-greatest-common-divisor-of-array/">Leetcode 1979: Find Greatest Common Divisor of Array &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>
        
        
    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/database">database</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="https://www.grid47.xyz/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
