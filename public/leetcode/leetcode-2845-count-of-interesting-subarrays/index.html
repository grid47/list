<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2845: Count of Interesting Subarrays | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2845: Count of Interesting Subarrays">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2845: Count of Interesting Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2845-count-of-interesting-subarrays/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2845: Count of Interesting Subarrays">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2845: Count of Interesting Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Prefix Sum">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2845: Count of Interesting Subarrays</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode976s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> countInterestingSubarrays(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums, <span style="color:#0b0;font-weight:bold">int</span> mod, <span style="color:#0b0;font-weight:bold">int</span> k) {        
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>,<span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>, prefix <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        mp[<span style="color:#666">0</span>]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i<span style="color:#666">=</span><span style="color:#666">0</span>;i<span style="color:#666">&lt;</span>n;i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(nums[i]<span style="color:#666">%</span>mod<span style="color:#666">==</span>k) prefix<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            prefix<span style="color:#666">%=</span>mod;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp.find((prefix<span style="color:#666">-</span>k<span style="color:#666">+</span>mod)<span style="color:#666">%</span>mod)<span style="color:#666">!=</span>mp.end()) 
</span></span><span style="display:flex;"><span>                ans <span style="color:#666">+=</span> mp[(prefix<span style="color:#666">-</span>k<span style="color:#666">+</span>mod)<span style="color:#666">%</span>mod];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            mp[prefix]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given an array <code>nums</code> of integers, we are asked to find the number of subarrays in <code>nums</code> such that the sum of the subarray elements satisfies a certain condition. Specifically, the sum of the subarray elements, when taken modulo <code>mod</code>, must equal a given value <code>k</code>.</p>
<p>The task is to efficiently compute the number of such subarrays.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem efficiently, we can use the concept of prefix sums combined with a hash map (unordered_map). The key observation is that we can use the prefix sum modulo <code>mod</code> to track how many times a particular modulo has occurred before, and this helps us determine when we have found a valid subarray.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-data-structures">Step 1: Initialize Data Structures</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span>, <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>, prefix <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>mp[<span style="color:#666">0</span>]<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li><code>mp</code> is an unordered map used to store the count of prefix sums modulo <code>mod</code>. The key is the prefix sum modulo <code>mod</code>, and the value is the count of how many times this modulo has occurred.</li>
<li><code>ans</code> is the variable that will store the final result, which is the number of valid subarrays.</li>
<li><code>prefix</code> keeps track of the current prefix sum modulo <code>mod</code>.</li>
<li><code>n</code> stores the length of the input array <code>nums</code>.</li>
<li><code>mp[0] = 1</code> is initialized to handle the case where the prefix sum modulo <code>mod</code> itself equals <code>k</code> without needing to look at previous values.</li>
</ul>
<h4 id="step-2-loop-through-the-array">Step 2: Loop Through the Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (nums[i] <span style="color:#666">%</span> mod <span style="color:#666">==</span> k) prefix<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    prefix <span style="color:#666">%=</span> mod;
</span></span></code></pre></div><ul>
<li>We iterate through each element <code>nums[i]</code> of the array.</li>
<li>If the current element <code>nums[i]</code> modulo <code>mod</code> equals <code>k</code>, we increment the <code>prefix</code>. This increment tracks how many elements so far have met the condition (i.e., having <code>nums[i] % mod == k</code>).</li>
<li>We then update <code>prefix</code> to keep it in the range <code>[0, mod-1]</code> by taking the modulo of the current <code>prefix</code> with <code>mod</code>.</li>
</ul>
<h4 id="step-3-check-for-valid-subarrays">Step 3: Check for Valid Subarrays</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (mp.find((prefix <span style="color:#666">-</span> k <span style="color:#666">+</span> mod) <span style="color:#666">%</span> mod) <span style="color:#666">!=</span> mp.end())
</span></span><span style="display:flex;"><span>    ans <span style="color:#666">+=</span> mp[(prefix <span style="color:#666">-</span> k <span style="color:#666">+</span> mod) <span style="color:#666">%</span> mod];
</span></span></code></pre></div><ul>
<li>We check if there is a previously encountered prefix sum that, when added to the current <code>prefix</code>, results in a sum that is congruent to <code>k</code> modulo <code>mod</code>.</li>
<li>Specifically, we check if <code>(prefix - k + mod) % mod</code> has appeared before in the <code>mp</code> map. If it has, the number of such occurrences is added to the answer <code>ans</code>.</li>
<li>This step works because if a certain prefix sum modulo <code>mod</code> has appeared earlier, it means there exists a subarray (from that earlier position to the current position) whose sum modulo <code>mod</code> equals <code>k</code>.</li>
</ul>
<h4 id="step-4-update-the-map">Step 4: Update the Map</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>mp[prefix]<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>After checking for valid subarrays, we increment the count of the current <code>prefix</code> modulo <code>mod</code> in the map <code>mp</code>. This allows us to track how many times this particular modulo has been encountered, enabling future subarray checks.</li>
</ul>
<h4 id="step-5-return-the-result">Step 5: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><ul>
<li>Finally, after iterating through the entire array, we return the value of <code>ans</code>, which contains the number of subarrays that satisfy the condition.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n)</strong>: The algorithm loops through each element of the array exactly once. Inside the loop, the operations (updating the map and checking for valid subarrays) take constant time on average. Thus, the overall time complexity is linear in the size of the input array <code>nums</code>.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(mod)</strong>: The space complexity is determined by the size of the map <code>mp</code>, which stores counts for each possible value of <code>prefix % mod</code>. Since there are <code>mod</code> possible values for the prefix sum modulo <code>mod</code>, the space complexity is proportional to <code>mod</code>. In the worst case, this is a constant space usage, as <code>mod</code> is typically small compared to the size of the input array <code>nums</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution leverages the power of prefix sums and hash maps to efficiently count the number of subarrays that satisfy the given condition. By maintaining a running <code>prefix</code> sum modulo <code>mod</code> and using a hash map to track how often each prefix modulo has been seen, we can efficiently compute the number of valid subarrays. The algorithm runs in linear time and uses constant space relative to the modulus, making it highly efficient for large arrays. This approach is much more optimal than a brute force solution, which would involve checking all possible subarrays directly, leading to a much higher time complexity.</p>
<p><a href="https://leetcode.com/problems/count-of-interesting-subarrays/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ao6glAa0ljY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
