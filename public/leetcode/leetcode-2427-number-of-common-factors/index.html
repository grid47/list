<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2427: Number of Common Factors | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2427: Number of Common Factors">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2427: Number of Common Factors in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2427-number-of-common-factors/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2427: Number of Common Factors">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2427: Number of Common Factors in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Enumeration">
    <meta property="article:tag" content="Number Theory">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2427: Number of Common Factors</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode754s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> commonFactors(<span style="color:#0b0;font-weight:bold">int</span> a, <span style="color:#0b0;font-weight:bold">int</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">1</span>, hi <span style="color:#666">=</span> gcd(a, b);
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">2</span>; n <span style="color:#666">&lt;=</span> hi; <span style="color:#666">++</span>n)
</span></span><span style="display:flex;"><span>        res <span style="color:#666">+=</span> a <span style="color:#666">%</span> n <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> b <span style="color:#666">%</span> n <span style="color:#666">==</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires calculating the number of common factors (or divisors) between two integers <code>a</code> and <code>b</code>. A common factor is a number that divides both <code>a</code> and <code>b</code> without leaving a remainder. Your task is to return the total number of such common divisors between the two given integers.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to find the divisors of both numbers and count the ones that are common between the two. However, we can optimize the process by leveraging the <strong>greatest common divisor (GCD)</strong> of the two numbers.</p>
<h4 id="key-insights">Key Insights</h4>
<ol>
<li>
<p><strong>Divisors of a Number</strong>:</p>
<ul>
<li>The divisors of a number <code>n</code> are the integers <code>x</code> such that <code>n % x == 0</code>.</li>
<li>Divisors come in pairs. For example, if <code>x</code> divides <code>n</code>, then <code>n / x</code> also divides <code>n</code>.</li>
</ul>
</li>
<li>
<p><strong>Common Divisors</strong>:</p>
<ul>
<li>The common divisors of two numbers <code>a</code> and <code>b</code> are the divisors of their GCD. This is because any divisor of the GCD is guaranteed to be a divisor of both <code>a</code> and <code>b</code>.</li>
<li>Thus, instead of iterating through all numbers from 1 to <code>min(a, b)</code>, we only need to consider the divisors of <code>gcd(a, b)</code>.</li>
</ul>
</li>
<li>
<p><strong>Efficient Counting</strong>:</p>
<ul>
<li>Once we have the GCD of the two numbers, the problem reduces to counting the divisors of the GCD.</li>
<li>This can be done by checking for each integer from <code>1</code> to <code>sqrt(gcd(a, b))</code>. For each such number <code>n</code>, both <code>n</code> and <code>gcd(a, b) / n</code> (if distinct) are divisors.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s walk through the code provided in the solution.</p>
<h4 id="step-1-calculate-the-gcd-of-a-and-b">Step 1: Calculate the GCD of <code>a</code> and <code>b</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> hi <span style="color:#666">=</span> gcd(a, b);
</span></span></code></pre></div><ul>
<li>The function <code>gcd(a, b)</code> is used to calculate the greatest common divisor of the integers <code>a</code> and <code>b</code>. The result, stored in <code>hi</code>, is the largest integer that divides both <code>a</code> and <code>b</code>.</li>
<li>By focusing on the divisors of <code>hi</code>, we guarantee that we&rsquo;re only counting the common divisors of <code>a</code> and <code>b</code>.</li>
</ul>
<h4 id="step-2-initialize-the-result">Step 2: Initialize the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>We initialize the result variable <code>res</code> to <code>1</code>. This is because <code>1</code> is always a common divisor of any two numbers. Therefore, we begin the count with one.</li>
</ul>
<h4 id="step-3-loop-through-possible-divisors">Step 3: Loop Through Possible Divisors</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">2</span>; n <span style="color:#666">&lt;=</span> hi; <span style="color:#666">++</span>n)
</span></span><span style="display:flex;"><span>    res <span style="color:#666">+=</span> a <span style="color:#666">%</span> n <span style="color:#666">==</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> b <span style="color:#666">%</span> n <span style="color:#666">==</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>We loop through all integers from <code>2</code> to <code>hi</code> (the GCD of <code>a</code> and <code>b</code>).</li>
<li>For each integer <code>n</code>, we check if both <code>a</code> and <code>b</code> are divisible by <code>n</code> (i.e., <code>a % n == 0 &amp;&amp; b % n == 0</code>). If this is true, then <code>n</code> is a common divisor of both <code>a</code> and <code>b</code>.</li>
<li>We increment the result <code>res</code> for each common divisor found.</li>
</ul>
<h4 id="step-4-return-the-result">Step 4: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><ul>
<li>After the loop, the result <code>res</code> contains the count of common divisors between <code>a</code> and <code>b</code>, including <code>1</code> which was initially added.</li>
<li>Finally, we return the value of <code>res</code> as the output.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<p>The time complexity of this solution depends on two main operations:</p>
<ol>
<li>
<p><strong>GCD Calculation</strong>:</p>
<ul>
<li>The <code>gcd(a, b)</code> function computes the greatest common divisor of <code>a</code> and <code>b</code> using the <strong>Euclidean algorithm</strong>. The time complexity of this operation is <strong>O(log(min(a, b)))</strong>.</li>
</ul>
</li>
<li>
<p><strong>Counting Divisors</strong>:</p>
<ul>
<li>To find the divisors of the GCD, we iterate through all integers from <code>2</code> to <code>sqrt(gcd(a, b))</code>. The number of iterations is proportional to <strong>O(sqrt(hi))</strong>, where <code>hi</code> is the GCD of <code>a</code> and <code>b</code>.</li>
</ul>
</li>
</ol>
<p>Therefore, the total time complexity is:</p>
<p>[
O(\log(\min(a, b))) + O(\sqrt{\text{gcd}(a, b)})
]</p>
<p>In the worst case, the time complexity is <strong>O(sqrt(gcd(a, b)))</strong>, since the GCD calculation is logarithmic and the divisor-counting step is more significant.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<p>The space complexity is <strong>O(1)</strong> because the algorithm uses a constant amount of extra space (apart from the input variables). We are not using any additional data structures that grow with the size of the input.</p>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<p>Let&rsquo;s go through a small example to better understand how the algorithm works.</p>
<h4 id="example-1-a--12-b--18">Example 1: <code>a = 12</code>, <code>b = 18</code></h4>
<ol>
<li>
<p><strong>Calculate GCD</strong>:</p>
<ul>
<li>The GCD of <code>12</code> and <code>18</code> is <code>6</code>.</li>
</ul>
</li>
<li>
<p><strong>Count Divisors of 6</strong>:</p>
<ul>
<li>The divisors of <code>6</code> are <code>1</code>, <code>2</code>, <code>3</code>, and <code>6</code>.</li>
<li>We check each number from <code>2</code> to <code>6</code>:
<ul>
<li><code>2</code> divides both <code>12</code> and <code>18</code>, so it&rsquo;s a common divisor.</li>
<li><code>3</code> divides both <code>12</code> and <code>18</code>, so it&rsquo;s a common divisor.</li>
<li><code>6</code> divides both <code>12</code> and <code>18</code>, so it&rsquo;s a common divisor.</li>
</ul>
</li>
<li>The total number of common divisors is <code>4</code> (including <code>1</code>).</li>
</ul>
</li>
</ol>
<h4 id="example-2-a--15-b--25">Example 2: <code>a = 15</code>, <code>b = 25</code></h4>
<ol>
<li>
<p><strong>Calculate GCD</strong>:</p>
<ul>
<li>The GCD of <code>15</code> and <code>25</code> is <code>5</code>.</li>
</ul>
</li>
<li>
<p><strong>Count Divisors of 5</strong>:</p>
<ul>
<li>The divisors of <code>5</code> are <code>1</code> and <code>5</code>.</li>
<li>We check each number from <code>2</code> to <code>5</code>:
<ul>
<li><code>5</code> divides both <code>15</code> and <code>25</code>, so it&rsquo;s a common divisor.</li>
</ul>
</li>
<li>The total number of common divisors is <code>2</code> (including <code>1</code>).</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently calculates the number of common divisors between two integers using the GCD. By focusing on the divisors of the GCD, we avoid unnecessary checks and reduce the problem to a more manageable size. The algorithm is optimal with respect to both time and space, and it performs well even for large values of <code>a</code> and <code>b</code>. This method provides a clear and concise way to solve the problem while leveraging the properties of divisors and the GCD.</p>
<p><a href="https://leetcode.com/problems/number-of-common-factors/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/QzFzbNvmRgs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
