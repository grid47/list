<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 121: Best Time to Buy and Sell Stock | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 121: Best Time to Buy and Sell Stock">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 121: Best Time to Buy and Sell Stock in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-121-best-time-to-buy-and-sell-stock/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 121: Best Time to Buy and Sell Stock">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 121: Best Time to Buy and Sell Stock in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-10-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 121: Best Time to Buy and Sell Stock</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode106s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/121.webp" 
           alt="A soft, glowing chart of stock prices with a smooth line representing the best time to buy and sell." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 121: Best Time to Buy and Sell Stock Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode106s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> maxProfit(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> prices) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> prices[<span style="color:#666">0</span>], g <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">x</span>: prices) {
</span></span><span style="display:flex;"><span>            l <span style="color:#666">=</span> min(l, x);
</span></span><span style="display:flex;"><span>            g <span style="color:#666">=</span> max(g, x <span style="color:#666">-</span> l);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> g;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="-max-profit-from-stock-trading--lets-maximize-your-gains">üìà <strong>Max Profit from Stock Trading</strong> ‚Äì Let‚Äôs Maximize Your Gains!</h3>
<p>The <strong>Max Profit</strong> problem asks you to find the maximum profit you can make from buying and selling a stock, given an array of stock prices where each element represents the stock&rsquo;s price on a particular day. Your objective is to buy at one point and sell later for the highest possible profit. If no profit can be made, return <code>0</code>.</p>
<h4 id="example-walkthrough"><strong>Example Walkthrough</strong>:</h4>
<ul>
<li>
<p><strong>Input</strong>: <code>prices = [7, 1, 5, 3, 6, 4]</code></p>
</li>
<li>
<p><strong>Output</strong>: <code>5</code></p>
<ul>
<li><strong>Explanation</strong>: Buy on day 2 (price = 1), sell on day 5 (price = 6), resulting in a profit of <code>6 - 1 = 5</code>.</li>
</ul>
</li>
<li>
<p><strong>Input</strong>: <code>prices = [7, 6, 4, 3, 1]</code></p>
</li>
<li>
<p><strong>Output</strong>: <code>0</code></p>
<ul>
<li><strong>Explanation</strong>: No transaction can be made as prices are always decreasing.</li>
</ul>
</li>
</ul>
<h3 id="-approach-to-solve-the-problem">üí° <strong>Approach to Solve the Problem</strong></h3>
<p>To solve this efficiently, we need to track the minimum stock price observed so far and calculate the maximum profit by selling at each day‚Äôs price. Here‚Äôs how we can approach it:</p>
<ol>
<li><strong>Track the Minimum Price</strong> (<code>l</code>): Start by setting the minimum price to the first price in the array.</li>
<li><strong>Calculate the Potential Profit</strong>: For each price, subtract the minimum price from the current price to determine the potential profit.</li>
<li><strong>Track the Maximum Profit</strong> (<code>g</code>): Update the maximum profit whenever we find a higher profit than the previous maximum.</li>
</ol>
<p>This approach ensures we only need to traverse the array once.</p>
<h3 id="-code-breakdown-step-by-step">üñ•Ô∏è <strong>Code Breakdown (Step-by-Step)</strong></h3>
<h4 id="function-signature"><strong>Function Signature</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> maxProfit(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> prices)
</span></span></code></pre></div><p>This function takes a vector of integers, <code>prices</code>, which represent stock prices over several days, and returns an integer representing the maximum profit from a single buy and sell transaction.</p>
<h4 id="initialize-variables"><strong>Initialize Variables</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> prices[<span style="color:#666">0</span>], g <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li><code>l</code>: Stores the minimum price observed so far.</li>
<li><code>g</code>: Stores the maximum profit encountered so far, initialized to <code>0</code>.</li>
</ul>
<h4 id="iterate-over-prices"><strong>Iterate Over Prices</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">x</span>: prices) {
</span></span><span style="display:flex;"><span>    l <span style="color:#666">=</span> min(l, x); <span style="color:#080;font-style:italic">// Update the minimum price
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    g <span style="color:#666">=</span> max(g, x <span style="color:#666">-</span> l); <span style="color:#080;font-style:italic">// Update the maximum profit
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><ul>
<li><strong>Updating <code>l</code></strong>: For each price <code>x</code>, update <code>l</code> to be the minimum of the current price and <code>l</code>.</li>
<li><strong>Updating <code>g</code></strong>: Calculate the potential profit (<code>x - l</code>) and update <code>g</code> if the current profit is greater than the previous maximum.</li>
</ul>
<h4 id="return-the-maximum-profit"><strong>Return the Maximum Profit</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> g;
</span></span></code></pre></div><p>After iterating through all prices, return <code>g</code>, which holds the maximum profit.</p>
<h3 id="-example-walkthrough">üé¨ <strong>Example Walkthrough</strong></h3>
<p>Let‚Äôs walk through an example to see the algorithm in action.</p>
<h4 id="input-prices--7-1-5-3-6-4"><strong>Input</strong>: <code>prices = [7, 1, 5, 3, 6, 4]</code></h4>
<ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li><code>l = 7</code>, <code>g = 0</code>.</li>
</ul>
</li>
<li>
<p><strong>Iterate Over Prices</strong>:</p>
<ul>
<li>
<p><strong>Price 7</strong>:</p>
<ul>
<li><code>l = min(7, 7) = 7</code></li>
<li><code>g = max(0, 7 - 7) = 0</code></li>
</ul>
</li>
<li>
<p><strong>Price 1</strong>:</p>
<ul>
<li><code>l = min(7, 1) = 1</code></li>
<li><code>g = max(0, 1 - 1) = 0</code></li>
</ul>
</li>
<li>
<p><strong>Price 5</strong>:</p>
<ul>
<li><code>l = min(1, 5) = 1</code></li>
<li><code>g = max(0, 5 - 1) = 4</code></li>
</ul>
</li>
<li>
<p><strong>Price 3</strong>:</p>
<ul>
<li><code>l = min(1, 3) = 1</code></li>
<li><code>g = max(4, 3 - 1) = 4</code></li>
</ul>
</li>
<li>
<p><strong>Price 6</strong>:</p>
<ul>
<li><code>l = min(1, 6) = 1</code></li>
<li><code>g = max(4, 6 - 1) = 5</code></li>
</ul>
</li>
<li>
<p><strong>Price 4</strong>:</p>
<ul>
<li><code>l = min(1, 4) = 1</code></li>
<li><code>g = max(5, 4 - 1) = 5</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Final Output</strong>:</p>
<ul>
<li>The maximum profit is <code>5</code>.</li>
</ul>
</li>
</ol>
<h3 id="-time-and-space-complexity">‚è±Ô∏è <strong>Time and Space Complexity</strong></h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: <code>O(n)</code></p>
<ul>
<li>We iterate through the array once, performing constant-time operations for each price.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>: <code>O(1)</code></p>
<ul>
<li>We only use a few integer variables (<code>l</code> and <code>g</code>), so the space complexity remains constant.</li>
</ul>
</li>
</ul>
<h3 id="-conclusion">üèÜ <strong>Conclusion</strong></h3>
<p>This solution efficiently solves the problem of finding the maximum profit from a single buy and sell transaction. By iterating through the prices once and tracking the minimum price and maximum profit encountered, we achieve an optimal solution with time complexity <code>O(n)</code> and space complexity <code>O(1)</code>. This makes the algorithm both <strong>time-efficient</strong> and <strong>space-efficient</strong>, perfect for handling large inputs.</p>
<hr>
<p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/kJZrMGpyWpk?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
