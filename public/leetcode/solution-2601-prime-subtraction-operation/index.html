<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2601: Prime Subtraction Operation | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2601: Prime Subtraction Operation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2601: Prime Subtraction Operation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="https://www.grid47.xyz/leetcode/solution-2601-prime-subtraction-operation/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2601: Prime Subtraction Operation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2601: Prime Subtraction Operation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Number Theory">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="https://www.grid47.xyz/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="https://www.grid47.xyz//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/courses/">Course</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
    <div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Leetcode%202601%3a%20Prime%20Subtraction%20Operation&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f" 
               onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f" 
               onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f&title=Leetcode%202601%3a%20Prime%20Subtraction%20Operation" 
               onclick="window.open(this.href, 'linkedin-share', 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://reddit.com/submit?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f&title=Leetcode%202601%3a%20Prime%20Subtraction%20Operation" 
               onclick="window.open(this.href, 'reddit-share', 'width=550,height=435');return false;">
                <i class="fab fa-reddit-alien"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://api.whatsapp.com/send?text=Leetcode%202601%3a%20Prime%20Subtraction%20Operation%20https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f" 
               onclick="window.open(this.href, 'whatsapp-share', 'width=550,height=435');return false;">
                <i class="fab fa-whatsapp"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://telegram.me/share/url?url=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f&text=Leetcode%202601%3a%20Prime%20Subtraction%20Operation" 
               onclick="window.open(this.href, 'telegram-share', 'width=550,height=435');return false;">
                <i class="fab fa-telegram-plane"></i>
            </a>
        </li>
        
        <li class="ml-1 mr-1">
            <a target="_blank" href="mailto:?subject=Leetcode%202601%3a%20Prime%20Subtraction%20Operation&body=https%3a%2f%2fwww.grid47.xyz%2fleetcode%2fsolution-2601-prime-subtraction-operation%2f" 
               onclick="window.open(this.href, 'email-share', 'width=550,height=435');return false;">
                <i class="fas fa-envelope"></i>
            </a>
        </li> 
    </ul>

    
</div>
</div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                        
                        <h1 class="posttitle">Leetcode 2601: Prime Subtraction Operation</h1> 
                        
                        
                        
                        
                        <div class="row post-top-meta">
                            <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right">
                                <img class="author-thumb" src="/images/logo.png" alt="grid47">
                            </div>
                            <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left">
                                <a target="_blank" class="link-dark">grid47</a><br>
                                <span class="author-description">
                                    Exploring patterns and algorithms<br>
                                    <i class="far fa-star"></i>
                                    Feb 20, 2024
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                                   
                    </div>

                    
                    
                    
                    

                    
                    <div class="article-post">
                        <hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode867s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">bool</span> primeSubOperation(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> arr <span style="color:#666">=</span> { <span style="color:#666">2</span>, <span style="color:#666">3</span>, <span style="color:#666">5</span>, <span style="color:#666">7</span>, <span style="color:#666">11</span>, <span style="color:#666">13</span>, <span style="color:#666">17</span>, <span style="color:#666">19</span>, <span style="color:#666">23</span>, <span style="color:#666">29</span>, <span style="color:#666">31</span>, <span style="color:#666">37</span>, <span style="color:#666">41</span>, <span style="color:#666">43</span>, <span style="color:#666">47</span>, <span style="color:#666">53</span>, <span style="color:#666">59</span>, <span style="color:#666">61</span>, <span style="color:#666">67</span>, <span style="color:#666">71</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">73</span>, <span style="color:#666">79</span>, <span style="color:#666">83</span>, <span style="color:#666">89</span>, <span style="color:#666">97</span>, <span style="color:#666">101</span>, <span style="color:#666">103</span>, <span style="color:#666">107</span>, <span style="color:#666">109</span>, <span style="color:#666">113</span>, <span style="color:#666">127</span>, <span style="color:#666">131</span>, <span style="color:#666">137</span>, <span style="color:#666">139</span>, <span style="color:#666">149</span>, <span style="color:#666">151</span>, <span style="color:#666">157</span>, <span style="color:#666">163</span>, <span style="color:#666">167</span>, <span style="color:#666">173</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">179</span>, <span style="color:#666">181</span>, <span style="color:#666">191</span>, <span style="color:#666">193</span>, <span style="color:#666">197</span>, <span style="color:#666">199</span>, <span style="color:#666">211</span>, <span style="color:#666">223</span>, <span style="color:#666">227</span>, <span style="color:#666">229</span>, <span style="color:#666">233</span>, <span style="color:#666">239</span>, <span style="color:#666">241</span>, <span style="color:#666">251</span>, <span style="color:#666">257</span>, <span style="color:#666">263</span>, <span style="color:#666">269</span>, <span style="color:#666">271</span>, <span style="color:#666">277</span>, <span style="color:#666">281</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">283</span>, <span style="color:#666">293</span>, <span style="color:#666">307</span>, <span style="color:#666">311</span>, <span style="color:#666">313</span>, <span style="color:#666">317</span>, <span style="color:#666">331</span>, <span style="color:#666">337</span>, <span style="color:#666">347</span>, <span style="color:#666">349</span>, <span style="color:#666">353</span>, <span style="color:#666">359</span>, <span style="color:#666">367</span>, <span style="color:#666">373</span>, <span style="color:#666">379</span>, <span style="color:#666">383</span>, <span style="color:#666">389</span>, <span style="color:#666">397</span>, <span style="color:#666">401</span>, <span style="color:#666">409</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">419</span>, <span style="color:#666">421</span>, <span style="color:#666">431</span>, <span style="color:#666">433</span>, <span style="color:#666">439</span>, <span style="color:#666">443</span>, <span style="color:#666">449</span>, <span style="color:#666">457</span>, <span style="color:#666">461</span>, <span style="color:#666">463</span>, <span style="color:#666">467</span>, <span style="color:#666">479</span>, <span style="color:#666">487</span>, <span style="color:#666">491</span>, <span style="color:#666">499</span>, <span style="color:#666">503</span>, <span style="color:#666">509</span>, <span style="color:#666">521</span>, <span style="color:#666">523</span>, <span style="color:#666">541</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">547</span>, <span style="color:#666">557</span>, <span style="color:#666">563</span>, <span style="color:#666">569</span>, <span style="color:#666">571</span>, <span style="color:#666">577</span>, <span style="color:#666">587</span>, <span style="color:#666">593</span>, <span style="color:#666">599</span>, <span style="color:#666">601</span>, <span style="color:#666">607</span>, <span style="color:#666">613</span>, <span style="color:#666">617</span>, <span style="color:#666">619</span>, <span style="color:#666">631</span>, <span style="color:#666">641</span>, <span style="color:#666">643</span>, <span style="color:#666">647</span>, <span style="color:#666">653</span>, <span style="color:#666">659</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">661</span>, <span style="color:#666">673</span>, <span style="color:#666">677</span>, <span style="color:#666">683</span>, <span style="color:#666">691</span>, <span style="color:#666">701</span>, <span style="color:#666">709</span>, <span style="color:#666">719</span>, <span style="color:#666">727</span>, <span style="color:#666">733</span>, <span style="color:#666">739</span>, <span style="color:#666">743</span>, <span style="color:#666">751</span>, <span style="color:#666">757</span>, <span style="color:#666">761</span>, <span style="color:#666">769</span>, <span style="color:#666">773</span>, <span style="color:#666">787</span>, <span style="color:#666">797</span>, <span style="color:#666">809</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">811</span>, <span style="color:#666">821</span>, <span style="color:#666">823</span>, <span style="color:#666">827</span>, <span style="color:#666">829</span>, <span style="color:#666">839</span>, <span style="color:#666">853</span>, <span style="color:#666">857</span>, <span style="color:#666">859</span>, <span style="color:#666">863</span>, <span style="color:#666">877</span>, <span style="color:#666">881</span>, <span style="color:#666">883</span>, <span style="color:#666">887</span>, <span style="color:#666">907</span>, <span style="color:#666">911</span>, <span style="color:#666">919</span>, <span style="color:#666">929</span>, <span style="color:#666">937</span>, <span style="color:#666">941</span>,
</span></span><span style="display:flex;"><span><span style="color:#666">947</span>, <span style="color:#666">953</span>, <span style="color:#666">967</span>, <span style="color:#666">971</span>, <span style="color:#666">977</span>, <span style="color:#666">983</span>, <span style="color:#666">991</span>, <span style="color:#666">997</span> };
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>, tmp <span style="color:#666">=</span> nums[i];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&gt;=</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> diff <span style="color:#666">=</span> nums[i] <span style="color:#666">-</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> lower_bound(arr.begin(), arr.end(), diff);
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(it <span style="color:#666">==</span> arr.end() <span style="color:#666">||</span> <span style="color:#666">*</span>it <span style="color:#666">&gt;=</span> nums[i]) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>                nums[i] <span style="color:#666">-=</span> <span style="color:#666">*</span>it;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&gt;=</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>]) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks to determine if it is possible to perform a series of operations on an array <code>nums</code> such that after applying a sequence of operations, the resulting array is strictly increasing. In each operation, you are allowed to subtract a prime number from an element of the array. The goal is to check whether it&rsquo;s possible to apply the operation to each element such that the array becomes strictly increasing, with no element being greater than or equal to the next one after the operation.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to ensure that for each element in the array, we can find a prime number (from a pre-defined list of primes) that can be subtracted from the current element such that the result still maintains the condition of the array being strictly increasing. This will involve the following steps:</p>
<ol>
<li>
<p><strong>Prime List</strong>: We are given a list of prime numbers. These primes will be the only candidates for subtraction from each element of the array.</p>
</li>
<li>
<p><strong>Traversal of the Array</strong>: We start from the second-to-last element and move towards the first element. For each element:</p>
<ul>
<li>We check whether it is greater than or equal to the next element. If so, we need to subtract a prime from it.</li>
<li>The prime subtracted must make the current element strictly less than the next element.</li>
</ul>
</li>
<li>
<p><strong>Using Lower Bound</strong>: To find a suitable prime number to subtract, we calculate the difference between the current element and the next element. Then, we use binary search (<code>lower_bound</code>) to find the smallest prime that is greater than this difference.</p>
</li>
<li>
<p><strong>Checking Validity</strong>: After subtracting the prime, we ensure that the current element becomes smaller than the next element. If at any point, the conditions are violated, we return <code>false</code>. If we can process all elements without violating the condition, we return <code>true</code>.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-prime-list-initialization">1. <strong>Prime List Initialization</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> arr <span style="color:#666">=</span> { <span style="color:#666">2</span>, <span style="color:#666">3</span>, <span style="color:#666">5</span>, <span style="color:#666">7</span>, <span style="color:#666">11</span>, <span style="color:#666">13</span>, <span style="color:#666">17</span>, <span style="color:#666">19</span>, <span style="color:#666">23</span>, <span style="color:#666">29</span>, <span style="color:#666">31</span>, <span style="color:#666">37</span>, <span style="color:#666">41</span>, <span style="color:#666">43</span>, <span style="color:#666">47</span>, <span style="color:#666">53</span>, <span style="color:#666">59</span>, <span style="color:#666">61</span>, <span style="color:#666">67</span>, <span style="color:#666">71</span>, ... };
</span></span></code></pre></div><ul>
<li>We initialize a list of prime numbers <code>arr</code> that can be used for subtraction. This list contains all primes up to 1000. These primes will be used to determine which prime number to subtract from an element in the <code>nums</code> array.</li>
</ul>
<h4 id="2-looping-through-the-array">2. <strong>Looping Through the Array</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>, tmp <span style="color:#666">=</span> nums[i];
</span></span></code></pre></div><ul>
<li>The array <code>nums</code> is processed from the second-to-last element to the first element (reverse order). This is done because we need to ensure each element is less than the next one. We compare <code>nums[i]</code> with <code>nums[i+1]</code> and adjust <code>nums[i]</code> accordingly.</li>
</ul>
<h4 id="3-checking-if-current-element-is-greater-than-or-equal-to-next-element">3. <strong>Checking if Current Element is Greater Than or Equal to Next Element</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&gt;=</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> diff <span style="color:#666">=</span> nums[i] <span style="color:#666">-</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>For each element <code>nums[i]</code>, we check if it is greater than or equal to the next element <code>nums[i+1]</code>. If so, we calculate the difference <code>diff</code> between <code>nums[i]</code> and <code>nums[i+1]</code> and add <code>1</code> to it. This value represents the minimum difference needed to ensure <code>nums[i]</code> becomes strictly less than <code>nums[i+1]</code>.</li>
</ul>
<h4 id="4-binary-search-for-a-suitable-prime">4. <strong>Binary Search for a Suitable Prime</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> lower_bound(arr.begin(), arr.end(), diff);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(it <span style="color:#666">==</span> arr.end() <span style="color:#666">||</span> <span style="color:#666">*</span>it <span style="color:#666">&gt;=</span> nums[i]) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span><span style="display:flex;"><span>nums[i] <span style="color:#666">-=</span> <span style="color:#666">*</span>it;
</span></span></code></pre></div><ul>
<li>We then use <code>lower_bound</code> to find the smallest prime in the list <code>arr</code> that is greater than or equal to the difference <code>diff</code>. This prime will be subtracted from <code>nums[i]</code>.</li>
<li>If no suitable prime is found (i.e., the iterator <code>it</code> reaches the end of the list), or if the prime found is greater than or equal to <code>nums[i]</code>, we return <code>false</code>, because it would violate the condition that the array remains strictly increasing.</li>
<li>If a suitable prime is found, we subtract it from <code>nums[i]</code>.</li>
</ul>
<h4 id="5-final-check-for-validity">5. <strong>Final Check for Validity</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&gt;=</span> nums[i <span style="color:#666">+</span> <span style="color:#666">1</span>]) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">false</span>;
</span></span></code></pre></div><ul>
<li>After the subtraction, we check if <code>nums[i]</code> is still greater than or equal to <code>nums[i + 1]</code>. If so, we return <code>false</code>, as the array is not strictly increasing.</li>
</ul>
<h4 id="6-return-true-if-all-elements-are-processed">6. <strong>Return True if All Elements are Processed</strong>:</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f">true</span>;
</span></span></code></pre></div><ul>
<li>If the loop completes successfully without returning <code>false</code>, it means the array can be transformed into a strictly increasing array by subtracting the appropriate primes. Therefore, we return <code>true</code>.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The main time complexity comes from the binary search (<code>lower_bound</code>) for each element in the array. The binary search takes (O(\log p)), where <code>p</code> is the number of primes in the list (<code>arr</code>), which is 168 primes.</li>
<li>The loop runs through the array from <code>n-2</code> to <code>0</code>, so it iterates <code>n-1</code> times.</li>
<li>Therefore, the total time complexity is (O(n \cdot \log p)), where <code>n</code> is the number of elements in <code>nums</code> and <code>p</code> is the number of primes in the list.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is dominated by the storage of the prime list <code>arr</code>, which has a constant size of 168 primes. Therefore, the space complexity is (O(p)), where <code>p</code> is the number of primes in the list.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently checks whether it is possible to transform the <code>nums</code> array into a strictly increasing sequence by subtracting primes. The algorithm leverages binary search on a predefined list of primes to find the appropriate prime to subtract at each step, ensuring that the array is modified correctly. The solution has a time complexity of (O(n \cdot \log p)), which is efficient given the constraints, and a constant space complexity due to the fixed size of the prime list.</p>
<p><a href="https://leetcode.com/problems/prime-subtraction-operation/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/CC0X2wxP7dE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

                    </div>
                    
                    
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/array">Array</a>
                        </li>
                        
                        <li>
                        <a href="/tags/math">Math</a>
                        </li>
                        
                        <li>
                        <a href="/tags/binary-search">Binary Search</a>
                        </li>
                        
                        <li>
                        <a href="/tags/greedy">Greedy</a>
                        </li>
                        
                        <li>
                        <a href="/tags/number-theory">Number Theory</a>
                        </li>
                        
                        </ul>
                    </div>
                    
                    
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="d-block col-md-6" href="https://www.grid47.xyz/leetcode/solution-2600-k-items-with-the-maximum-sum/"> &laquo; Leetcode 2600: K Items With the Maximum Sum</a>
                    
                    
                        <a class="d-block col-md-6 text-lg-right" href="https://www.grid47.xyz/leetcode/solution-2602-minimum-operations-to-make-all-array-elements-equal/">Leetcode 2602: Minimum Operations to Make All Array Elements Equal &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>
        
        
    </div>


            </div>
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
			<div class="d-md-flex align-items-center justify-content-center h-100">
				<h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
			</div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
			
			<a class="mt-1 mb-1" href="/tags/array">array</a>
			
			<a class="mt-1 mb-1" href="/tags/backtracking">backtracking</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-indexed-tree">binary indexed tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search">binary search</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-search-tree">binary search tree</a>
			
			<a class="mt-1 mb-1" href="/tags/binary-tree">binary tree</a>
			
			<a class="mt-1 mb-1" href="/tags/bit-manipulation">bit manipulation</a>
			
			<a class="mt-1 mb-1" href="/tags/bitmask">bitmask</a>
			
			<a class="mt-1 mb-1" href="/tags/brainteaser">brainteaser</a>
			
			<a class="mt-1 mb-1" href="/tags/breadth-first-search">breadth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/bucket-sort">bucket sort</a>
			
			<a class="mt-1 mb-1" href="/tags/combinatorics">combinatorics</a>
			
			<a class="mt-1 mb-1" href="/tags/concurrency">concurrency</a>
			
			<a class="mt-1 mb-1" href="/tags/counting">counting</a>
			
			<a class="mt-1 mb-1" href="/tags/counting-sort">counting sort</a>
			
			<a class="mt-1 mb-1" href="/tags/data-stream">data stream</a>
			
			<a class="mt-1 mb-1" href="/tags/database">database</a>
			
			<a class="mt-1 mb-1" href="/tags/depth-first-search">depth-first search</a>
			
			<a class="mt-1 mb-1" href="/tags/design">design</a>
			
			<a class="mt-1 mb-1" href="/tags/divide-and-conquer">divide and conquer</a>
			
			<a class="mt-1 mb-1" href="/tags/doubly-linked-list">doubly-linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/dynamic-programming">dynamic programming</a>
			
			<a class="mt-1 mb-1" href="/tags/enumeration">enumeration</a>
			
			<a class="mt-1 mb-1" href="/tags/game-theory">game theory</a>
			
			<a class="mt-1 mb-1" href="/tags/geometry">geometry</a>
			
			<a class="mt-1 mb-1" href="/tags/graph">graph</a>
			
			<a class="mt-1 mb-1" href="/tags/greedy">greedy</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-function">hash function</a>
			
			<a class="mt-1 mb-1" href="/tags/hash-table">hash table</a>
			
			<a class="mt-1 mb-1" href="/tags/heap-priority-queue">heap (priority queue)</a>
			
			<a class="mt-1 mb-1" href="/tags/interactive">interactive</a>
			
			<a class="mt-1 mb-1" href="/tags/iterator">iterator</a>
			
			<a class="mt-1 mb-1" href="/tags/linked-list">linked list</a>
			
			<a class="mt-1 mb-1" href="/tags/math">math</a>
			
			<a class="mt-1 mb-1" href="/tags/matrix">matrix</a>
			
			<a class="mt-1 mb-1" href="/tags/memoization">memoization</a>
			
			<a class="mt-1 mb-1" href="/tags/minimum-spanning-tree">minimum spanning tree</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-queue">monotonic queue</a>
			
			<a class="mt-1 mb-1" href="/tags/monotonic-stack">monotonic stack</a>
			
			<a class="mt-1 mb-1" href="/tags/number-theory">number theory</a>
			
			<a class="mt-1 mb-1" href="/tags/ordered-set">ordered set</a>
			
			<a class="mt-1 mb-1" href="/tags/prefix-sum">prefix sum</a>
			
			<a class="mt-1 mb-1" href="/tags/probability-and-statistics">probability and statistics</a>
			
			<a class="mt-1 mb-1" href="/tags/queue">queue</a>
			
			<a class="mt-1 mb-1" href="/tags/quickselect">quickselect</a>
			
			<a class="mt-1 mb-1" href="/tags/radix-sort">radix sort</a>
			
			<a class="mt-1 mb-1" href="/tags/randomized">randomized</a>
			
			<a class="mt-1 mb-1" href="/tags/recursion">recursion</a>
			
			<a class="mt-1 mb-1" href="/tags/reservoir-sampling">reservoir sampling</a>
			
			<a class="mt-1 mb-1" href="/tags/rolling-hash">rolling hash</a>
			
			<a class="mt-1 mb-1" href="/tags/segment-tree">segment tree</a>
			
			<a class="mt-1 mb-1" href="/tags/shortest-path">shortest path</a>
			
			<a class="mt-1 mb-1" href="/tags/simulation">simulation</a>
			
			<a class="mt-1 mb-1" href="/tags/sliding-window">sliding window</a>
			
			<a class="mt-1 mb-1" href="/tags/sorting">sorting</a>
			
			<a class="mt-1 mb-1" href="/tags/stack">stack</a>
			
			<a class="mt-1 mb-1" href="/tags/string">string</a>
			
			<a class="mt-1 mb-1" href="/tags/string-matching">string matching</a>
			
			<a class="mt-1 mb-1" href="/tags/topological-sort">topological sort</a>
			
			<a class="mt-1 mb-1" href="/tags/tree">tree</a>
			
			<a class="mt-1 mb-1" href="/tags/trie">trie</a>
			
			<a class="mt-1 mb-1" href="/tags/two-pointers">two pointers</a>
			
			<a class="mt-1 mb-1" href="/tags/union-find">union find</a>
			
		</div>
	</div>
</div>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="https://www.grid47.xyz/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
