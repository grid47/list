<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2767: Partition String Into Minimum Beautiful Substrings | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2767: Partition String Into Minimum Beautiful Substrings">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2767: Partition String Into Minimum Beautiful Substrings in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2767-partition-string-into-minimum-beautiful-substrings/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2767: Partition String Into Minimum Beautiful Substrings">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2767: Partition String Into Minimum Beautiful Substrings in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-02-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Backtracking">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2767: Partition String Into Minimum Beautiful Substrings</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode935s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> minimumBeautifulSubstrings(string s) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.length();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">1</span>, n <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span> (s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;0&#39;</span>) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i, cur <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                cur <span style="color:#666">=</span> cur <span style="color:#666">*</span> <span style="color:#666">2</span> <span style="color:#666">+</span> s[j] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">15625</span> <span style="color:#666">%</span> cur <span style="color:#666">==</span> <span style="color:#666">0</span>)
</span></span><span style="display:flex;"><span>                    dp[j <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> min(dp[j <span style="color:#666">+</span> <span style="color:#666">1</span>], dp[i] <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> dp[n] <span style="color:#666">&gt;</span> n <span style="color:#666">?</span> <span style="color:#666">-</span><span style="color:#666">1</span> <span style="color:#666">:</span> dp[n];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given a binary string <code>s</code>, the task is to split it into the minimum number of beautiful substrings. A beautiful substring is defined as a substring that, when converted to a decimal number, is divisible by <code>15625</code>. The goal is to determine the minimum number of beautiful substrings into which the string <code>s</code> can be split, or return <code>-1</code> if it&rsquo;s not possible to split <code>s</code> into beautiful substrings.</p>
<h3 id="approach">Approach</h3>
<p>The core idea of this solution is to use dynamic programming to minimize the number of beautiful substrings we can obtain from the string <code>s</code>. We&rsquo;ll take advantage of the fact that the only values divisible by <code>15625</code> that can be represented as binary strings are specific powers of 5. Therefore, our approach focuses on iterating over the string and trying to find all valid binary substrings that are divisible by <code>15625</code>, updating the result through dynamic programming.</p>
<p>Here are the steps involved:</p>
<ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>We need a dynamic programming array <code>dp</code> where <code>dp[i]</code> will store the minimum number of beautiful substrings needed to split the substring <code>s[0..i-1]</code>.</li>
<li>We initialize the <code>dp</code> array with a large value (<code>n + 1</code>), except for <code>dp[0]</code>, which is 0 because no substrings are needed before the start of the string.</li>
</ul>
</li>
<li>
<p><strong>Check Divisibility for All Substrings</strong>:</p>
<ul>
<li>For every substring starting from index <code>i</code>, we try to form a number from the binary digits of the string. For each binary substring, we convert it to a decimal number and check if it is divisible by <code>15625</code>.</li>
<li>If the number is divisible by <code>15625</code>, we update the <code>dp</code> value for the end of that substring to reflect that we&rsquo;ve found a new beautiful substring.</li>
</ul>
</li>
<li>
<p><strong>Final Answer</strong>:</p>
<ul>
<li>After processing the entire string, if <code>dp[n]</code> is still <code>n + 1</code>, it means it&rsquo;s impossible to split the string into beautiful substrings, so we return <code>-1</code>. Otherwise, we return the value of <code>dp[n]</code>, which represents the minimum number of beautiful substrings.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s walk through the code line by line:</p>
<ol>
<li>
<p><strong>Dynamic Programming Array Setup</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> s.length();
</span></span><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> dp(n <span style="color:#666">+</span> <span style="color:#666">1</span>, n <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>dp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>The variable <code>n</code> holds the length of the string <code>s</code>.</li>
<li>We initialize the <code>dp</code> array with size <code>n + 1</code>. The value of <code>dp[i]</code> represents the minimum number of beautiful substrings needed to split the substring <code>s[0..i-1]</code>. Initially, all values are set to <code>n + 1</code> (a large value), except for <code>dp[0]</code>, which is set to 0 because no substrings are required before the start of the string.</li>
</ul>
</li>
<li>
<p><strong>Iterate Through the String</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (s[i] <span style="color:#666">==</span> <span style="color:#b44">&#39;0&#39;</span>) <span style="color:#a2f;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i, cur <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        cur <span style="color:#666">=</span> cur <span style="color:#666">*</span> <span style="color:#666">2</span> <span style="color:#666">+</span> s[j] <span style="color:#666">-</span> <span style="color:#b44">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">15625</span> <span style="color:#666">%</span> cur <span style="color:#666">==</span> <span style="color:#666">0</span>)
</span></span><span style="display:flex;"><span>            dp[j <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">=</span> min(dp[j <span style="color:#666">+</span> <span style="color:#666">1</span>], dp[i] <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The outer loop iterates through each character in the string. If the current character is <code>'0'</code>, it skips to the next iteration because no valid substring can start with <code>0</code>.</li>
<li>The inner loop tries to form a binary number starting from index <code>i</code>. The variable <code>cur</code> keeps track of the current number as we append each bit.</li>
<li>We convert the binary substring formed by <code>s[i..j]</code> into a decimal number by continuously updating <code>cur = cur * 2 + s[j] - '0'</code>.</li>
<li>If the current number <code>cur</code> is divisible by <code>15625</code>, we update the <code>dp[j + 1]</code> to the minimum value between the current <code>dp[j + 1]</code> and <code>dp[i] + 1</code>. This means we&rsquo;ve found a valid substring from <code>i</code> to <code>j</code>, and we can consider it as one beautiful substring, increasing the count.</li>
</ul>
</li>
<li>
<p><strong>Return Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> dp[n] <span style="color:#666">&gt;</span> n <span style="color:#666">?</span> <span style="color:#666">-</span><span style="color:#666">1</span> <span style="color:#666">:</span> dp[n];
</span></span></code></pre></div><ul>
<li>After iterating through all substrings, if <code>dp[n]</code> is still greater than <code>n</code>, it means it&rsquo;s impossible to split the string into beautiful substrings, so we return <code>-1</code>.</li>
<li>Otherwise, we return <code>dp[n]</code>, which represents the minimum number of beautiful substrings.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ol>
<li>
<p><strong>Outer Loop</strong>:</p>
<ul>
<li>The outer loop runs from <code>i = 0</code> to <code>i = n-1</code>, so it iterates <code>n</code> times.</li>
</ul>
</li>
<li>
<p><strong>Inner Loop</strong>:</p>
<ul>
<li>For each position <code>i</code>, the inner loop iterates from <code>j = i</code> to <code>j = n-1</code>. In the worst case, the inner loop runs (n) times for each value of <code>i</code>. Therefore, the total number of iterations in both loops is approximately (O(n^2)).</li>
</ul>
</li>
<li>
<p><strong>Divisibility Check</strong>:</p>
<ul>
<li>For each valid substring, we check if <code>cur % 15625 == 0</code>, which takes constant time (O(1)) because checking divisibility is a simple operation.</li>
</ul>
</li>
</ol>
<p>Hence, the total time complexity is (O(n^2)), where (n) is the length of the string <code>s</code>.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>We are using an array <code>dp</code> of size (n + 1) to store the minimum number of beautiful substrings. Hence, the space complexity is (O(n)), where (n) is the length of the string <code>s</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution utilizes dynamic programming to find the minimum number of beautiful substrings in a binary string. The algorithm processes the string by iterating over all possible substrings and checking if they are divisible by <code>15625</code>. The time complexity of (O(n^2)) makes the solution efficient for moderate-sized strings. The solution is well-optimized, with space complexity of (O(n)) for the <code>dp</code> array, and it provides the correct result by keeping track of the minimum number of beautiful substrings needed.</p>
<p>This approach ensures that all edge cases, such as strings containing only <code>0</code>s or strings where no beautiful substring exists, are handled correctly.</p>
<p><a href="https://leetcode.com/problems/partition-string-into-minimum-beautiful-substrings/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/xV-TA-TtiAg?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
