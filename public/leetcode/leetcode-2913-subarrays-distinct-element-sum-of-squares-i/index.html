<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2913: Subarrays Distinct Element Sum of Squares I | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2913: Subarrays Distinct Element Sum of Squares I">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2913: Subarrays Distinct Element Sum of Squares I in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2913-subarrays-distinct-element-sum-of-squares-i/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2913: Subarrays Distinct Element Sum of Squares I">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2913: Subarrays Distinct Element Sum of Squares I in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-01-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2913: Subarrays Distinct Element Sum of Squares I</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1009s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> sumCounts(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> ar) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n<span style="color:#666">=</span>ar.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans<span style="color:#666">=</span><span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>fr;
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">//sort(ar.begin(),ar.end());
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i<span style="color:#666">=</span><span style="color:#666">0</span>;i<span style="color:#666">&lt;</span>n;i<span style="color:#666">++</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> val<span style="color:#666">=</span><span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>             map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>fr;
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j<span style="color:#666">=</span>i;j<span style="color:#666">&lt;</span>n;j<span style="color:#666">++</span>){
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(fr[ar[j]]<span style="color:#666">==</span><span style="color:#666">0</span>) val<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                fr[ar[j]]<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                ans<span style="color:#666">=</span>ans<span style="color:#666">+</span>val<span style="color:#666">*</span>val;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement:</h3>
<p>The problem is about calculating a particular sum from an array of integers. Specifically, the task is to compute a sum where each elementâ€™s contribution depends on how many unique integers have appeared up to that point in a given subarray. The sum is weighted by the square of the number of distinct integers encountered in each subarray.</p>
<h3 id="approach">Approach:</h3>
<p>The approach taken in this code aims to iterate over every possible subarray of the given array <code>ar</code>. The goal is to track the number of distinct integers in each subarray and compute the sum based on their contribution. Specifically, for each subarray, the number of distinct integers is calculated, and the square of this count is added to the running total.</p>
<p>The strategy employs a <code>map</code> (or hash map) to track the frequency of each number in the subarray, which is then used to compute the distinct count. The code also utilizes a nested loop to explore all possible subarrays and sum the required values.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step):</h3>
<ol>
<li>
<p><strong>Function Definition and Variable Initialization:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">sumCounts</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> ar) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> ar.size();  <span style="color:#080;font-style:italic">// Get the size of the array.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Initialize the variable `ans` to store the result.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> fr;  <span style="color:#080;font-style:italic">// Declare a map to track the frequency of integers in the subarray.
</span></span></span></code></pre></div><p>In this step, the function <code>sumCounts</code> takes a vector <code>ar</code> of integers as input. We initialize the size of the array <code>n</code> and a variable <code>ans</code> that will store the sum of the desired values. A <code>map</code> named <code>fr</code> is used to keep track of how many times each element appears in the current subarray.</p>
</li>
<li>
<p><strong>Outer Loop (Iterating over the starting index of subarrays):</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> val <span style="color:#666">=</span> <span style="color:#666">0</span>;  <span style="color:#080;font-style:italic">// Initialize the variable `val` to count distinct integers.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> fr;  <span style="color:#080;font-style:italic">// Reset the map for each new subarray starting at index `i`.
</span></span></span></code></pre></div><p>The outer loop runs through every index <code>i</code> from <code>0</code> to <code>n-1</code>. Each iteration of this loop represents the starting point of a new subarray. Inside the loop, the variable <code>val</code> is initialized to zero, and the map <code>fr</code> is reset to track the frequencies of integers for the new subarray starting at index <code>i</code>.</p>
</li>
<li>
<p><strong>Inner Loop (Iterating over the ending index of subarrays):</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> i; j <span style="color:#666">&lt;</span> n; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (fr[ar[j]] <span style="color:#666">==</span> <span style="color:#666">0</span>) val<span style="color:#666">++</span>;  <span style="color:#080;font-style:italic">// If the element at `ar[j]` hasn&#39;t appeared yet, increment `val`.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    fr[ar[j]]<span style="color:#666">++</span>;  <span style="color:#080;font-style:italic">// Increment the frequency of `ar[j]` in the map.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    ans <span style="color:#666">=</span> ans <span style="color:#666">+</span> val <span style="color:#666">*</span> val;  <span style="color:#080;font-style:italic">// Add the square of the distinct count to the result.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div><p>The inner loop iterates over all possible subarrays starting from index <code>i</code> and ending at index <code>j</code>. It checks whether the current element <code>ar[j]</code> has been seen before in the subarray using the map <code>fr</code>. If it is a new element, the distinct count <code>val</code> is incremented. The frequency of the element is then updated in the map. Finally, the square of the distinct count <code>val</code> is added to the running total <code>ans</code>.</p>
</li>
<li>
<p><strong>Returning the Result:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> ans;
</span></span></code></pre></div><p>After both loops complete, the function returns the calculated sum <code>ans</code>.</p>
</li>
</ol>
<h3 id="complexity">Complexity:</h3>
<ol>
<li>
<p><strong>Time Complexity:</strong>
The time complexity of this approach is determined by the nested loops. The outer loop runs <code>n</code> times, where <code>n</code> is the size of the input array <code>ar</code>. The inner loop also runs up to <code>n</code> times for each iteration of the outer loop, resulting in a total of <code>n * n = n^2</code> iterations. Inside the inner loop, the operations such as checking the frequency in the map and updating the map are logarithmic in complexity, i.e., <code>O(log n)</code> for each operation. Therefore, the overall time complexity is:
[
O(n^2 \log n)
]
This makes the solution inefficient for large arrays.</p>
</li>
<li>
<p><strong>Space Complexity:</strong>
The space complexity of the code is primarily determined by the space used by the map <code>fr</code> to store the frequencies of the integers in the subarray. In the worst case, the map might store all the unique integers from the array, leading to a space complexity of <code>O(n)</code>.</p>
</li>
</ol>
<h3 id="conclusion">Conclusion:</h3>
<p>The provided code calculates the sum of squared counts of distinct integers in all subarrays of a given array. While the approach is correct and follows a brute-force method, its efficiency is suboptimal for large input arrays due to the time complexity of <code>O(n^2 log n)</code>. For small arrays, this solution might work fine, but for larger datasets, more efficient algorithms such as those using advanced data structures (e.g., segment trees or binary indexed trees) could be considered for optimization. Additionally, techniques like dynamic programming or sliding window could be explored to potentially reduce the time complexity of the algorithm.</p>
<p><a href="https://leetcode.com/problems/subarrays-distinct-element-sum-of-squares-i/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/vBSxcFdwcQU?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
