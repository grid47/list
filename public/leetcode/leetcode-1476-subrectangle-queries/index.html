<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1476: Subrectangle Queries | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1476: Subrectangle Queries">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1476: Subrectangle Queries in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1476-subrectangle-queries/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1476: Subrectangle Queries">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1476: Subrectangle Queries in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Matrix">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1476: Subrectangle Queries</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode234s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">SubrectangleQueries</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> rec;
</span></span><span style="display:flex;"><span>    SubrectangleQueries(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> rectangle) {
</span></span><span style="display:flex;"><span>        rec <span style="color:#666">=</span> rectangle;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">updateSubrectangle</span>(<span style="color:#0b0;font-weight:bold">int</span> row1, <span style="color:#0b0;font-weight:bold">int</span> col1, <span style="color:#0b0;font-weight:bold">int</span> row2, <span style="color:#0b0;font-weight:bold">int</span> col2, <span style="color:#0b0;font-weight:bold">int</span> newValue) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> row1; i <span style="color:#666">&lt;=</span> row2; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> col1; j <span style="color:#666">&lt;=</span> col2; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            rec[i][j] <span style="color:#666">=</span> newValue;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">getValue</span>(<span style="color:#0b0;font-weight:bold">int</span> row, <span style="color:#0b0;font-weight:bold">int</span> col) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> rec[row][col];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your SubrectangleQueries object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * SubrectangleQueries* obj = new SubrectangleQueries(rectangle);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;updateSubrectangle(row1,col1,row2,col2,newValue);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_2 = obj-&gt;getValue(row,col);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to implement a class <code>SubrectangleQueries</code> that manages a rectangular grid of integers (a 2D array) with the ability to update values in a specific subrectangle and retrieve the value at any given cell. The operations include:</p>
<ol>
<li><strong>Updating a Subrectangle</strong>: Changing all the values within a specified subrectangle to a new value.</li>
<li><strong>Getting a Value</strong>: Retrieving the value at a specific position in the rectangle.</li>
</ol>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can utilize a straightforward approach using a 2D vector to represent the rectangle. The core idea is to maintain the rectangle as a member variable and implement two primary methods:</p>
<ol>
<li><strong>Update Method</strong>: This method iterates over the specified subrectangle and updates all the elements to the new value.</li>
<li><strong>Get Value Method</strong>: This method directly accesses the rectangle to retrieve the value at the specified coordinates.</li>
</ol>
<p>Given that the updates can involve multiple elements, the update method operates in a nested loop, while the get value method directly accesses an element. This leads to an intuitive and simple implementation.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here is the breakdown of the provided code:</p>
<ol>
<li>
<p><strong>Class Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">SubrectangleQueries</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>The <code>SubrectangleQueries</code> class is defined to encapsulate the functionality of managing the rectangular grid.</li>
</ul>
</li>
<li>
<p><strong>Member Variables</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> rec;
</span></span></code></pre></div><ul>
<li>A 2D vector <code>rec</code> is declared to store the values of the rectangle.</li>
</ul>
</li>
<li>
<p><strong>Constructor</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>SubrectangleQueries(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> rectangle) {
</span></span><span style="display:flex;"><span>    rec <span style="color:#666">=</span> rectangle;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The constructor takes a 2D vector <code>rectangle</code> as an argument and initializes the member variable <code>rec</code> with this input. This sets up the initial state of the rectangle.</li>
</ul>
</li>
<li>
<p><strong>Update Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">updateSubrectangle</span>(<span style="color:#0b0;font-weight:bold">int</span> row1, <span style="color:#0b0;font-weight:bold">int</span> col1, <span style="color:#0b0;font-weight:bold">int</span> row2, <span style="color:#0b0;font-weight:bold">int</span> col2, <span style="color:#0b0;font-weight:bold">int</span> newValue) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> row1; i <span style="color:#666">&lt;=</span> row2; i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> col1; j <span style="color:#666">&lt;=</span> col2; j<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            rec[i][j] <span style="color:#666">=</span> newValue;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>updateSubrectangle</code> method takes the corners of the subrectangle (defined by <code>(row1, col1)</code> and <code>(row2, col2)</code>) and the <code>newValue</code> to be assigned.</li>
<li>It uses two nested loops to iterate through each cell in the specified subrectangle and updates the value at each position to <code>newValue</code>.</li>
</ul>
</li>
<li>
<p><strong>Get Value Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">getValue</span>(<span style="color:#0b0;font-weight:bold">int</span> row, <span style="color:#0b0;font-weight:bold">int</span> col) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> rec[row][col];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>getValue</code> method retrieves and returns the value from the rectangle at the specified coordinates <code>(row, col)</code>.</li>
</ul>
</li>
<li>
<p><strong>Example Usage</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your SubrectangleQueries object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * SubrectangleQueries* obj = new SubrectangleQueries(rectangle);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;updateSubrectangle(row1,col1,row2,col2,newValue);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_2 = obj-&gt;getValue(row,col);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span></code></pre></div><ul>
<li>This comment block illustrates how to instantiate the <code>SubrectangleQueries</code> object and use its methods.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The <code>updateSubrectangle</code> method runs in (O((row2 - row1 + 1) \times (col2 - col1 + 1))) time, as it iterates over every element in the specified subrectangle. In the worst case, this could cover all elements in the rectangle if the specified range encompasses the entire rectangle.</li>
<li>The <code>getValue</code> method runs in (O(1)) time, as it directly accesses a specific element in the rectangle.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(m \times n)), where (m) is the number of rows and (n) is the number of columns in the rectangle, since we need to store the entire grid in the <code>rec</code> vector.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The implementation of the <code>SubrectangleQueries</code> class effectively handles the required operations with a clear and intuitive approach. The use of a 2D vector to represent the rectangle allows for straightforward updates and retrievals of values. Key takeaways from this solution include:</p>
<ol>
<li>
<p><strong>Simplicity</strong>: The implementation is easy to understand and follow, making it suitable for those new to data structures and algorithms.</p>
</li>
<li>
<p><strong>Efficiency</strong>: While the update operation may become costly for larger subrectangles, the overall design provides a good balance between functionality and complexity for typical use cases.</p>
</li>
<li>
<p><strong>Flexibility</strong>: The solution can be easily extended or modified to incorporate additional features, such as more complex querying operations or different update strategies.</p>
</li>
</ol>
<p>In conclusion, the <code>SubrectangleQueries</code> class serves as an excellent example of how to manage and manipulate a 2D data structure effectively, fulfilling the problem&rsquo;s requirements while maintaining clarity and efficiency.</p>
<p><a href="https://leetcode.com/problems/subrectangle-queries/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/cMBkZMNVDdE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
