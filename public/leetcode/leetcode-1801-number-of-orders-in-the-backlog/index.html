<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1801: Number of Orders in the Backlog | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1801: Number of Orders in the Backlog">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1801: Number of Orders in the Backlog in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1801-number-of-orders-in-the-backlog/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1801: Number of Orders in the Backlog">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1801: Number of Orders in the Backlog in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Heap (Priority Queue)">
    <meta property="article:tag" content="Simulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1801: Number of Orders in the Backlog</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode394s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> getNumberOfBacklogOrders(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> orders) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) (<span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>);
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, greater<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> sell;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, less<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> buy;        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: orders) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">0</span>) { <span style="color:#080;font-style:italic">// For a buy order
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>                
</span></span><span style="display:flex;"><span>                pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> top;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>sell.empty() <span style="color:#666">&amp;&amp;</span> sell.top().first <span style="color:#666">&lt;=</span> it[<span style="color:#666">0</span>] <span style="color:#666">&amp;&amp;</span> it[<span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                    top <span style="color:#666">=</span> sell.top();
</span></span><span style="display:flex;"><span>                    sell.pop();
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(top.second <span style="color:#666">&gt;</span> it[<span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                        top.second <span style="color:#666">-=</span> it[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>                        it[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                        sell.push(top);
</span></span><span style="display:flex;"><span>                    } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                        it[<span style="color:#666">1</span>] <span style="color:#666">-=</span> top.second;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) buy.push({it[<span style="color:#666">0</span>], it[<span style="color:#666">1</span>]});
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(it[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span><span style="display:flex;"><span>                pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> top;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>buy.empty() <span style="color:#666">&amp;&amp;</span> buy.top().first <span style="color:#666">&gt;=</span> it[<span style="color:#666">0</span>] <span style="color:#666">&amp;&amp;</span> it[<span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                    top <span style="color:#666">=</span> buy.top();
</span></span><span style="display:flex;"><span>                    buy.pop();
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(top.second <span style="color:#666">&gt;</span> it[<span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                        top.second <span style="color:#666">-=</span> it[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>                        it[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                        buy.push(top);
</span></span><span style="display:flex;"><span>                    } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                        it[<span style="color:#666">1</span>] <span style="color:#666">-=</span> top.second;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) sell.push({it[<span style="color:#666">0</span>], it[<span style="color:#666">1</span>]});              
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>sell.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> top <span style="color:#666">=</span> sell.top();
</span></span><span style="display:flex;"><span>            cnt <span style="color:#666">=</span> (cnt <span style="color:#666">+</span> top.second) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>            sell.pop();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>buy.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> top <span style="color:#666">=</span> buy.top();
</span></span><span style="display:flex;"><span>            cnt <span style="color:#666">=</span> (cnt <span style="color:#666">+</span> top.second) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>            buy.pop();
</span></span><span style="display:flex;"><span>        }        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem involves managing a backlog of buy and sell orders in a trading system. Each order is represented by a list of three integers: the price of the order, the quantity of the order, and the type of order (buy or sell). The goal is to calculate the total number of outstanding orders left in the backlog after processing a series of orders. The rules for processing orders are based on the price at which they are placed and the quantity available in the backlog.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we utilize two priority queues (also known as heaps):</p>
<ol>
<li>
<p><strong>Sell Orders</strong>: A min-heap that manages sell orders based on their price. The lowest priced sell orders are prioritized, allowing us to efficiently match them with incoming buy orders.</p>
</li>
<li>
<p><strong>Buy Orders</strong>: A max-heap that manages buy orders based on their price. The highest priced buy orders are prioritized, enabling efficient matching with incoming sell orders.</p>
</li>
</ol>
<p>The algorithm processes each order in the following manner:</p>
<ol>
<li>
<p><strong>Processing Buy Orders</strong>:</p>
<ul>
<li>For each buy order (indicated by a type of <code>0</code>), we attempt to match it with sell orders.</li>
<li>While there are still orders in the sell queue and the price of the lowest sell order is less than or equal to the price of the buy order, we perform the following:
<ul>
<li>Compare the quantity of the sell order with the remaining quantity of the buy order.</li>
<li>If the buy order can fully match the sell order, reduce the quantity of the buy order accordingly and remove the sell order.</li>
<li>If the sell order is larger, reduce its quantity and reinsert it into the sell queue.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Processing Sell Orders</strong>:</p>
<ul>
<li>For each sell order (indicated by a type of <code>1</code>), we attempt to match it with buy orders using a similar approach:</li>
<li>While there are still orders in the buy queue and the price of the highest buy order is greater than or equal to the price of the sell order, we compare the quantities and adjust them accordingly.</li>
</ul>
</li>
<li>
<p><strong>Final Count of Backlog Orders</strong>:</p>
<ul>
<li>After processing all orders, the remaining quantities in both priority queues represent the backlog. We sum the quantities of all remaining orders in both queues to get the total backlog.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Here’s a detailed breakdown of the provided code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> getNumberOfBacklogOrders(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> orders) {
</span></span></code></pre></div><ul>
<li>The class <code>Solution</code> defines a public method <code>getNumberOfBacklogOrders</code> which takes a vector of orders.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> mod <span style="color:#666">=</span> (<span style="color:#0b0;font-weight:bold">int</span>) (<span style="color:#666">1e9</span> <span style="color:#666">+</span> <span style="color:#666">7</span>);
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, greater<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> sell;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, less<span style="color:#666">&lt;</span>pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>,<span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> buy;        
</span></span></code></pre></div><ul>
<li>We define a modulus value (<code>mod</code>) to ensure that results fit within the typical constraints of integer limits in competitive programming.</li>
<li>Two priority queues are initialized: <code>sell</code> for managing sell orders and <code>buy</code> for managing buy orders.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">it</span>: orders) {
</span></span></code></pre></div><ul>
<li>We loop through each order in the input list.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">0</span>) { <span style="color:#080;font-style:italic">// For a buy order
</span></span></span></code></pre></div><ul>
<li>When a buy order is detected (type <code>0</code>), we attempt to match it with available sell orders.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> top;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>sell.empty() <span style="color:#666">&amp;&amp;</span> sell.top().first <span style="color:#666">&lt;=</span> it[<span style="color:#666">0</span>] <span style="color:#666">&amp;&amp;</span> it[<span style="color:#666">1</span>]) {
</span></span></code></pre></div><ul>
<li>We initiate a loop to check against the sell orders while the sell queue is not empty, and the price of the lowest sell order is less than or equal to the price of the current buy order.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                    top <span style="color:#666">=</span> sell.top();
</span></span><span style="display:flex;"><span>                    sell.pop();
</span></span></code></pre></div><ul>
<li>The top sell order is fetched and removed from the queue for processing.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                    <span style="color:#a2f;font-weight:bold">if</span>(top.second <span style="color:#666">&gt;</span> it[<span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                        top.second <span style="color:#666">-=</span> it[<span style="color:#666">1</span>];
</span></span><span style="display:flex;"><span>                        it[<span style="color:#666">1</span>] <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>                        sell.push(top);
</span></span><span style="display:flex;"><span>                    } <span style="color:#a2f;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                        it[<span style="color:#666">1</span>] <span style="color:#666">-=</span> top.second;
</span></span><span style="display:flex;"><span>                    }
</span></span></code></pre></div><ul>
<li>We compare the quantity of the sell order with the buy order:
<ul>
<li>If the sell order can satisfy the buy order, we reduce the sell order&rsquo;s quantity and set the buy order quantity to zero.</li>
<li>If the sell order is larger, we decrease the buy order&rsquo;s quantity accordingly.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) buy.push({it[<span style="color:#666">0</span>], it[<span style="color:#666">1</span>]});
</span></span></code></pre></div><ul>
<li>If there is any remaining quantity in the buy order after attempting matches, we push it into the buy queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(it[<span style="color:#666">2</span>] <span style="color:#666">==</span> <span style="color:#666">1</span>) {
</span></span></code></pre></div><ul>
<li>If the current order is a sell order (type <code>1</code>), we execute a similar matching logic against buy orders.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                pair<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> top;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>buy.empty() <span style="color:#666">&amp;&amp;</span> buy.top().first <span style="color:#666">&gt;=</span> it[<span style="color:#666">0</span>] <span style="color:#666">&amp;&amp;</span> it[<span style="color:#666">1</span>]) {
</span></span></code></pre></div><ul>
<li>Here, we check against the buy orders, ensuring that the highest priced buy orders are considered for matching.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) sell.push({it[<span style="color:#666">0</span>], it[<span style="color:#666">1</span>]});              
</span></span></code></pre></div><ul>
<li>If any quantity remains in the sell order after matching attempts, we add it to the sell queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>sell.empty()) {
</span></span></code></pre></div><ul>
<li>After processing all orders, we initialize a counter <code>cnt</code> to accumulate the total backlog.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> top <span style="color:#666">=</span> sell.top();
</span></span><span style="display:flex;"><span>            cnt <span style="color:#666">=</span> (cnt <span style="color:#666">+</span> top.second) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>            sell.pop();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>buy.empty()) {
</span></span></code></pre></div><ul>
<li>We loop through the remaining sell orders, summing their quantities to <code>cnt</code> and ensuring we apply the modulus to avoid overflow.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">auto</span> top <span style="color:#666">=</span> buy.top();
</span></span><span style="display:flex;"><span>            cnt <span style="color:#666">=</span> (cnt <span style="color:#666">+</span> top.second) <span style="color:#666">%</span> mod;
</span></span><span style="display:flex;"><span>            buy.pop();
</span></span><span style="display:flex;"><span>        }        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>The final loop does the same for the buy orders, and the function concludes by returning the total count of backlog orders.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this solution is (O(n \log n)), where (n) is the number of orders. This is due to the fact that each insertion and deletion in the priority queues takes (O(\log n)) time.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)), as we are potentially storing all orders in the two priority queues.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The implemented algorithm effectively manages the backlog of orders through the use of priority queues, allowing for efficient order matching based on pricing. The method adheres to principles of optimal data structure usage, providing a solution that can scale well with increasing order sizes.</p>
<p>By utilizing priority queues, the code can efficiently handle incoming buy and sell orders, ensuring that matches are made promptly and accurately. The clear separation of logic for buy and sell orders simplifies the process and makes it easy to maintain and understand.</p>
<p>In the context of algorithm design and implementation, this solution is a solid example of handling priority-based operations and illustrates how to manage complex data flows effectively within a trading system. Understanding these concepts is vital for software engineers working on financial platforms or any applications that require similar functionalities.</p>
<p><a href="https://leetcode.com/problems/number-of-orders-in-the-backlog/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/hVVkBM-p1vg?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
