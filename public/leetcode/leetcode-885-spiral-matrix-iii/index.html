<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 885: Spiral Matrix III | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 885: Spiral Matrix III">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 885: Spiral Matrix III in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-885-spiral-matrix-iii/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 885: Spiral Matrix III">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 885: Spiral Matrix III in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Matrix">
    <meta property="article:tag" content="Simulation">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 885: Spiral Matrix III</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1371s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> spiralMatrixIII(<span style="color:#0b0;font-weight:bold">int</span> rows, <span style="color:#0b0;font-weight:bold">int</span> cols, <span style="color:#0b0;font-weight:bold">int</span> rStart, <span style="color:#0b0;font-weight:bold">int</span> cStart) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> res <span style="color:#666">=</span> {{rStart, cStart}};
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> dx <span style="color:#666">=</span> <span style="color:#666">0</span>, dy <span style="color:#666">=</span> <span style="color:#666">1</span>, tmp;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">0</span>; res.size() <span style="color:#666">&lt;</span> rows<span style="color:#666">*</span> cols; n<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                rStart <span style="color:#666">+=</span> dx, cStart <span style="color:#666">+=</span> dy;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(rStart <span style="color:#666">&gt;=</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> rStart <span style="color:#666">&lt;</span> rows <span style="color:#666">&amp;&amp;</span> cStart <span style="color:#666">&gt;=</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> cStart <span style="color:#666">&lt;</span> cols)
</span></span><span style="display:flex;"><span>                    res.push_back({rStart, cStart});
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            tmp <span style="color:#666">=</span> dx, dx <span style="color:#666">=</span> dy, dy <span style="color:#666">=</span> <span style="color:#666">-</span>tmp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires generating a list of coordinates representing a spiral path starting from a given point <code>(rStart, cStart)</code> in a matrix of size <code>rows x cols</code>. The spiral traversal should visit each cell in the matrix exactly once, and the movement should continue until all cells are covered. The challenge is to implement the traversal in such a way that the program can efficiently and correctly handle the specified conditions. The solution should keep track of all visited coordinates and return them in the order they are visited.</p>
<h3 id="approach">Approach</h3>
<p>The solution to this problem can be broken down into the following steps:</p>
<ol>
<li>
<p><strong>Initialization</strong>: Start by defining the direction of movement (right, down, left, up) and initializing a result array that will store all visited coordinates.</p>
</li>
<li>
<p><strong>Spiral Traversal</strong>: The key idea is to iterate over the matrix in a spiral pattern, adjusting the direction of movement after each complete loop around the matrix. We achieve this by using a series of directional changes:</p>
<ul>
<li>Initially, we start by moving right, then down, left, and up in a repeating pattern.</li>
<li>Each time the movement completes a full side of the spiral, the direction is updated by rotating the direction vector (dx, dy).</li>
<li>The traversal continues until all cells in the matrix are visited.</li>
</ul>
</li>
<li>
<p><strong>Boundary Checking</strong>: As we traverse the matrix, we need to ensure that we stay within the matrix boundaries. If the next step goes out of bounds, we skip that movement and continue in the current direction.</p>
</li>
<li>
<p><strong>Stopping Condition</strong>: The process continues until all cells in the matrix are visited. This is ensured by checking that the size of the result array is equal to <code>rows * cols</code>.</p>
</li>
<li>
<p><strong>Result</strong>: Once all the coordinates are visited, the result array is returned, which contains the list of coordinates in the order they were traversed.</p>
</li>
</ol>
<p>This approach leverages the simplicity of direction vectors to manage the traversal efficiently, ensuring a smooth spiral motion around the matrix.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Function Signature and Initial Setup</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> spiralMatrixIII(<span style="color:#0b0;font-weight:bold">int</span> rows, <span style="color:#0b0;font-weight:bold">int</span> cols, <span style="color:#0b0;font-weight:bold">int</span> rStart, <span style="color:#0b0;font-weight:bold">int</span> cStart) {
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> res <span style="color:#666">=</span> {{rStart, cStart}};
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> dx <span style="color:#666">=</span> <span style="color:#666">0</span>, dy <span style="color:#666">=</span> <span style="color:#666">1</span>, tmp;
</span></span></code></pre></div><p>The function <code>spiralMatrixIII</code> takes the number of rows and columns, along with the starting position <code>(rStart, cStart)</code>. We initialize a result vector <code>res</code> to store the coordinates starting with the given starting position. The variables <code>dx</code> and <code>dy</code> represent the direction of movement in the x (row) and y (column) axes, respectively. Initially, the direction is set to move right (dx = 0, dy = 1).</p>
</li>
<li>
<p><strong>Outer Loop for Spiral Expansion</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> <span style="color:#666">0</span>; res.size() <span style="color:#666">&lt;</span> rows <span style="color:#666">*</span> cols; n<span style="color:#666">++</span>) {
</span></span></code></pre></div><p>The outer loop runs until all cells in the matrix are visited, i.e., until the size of the result vector equals <code>rows * cols</code>. The variable <code>n</code> is used to control the number of steps taken in each direction, increasing as the spiral expands.</p>
</li>
<li>
<p><strong>Inner Loop for Directional Movement</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">+</span> <span style="color:#666">1</span>; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    rStart <span style="color:#666">+=</span> dx, cStart <span style="color:#666">+=</span> dy;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(rStart <span style="color:#666">&gt;=</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> rStart <span style="color:#666">&lt;</span> rows <span style="color:#666">&amp;&amp;</span> cStart <span style="color:#666">&gt;=</span> <span style="color:#666">0</span> <span style="color:#666">&amp;&amp;</span> cStart <span style="color:#666">&lt;</span> cols)
</span></span><span style="display:flex;"><span>        res.push_back({rStart, cStart});
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The inner loop iterates <code>n / 2 + 1</code> times, which corresponds to the number of steps to take in the current direction. We update the <code>rStart</code> and <code>cStart</code> coordinates by adding the directional values <code>dx</code> and <code>dy</code>. After updating the coordinates, we check if the new position is within the matrix bounds. If it is, we add the position to the result array <code>res</code>.</p>
</li>
<li>
<p><strong>Updating Direction</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>tmp <span style="color:#666">=</span> dx, dx <span style="color:#666">=</span> dy, dy <span style="color:#666">=</span> <span style="color:#666">-</span>tmp;
</span></span></code></pre></div><p>After completing the steps in one direction, we update the direction by rotating the direction vector <code>(dx, dy)</code>. The vector <code>(dx, dy)</code> is rotated in the order right → down → left → up, ensuring that the traversal continues spirally.</p>
</li>
<li>
<p><strong>Returning the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div><p>Once all cells are visited, the result vector <code>res</code> is returned, containing the list of coordinates in the order they were visited.</p>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<p>The time complexity of this algorithm is <strong>O(rows * cols)</strong>. The reason for this is that every cell in the matrix is visited exactly once, and each visit involves only a constant amount of work (i.e., checking bounds and adding a coordinate to the result list). Therefore, the total time spent is proportional to the number of cells in the matrix.</p>
<p>The space complexity is also <strong>O(rows * cols)</strong> because we store the coordinates of all the cells in the result array <code>res</code>.</p>
<h3 id="conclusion">Conclusion</h3>
<p>In conclusion, this solution efficiently computes the spiral traversal of a matrix starting from a given position, ensuring all cells are visited once. The use of direction vectors and boundary checks makes the algorithm both simple and effective. The approach guarantees that the traversal continues until all cells in the matrix are covered, and the solution efficiently handles matrices of varying sizes. The time and space complexity of O(rows * cols) make it suitable for large matrices, while the implementation remains straightforward and easy to understand.</p>
<p><a href="https://leetcode.com/problems/spiral-matrix-iii/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/0qep3f9cqVs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
