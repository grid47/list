<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1027: Longest Arithmetic Subsequence | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1027: Longest Arithmetic Subsequence">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1027: Longest Arithmetic Subsequence in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1027-longest-arithmetic-subsequence/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1027: Longest Arithmetic Subsequence">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1027: Longest Arithmetic Subsequence in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-07-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Dynamic Programming">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1027: Longest Arithmetic Subsequence</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode28s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> longestArithSeqLength(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        vector<span style="color:#666">&lt;</span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> mp;
</span></span><span style="display:flex;"><span>        mp.resize(n);
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>; j <span style="color:#666">&lt;</span> i; j<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#0b0;font-weight:bold">int</span> d <span style="color:#666">=</span> nums[j] <span style="color:#666">-</span> nums[i];
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(mp[j].count(d)) mp[i][d] <span style="color:#666">=</span> max(mp[i][d], mp[j][d] <span style="color:#666">+</span> <span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">else</span> mp[i][d] <span style="color:#666">=</span> max(mp[i][d], <span style="color:#666">2</span>);
</span></span><span style="display:flex;"><span>                res <span style="color:#666">=</span> max(mp[i][d], res);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the length of the longest arithmetic subsequence in a given array of integers. An arithmetic subsequence is a sequence of numbers such that the difference between consecutive elements is constant. For example, in the array <code>[3, 6, 9, 12]</code>, the longest arithmetic subsequence is the entire array itself, with a common difference of <code>3</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve the problem of finding the longest arithmetic subsequence:</p>
<ol>
<li><strong>Dynamic Programming with Hash Maps</strong>: The solution utilizes a dynamic programming approach where a vector of hash maps is employed to track the lengths of arithmetic subsequences for each pair of indices in the array.</li>
<li><strong>Calculate Differences</strong>: For every pair of indices <code>(i, j)</code> where <code>j &lt; i</code>, the difference <code>d = nums[j] - nums[i]</code> is calculated. This difference represents the common difference of the arithmetic sequence formed by <code>nums[j]</code> and <code>nums[i]</code>.</li>
<li><strong>Update Lengths</strong>: The lengths of the arithmetic subsequences are updated based on whether the difference <code>d</code> has been seen before for the index <code>j</code>. If it has, the length of the arithmetic sequence ending at <code>i</code> can be extended from that of <code>j</code>. Otherwise, a new sequence of length <code>2</code> is started from this pair.</li>
<li><strong>Track Maximum Length</strong>: Throughout the iteration, the maximum length of any arithmetic subsequence found is updated.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Function Declaration</strong>:</p>
<ul>
<li>The <code>longestArithSeqLength</code> function is defined in the <code>Solution</code> class. It takes a vector of integers (<code>vector&lt;int&gt;&amp; nums</code>) as its parameter.</li>
</ul>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>The size of the input vector <code>nums</code> is stored in <code>n</code>.</li>
<li>A vector of unordered maps (<code>mp</code>) is created, where each index corresponds to an element in <code>nums</code>. Each map will store the common difference as the key and the length of the longest arithmetic subsequence ending at that index as the value.</li>
</ul>
</li>
<li>
<p><strong>Result Variable</strong>:</p>
<ul>
<li>The variable <code>res</code> is initialized to <code>1</code>, which represents the minimum possible length of an arithmetic subsequence (a single number).</li>
</ul>
</li>
<li>
<p><strong>Iterating Over Pairs</strong>:</p>
<ul>
<li>A nested loop structure is established:
<ul>
<li>The outer loop iterates over each element <code>i</code> in <code>nums</code>.</li>
<li>The inner loop iterates over each preceding element <code>j</code> (where <code>j &lt; i</code>) to compare with the current element.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Calculate the Difference</strong>:</p>
<ul>
<li>For each pair <code>(j, i)</code>, the difference <code>d</code> is calculated as <code>nums[j] - nums[i]</code>. This difference is essential in determining the arithmetic nature of the subsequence.</li>
</ul>
</li>
<li>
<p><strong>Check for Existing Differences</strong>:</p>
<ul>
<li>A check is performed to see if the difference <code>d</code> exists in the map at index <code>j</code> (<code>mp[j].count(d)</code>).</li>
<li>If it does, the length of the arithmetic subsequence can be extended. The length at index <code>i</code> for difference <code>d</code> is updated to the maximum of its current value and the value at <code>mp[j][d] + 1</code>.</li>
<li>If the difference does not exist in the map for <code>j</code>, it initializes <code>mp[i][d]</code> to <code>2</code>, indicating that a new arithmetic sequence can be formed starting from the pair <code>(nums[j], nums[i])</code>.</li>
</ul>
</li>
<li>
<p><strong>Update Maximum Length</strong>:</p>
<ul>
<li>The maximum length found so far (<code>res</code>) is updated by comparing it to the current length at <code>mp[i][d]</code>.</li>
</ul>
</li>
<li>
<p><strong>Return Result</strong>:</p>
<ul>
<li>Once all pairs have been processed, the function returns <code>res</code>, which now holds the length of the longest arithmetic subsequence in the array.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity of the solution is (O(n^2)), where (n) is the number of elements in the input array. This is due to the nested loops that iterate over pairs of elements.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(n \cdot k)), where (k) is the average number of unique differences. In the worst case, this can also approach (O(n^2)) if all differences are unique.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>longestArithSeqLength</code> function effectively finds the length of the longest arithmetic subsequence using a dynamic programming approach enhanced by hash maps. By tracking the lengths of subsequences based on common differences, the algorithm efficiently computes the desired result.</p>
<p>This solution is particularly valuable in scenarios involving numerical sequences, such as in data analysis, statistics, and algorithm design competitions, where understanding patterns and subsequences is critical. The approach demonstrates how to combine mathematical reasoning with computational techniques to solve complex problems in a manageable way.</p>
<p>In summary, the implementation showcases the versatility of dynamic programming and hash maps in handling sequence-related problems, making it a valuable asset for any programmer&rsquo;s repertoire. The clarity in problem breakdown and structured approach underscores the importance of systematic problem-solving in computer science, contributing to a deeper understanding of algorithm design principles.</p>
<p><a href="https://leetcode.com/problems/longest-arithmetic-subsequence/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/-NIlLdVKBFs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
