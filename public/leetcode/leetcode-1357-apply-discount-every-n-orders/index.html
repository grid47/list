<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1357: Apply Discount Every n Orders | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1357: Apply Discount Every n Orders">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1357: Apply Discount Every n Orders in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1357-apply-discount-every-n-orders/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1357: Apply Discount Every n Orders">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1357: Apply Discount Every n Orders in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Design">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1357: Apply Discount Every n Orders</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode171s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Cashier</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> cnt, mod;
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">double</span> pct;
</span></span><span style="display:flex;"><span>    unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> tags;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    Cashier(<span style="color:#0b0;font-weight:bold">int</span> n, <span style="color:#0b0;font-weight:bold">int</span> discount, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> products, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> prices) {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        mod <span style="color:#666">=</span> n;
</span></span><span style="display:flex;"><span>        pct <span style="color:#666">=</span> (<span style="color:#666">100</span> <span style="color:#666">-</span> discount)<span style="color:#666">/</span> <span style="color:#666">100.0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> products.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            tags[products[i]] <span style="color:#666">=</span> prices[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">double</span> <span style="color:#00a000">getBill</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> product, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> amount) {
</span></span><span style="display:flex;"><span>        cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> product.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">+=</span> tags[product[i]] <span style="color:#666">*</span> amount[i];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt<span style="color:#666">%</span>mod<span style="color:#666">?</span> <span style="color:#a0a000">ans</span>: ans <span style="color:#666">*</span> pct; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your Cashier object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Cashier* obj = new Cashier(n, discount, products, prices);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * double param_1 = obj-&gt;getBill(product,amount);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The goal is to create a <code>Cashier</code> class that simulates a cashier system in a store. The cashier must handle billing for customers, applying a discount after every <code>n</code> transactions. The following features should be implemented:</p>
<ol>
<li><strong>Product Management</strong>: The cashier should store a list of products and their corresponding prices.</li>
<li><strong>Bill Calculation</strong>: When a customer checks out, the cashier should calculate the total bill based on the products purchased and their quantities.</li>
<li><strong>Discount Application</strong>: If the cashier has processed exactly <code>n</code> transactions, a discount should be applied to the current bill.</li>
</ol>
<h3 id="approach">Approach</h3>
<ol>
<li><strong>Initialization</strong>: The <code>Cashier</code> class is initialized with the total number of transactions (<code>n</code>), a discount percentage, a list of products, and their corresponding prices. During initialization, a mapping of products to prices is created using an unordered map for quick lookups.</li>
<li><strong>Bill Calculation</strong>: The <code>getBill</code> method takes two vectors: one for the products purchased and another for their respective quantities. It calculates the total cost based on these inputs.</li>
<li><strong>Discount Logic</strong>: After every transaction, a counter (<code>cnt</code>) keeps track of the number of transactions. If <code>cnt</code> is a multiple of <code>n</code>, the discount is applied; otherwise, the full price is charged.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Cashier</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> cnt, mod;  <span style="color:#080;font-style:italic">// Counter for transactions and the limit for discount
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">double</span> pct;    <span style="color:#080;font-style:italic">// Percentage to apply after discount
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> tags; <span style="color:#080;font-style:italic">// Maps product IDs to prices
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// Constructor to initialize the Cashier
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    Cashier(<span style="color:#0b0;font-weight:bold">int</span> n, <span style="color:#0b0;font-weight:bold">int</span> discount, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> products, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> prices) {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Initialize transaction count
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        mod <span style="color:#666">=</span> n; <span style="color:#080;font-style:italic">// Set the number of transactions for discount application
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        pct <span style="color:#666">=</span> (<span style="color:#666">100</span> <span style="color:#666">-</span> discount) <span style="color:#666">/</span> <span style="color:#666">100.0</span>; <span style="color:#080;font-style:italic">// Calculate the discount percentage
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Map products to their prices
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> products.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            tags[products[i]] <span style="color:#666">=</span> prices[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">// Method to calculate the bill
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    <span style="color:#0b0;font-weight:bold">double</span> <span style="color:#00a000">getBill</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> product, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> amount) {
</span></span><span style="display:flex;"><span>        cnt<span style="color:#666">++</span>; <span style="color:#080;font-style:italic">// Increment the transaction counter
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#0b0;font-weight:bold">int</span> ans <span style="color:#666">=</span> <span style="color:#666">0</span>; <span style="color:#080;font-style:italic">// Variable to store total price
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Calculate total price based on product and amount
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> product.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            ans <span style="color:#666">+=</span> tags[product[i]] <span style="color:#666">*</span> amount[i];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-style:italic">// Apply discount if the transaction count is a multiple of mod
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>        <span style="color:#a2f;font-weight:bold">return</span> cnt <span style="color:#666">%</span> mod <span style="color:#666">?</span> <span style="color:#a0a000">ans</span> : ans <span style="color:#666">*</span> pct; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ol>
<li>
<p><strong>Class Definition</strong>: The <code>Cashier</code> class contains member variables for tracking the transaction count (<code>cnt</code>), the modulo for applying discounts (<code>mod</code>), and the discount percentage (<code>pct</code>). It also has an unordered map (<code>tags</code>) to store product prices.</p>
</li>
<li>
<p><strong>Constructor</strong>: The constructor takes four parameters: the maximum number of transactions before applying a discount (<code>n</code>), the discount percentage, and vectors for product IDs and their prices. It initializes the <code>tags</code> map for quick access to product prices.</p>
</li>
<li>
<p><strong>getBill Method</strong>: This method accepts two vectors: <code>product</code> (product IDs purchased) and <code>amount</code> (quantities purchased). It increments the transaction counter and computes the total cost.</p>
<ul>
<li>If the transaction count (<code>cnt</code>) is a multiple of <code>mod</code>, the discount percentage (<code>pct</code>) is applied to the total; otherwise, the full total is returned.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li><strong>Initialization</strong>: The constructor has a time complexity of (O(p)), where (p) is the number of products since it iterates through the list of products to populate the <code>tags</code> map.</li>
<li><strong>getBill</strong>: This method has a time complexity of (O(m)), where (m) is the number of products purchased in the transaction. It iterates through the <code>product</code> vector to compute the total cost.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(p)) due to the storage of product-price pairs in the <code>tags</code> map.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>Cashier</code> class effectively simulates a cashier&rsquo;s behavior in a store, handling product sales and applying discounts after every <code>n</code> transactions. By using an unordered map to manage product prices, the implementation allows for efficient lookups, ensuring that bill calculations are performed quickly and accurately.</p>
<p>This implementation is particularly useful in e-commerce and retail environments, where efficient billing systems are essential. Understanding this code provides insights into object-oriented programming, data structures, and algorithms necessary for building practical applications in software development.</p>
<p>By breaking down the code and providing detailed explanations of each part, this overview serves as an educational resource for readers looking to enhance their understanding of algorithm design and implementation in C++.</p>
<p><a href="https://leetcode.com/problems/apply-discount-every-n-orders/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/A-PXwozdaCg?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
