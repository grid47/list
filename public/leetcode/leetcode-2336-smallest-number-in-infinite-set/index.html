<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2336: Smallest Number in Infinite Set | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2336: Smallest Number in Infinite Set">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2336: Smallest Number in Infinite Set in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2336-smallest-number-in-infinite-set/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2336: Smallest Number in Infinite Set">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2336: Smallest Number in Infinite Set in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Heap (Priority Queue)">
    <meta property="article:tag" content="Ordered Set">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2336: Smallest Number in Infinite Set</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode695s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">SmallestInfiniteSet</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s;
</span></span><span style="display:flex;"><span>    SmallestInfiniteSet() {
</span></span><span style="display:flex;"><span>        s.clear();
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">popSmallest</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>s.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> tmp <span style="color:#666">=</span> <span style="color:#666">*</span>s.begin() ;
</span></span><span style="display:flex;"><span>                s.erase(tmp);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> tmp;            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">addBack</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">&lt;</span> cnt)
</span></span><span style="display:flex;"><span>        s.insert(num);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your SmallestInfiniteSet object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * SmallestInfiniteSet* obj = new SmallestInfiniteSet();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_1 = obj-&gt;popSmallest();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;addBack(num);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem asks us to implement a class <code>SmallestInfiniteSet</code> that simulates an infinite set of positive integers, starting from 1. We need to be able to perform two operations on this set:</p>
<ol>
<li><strong>popSmallest</strong>: Return and remove the smallest integer from the set.</li>
<li><strong>addBack</strong>: Add a previously removed integer back to the set if it’s less than the current largest number in the set.</li>
</ol>
<p>The primary challenge lies in maintaining an efficient way to find and remove the smallest integer, while also being able to add back integers in a way that preserves the smallest set order.</p>
<h3 id="approach">Approach</h3>
<p>We are asked to create a class that efficiently manages two key operations:</p>
<ol>
<li><strong>Popping the smallest element</strong>: In an infinite set, the smallest element can always be defined as the smallest integer not yet removed.</li>
<li><strong>Adding an element back</strong>: Once an integer has been popped from the set, it may be added back to the set in the future, but only if it’s smaller than the current &ldquo;largest&rdquo; number in the set (tracked by the <code>cnt</code> variable).</li>
</ol>
<p>We will use two core components to solve this:</p>
<ul>
<li><strong>A set</strong>: The set will be used to store numbers that have been removed (i.e., popped) from the smallest infinite set. This allows for efficient operations to check and remove the smallest element.</li>
<li><strong>A counter <code>cnt</code></strong>: This counter keeps track of the next integer to be returned when the set is empty, ensuring we always return the smallest possible integer when the set is empty.</li>
</ul>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-class-initialization">1. <strong>Class Initialization</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">SmallestInfiniteSet</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    set<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> s;
</span></span><span style="display:flex;"><span>    SmallestInfiniteSet() {
</span></span><span style="display:flex;"><span>        s.clear();
</span></span><span style="display:flex;"><span>        cnt <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong><code>cnt</code></strong>: This integer is initialized to 1 and tracks the next smallest integer to be returned if the set is empty. Each time we call <code>popSmallest()</code>, if the set <code>s</code> is empty, the value of <code>cnt</code> is returned, and <code>cnt</code> is incremented.</li>
<li><strong><code>s</code></strong>: A set data structure is used to hold the numbers that were added back into the set. Sets provide efficient insertion and removal, and they keep the elements sorted, so we can easily access the smallest element.</li>
</ul>
<h4 id="2-popsmallest-method">2. <strong><code>popSmallest</code> Method</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">popSmallest</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>s.empty()) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> tmp <span style="color:#666">=</span> <span style="color:#666">*</span>s.begin();
</span></span><span style="display:flex;"><span>            s.erase(tmp);
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> tmp;            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>The <code>popSmallest()</code> method returns the smallest integer in the set and removes it.</li>
<li><strong><code>if(!s.empty())</code></strong>: If the set <code>s</code> is not empty, the smallest integer is obtained using <code>*s.begin()</code>, and then it is removed from the set using <code>s.erase(tmp)</code>.</li>
<li><strong><code>return cnt++</code></strong>: If the set is empty, we return the current value of <code>cnt</code> and then increment <code>cnt</code> by 1. This ensures that we are always returning the smallest possible number when the set is empty.</li>
</ul>
<h4 id="3-addback-method">3. <strong><code>addBack</code> Method</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">void</span> <span style="color:#00a000">addBack</span>(<span style="color:#0b0;font-weight:bold">int</span> num) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(num <span style="color:#666">&lt;</span> cnt)
</span></span><span style="display:flex;"><span>            s.insert(num);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong><code>addBack(int num)</code></strong>: This method is used to add an integer back to the set. The integer can only be added back if it is less than the current <code>cnt</code>, ensuring that we are not re-adding numbers that have already been &ldquo;used&rdquo; (i.e., numbers greater than or equal to <code>cnt</code>).</li>
<li><strong><code>s.insert(num)</code></strong>: If the integer is less than <code>cnt</code>, it is inserted back into the set <code>s</code>.</li>
</ul>
<h4 id="4-usage-example">4. <strong>Usage Example</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your SmallestInfiniteSet object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * SmallestInfiniteSet* obj = new SmallestInfiniteSet();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_1 = obj-&gt;popSmallest();
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * obj-&gt;addBack(num);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span></code></pre></div><ul>
<li>We instantiate the <code>SmallestInfiniteSet</code> object, then use the <code>popSmallest()</code> method to get the smallest number from the set and the <code>addBack()</code> method to return numbers back into the set.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong><code>popSmallest()</code></strong>: The time complexity is <strong>O(log N)</strong>, where N is the number of elements in the set <code>s</code>. This is because finding and removing the smallest element from a set requires logarithmic time.</li>
<li><strong><code>addBack()</code></strong>: The time complexity for adding an element back is <strong>O(log N)</strong>, since inserting into a set also requires logarithmic time to maintain the sorted order of the elements.</li>
</ul>
<p>Thus, both methods are efficient, with logarithmic time complexity relative to the number of elements in the set.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(N)</strong>, where N is the number of elements in the set <code>s</code>. The space is used to store the numbers that have been added back into the set.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>SmallestInfiniteSet</code> class offers an efficient way to manage an infinite set of numbers, where we can:</p>
<ol>
<li>Return the smallest available number (<code>popSmallest</code>).</li>
<li>Add previously popped numbers back into the set (<code>addBack</code>).</li>
</ol>
<p>By utilizing a set to store removed elements and a counter to track the smallest possible number when the set is empty, we can efficiently handle both operations. The time complexity of both operations is logarithmic with respect to the number of elements in the set, ensuring that the solution is scalable for large numbers of operations.</p>
<p><a href="https://leetcode.com/problems/smallest-number-in-infinite-set/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/_gGX_2ZNa2E?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
