<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 791: Custom Sort String | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 791: Custom Sort String">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 791: Custom Sort String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-791-custom-sort-string/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 791: Custom Sort String">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 791: Custom Sort String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-19T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="String">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 791: Custom Sort String</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1311s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/791.webp" 
           alt="A string being sorted according to custom rules, with each valid sorting step glowing softly." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 791: Custom Sort String Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1311s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    string customSortString(string o, string s) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> o.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>            mp[o[i]] <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        sort(s.begin(), s.end(), [<span style="color:#666">&amp;</span>](<span style="color:#0b0;font-weight:bold">char</span> a, <span style="color:#0b0;font-weight:bold">char</span> b) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">return</span> mp[a] <span style="color:#666">&lt;</span> mp[b];
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> s;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem is to sort a string <code>s</code> based on the order of characters defined in a string <code>o</code>. The string <code>o</code> defines a custom order of characters, and the string <code>s</code> needs to be rearranged such that its characters appear in the order specified by <code>o</code>. Any characters in <code>s</code> that do not appear in <code>o</code> should remain in their original order.</p>
<p>The task is to implement an efficient function that takes two strings, <code>o</code> and <code>s</code>, and returns <code>s</code> sorted according to the custom order defined by <code>o</code>.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we need to use a sorting algorithm that respects a custom order defined by the string <code>o</code>. We can achieve this by:</p>
<ol>
<li>
<p><strong>Mapping characters from <code>o</code> to their order</strong>: Create a mapping that associates each character in <code>o</code> with its position in the string (1-based index). This allows us to determine the priority of characters based on their positions in <code>o</code>.</p>
</li>
<li>
<p><strong>Sorting characters in <code>s</code> using the map</strong>: Sort the string <code>s</code> by comparing the positions of each character in the map. Characters that are not present in <code>o</code> should still be compared based on their positions in <code>s</code>, so we can maintain their relative order.</p>
</li>
<li>
<p><strong>Returning the sorted string</strong>: Once sorted, the function will return the string <code>s</code> with characters ordered according to <code>o</code>.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s break down the code step by step:</p>
<ol>
<li>
<p><strong>Define the function</strong>:
The function is defined as:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>string customSortString(string o, string s)
</span></span></code></pre></div><p>Here, <code>o</code> represents the custom order string, and <code>s</code> is the string that we need to sort.</p>
</li>
<li>
<p><strong>Create the mapping</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">char</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> o.size(); i<span style="color:#666">++</span>)
</span></span><span style="display:flex;"><span>    mp[o[i]] <span style="color:#666">=</span> i <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><p>In this step, we initialize an <code>unordered_map</code> called <code>mp</code> to store the custom order of characters from <code>o</code>. The key is the character from <code>o</code>, and the value is its position (1-based index). For example, if <code>o = &quot;cba&quot;</code>, the map will look like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{ &#39;c&#39;: 1, &#39;b&#39;: 2, &#39;a&#39;: 3 }
</span></span></code></pre></div></li>
<li>
<p><strong>Sort the string <code>s</code></strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(s.begin(), s.end(), [<span style="color:#666">&amp;</span>](<span style="color:#0b0;font-weight:bold">char</span> a, <span style="color:#0b0;font-weight:bold">char</span> b) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> mp[a] <span style="color:#666">&lt;</span> mp[b];
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>Here, we use the <code>sort</code> function to sort the string <code>s</code>. The sorting comparison is customized using a lambda function. This lambda compares two characters <code>a</code> and <code>b</code> based on their order in the map <code>mp</code>. The expression <code>mp[a] &lt; mp[b]</code> ensures that characters are sorted according to their order in <code>o</code>. If a character is not found in the map, the comparison will result in a default behavior that keeps its relative order intact.</p>
</li>
<li>
<p><strong>Return the sorted string</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> s;
</span></span></code></pre></div><p>Once the string <code>s</code> is sorted according to the custom order, the function returns the sorted string.</p>
</li>
</ol>
<h3 id="example-walkthrough">Example Walkthrough</h3>
<p>Let’s walk through an example to better understand how the function works:</p>
<ol>
<li>
<p><strong>Input</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>o <span style="color:#666">=</span> <span style="color:#b44">&#34;cba&#34;</span>, s <span style="color:#666">=</span> <span style="color:#b44">&#34;abcd&#34;</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Mapping creation</strong>:
The unordered map <code>mp</code> is created as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{ &#39;c&#39;: 1, &#39;b&#39;: 2, &#39;a&#39;: 3 }
</span></span></code></pre></div></li>
<li>
<p><strong>Sorting <code>s</code></strong>:
Initially, <code>s = &quot;abcd&quot;</code>. The sorting function will compare each pair of characters in <code>s</code> based on their positions in <code>mp</code>:</p>
<ul>
<li>&lsquo;a&rsquo; has a rank of 3.</li>
<li>&lsquo;b&rsquo; has a rank of 2.</li>
<li>&lsquo;c&rsquo; has a rank of 1.</li>
<li>&rsquo;d&rsquo; is not in <code>o</code>, so it stays in its original position.</li>
</ul>
<p>After sorting, <code>s</code> becomes <code>&quot;cbad&quot;</code>.</p>
</li>
<li>
<p><strong>Output</strong>:
The function returns <code>&quot;cbad&quot;</code>.</p>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:
The time complexity of this solution is dominated by the sorting step. The <code>sort</code> function has a time complexity of <strong>O(n log n)</strong>, where <code>n</code> is the length of the string <code>s</code>. The creation of the map and the lambda comparison both take linear time, <strong>O(m)</strong>, where <code>m</code> is the length of the string <code>o</code>. Therefore, the overall time complexity is <strong>O(n log n)</strong>.</p>
</li>
<li>
<p><strong>Space Complexity</strong>:
The space complexity is <strong>O(m)</strong> due to the space required for the <code>unordered_map</code> that stores the custom order, where <code>m</code> is the length of the string <code>o</code>. The space complexity is also influenced by the input string <code>s</code>, which is of length <code>n</code>, but the additional space required for sorting is constant, so the overall space complexity remains <strong>O(m)</strong>.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the problem of sorting a string according to a custom order. By leveraging an unordered map to store the custom order and using a lambda function with the <code>sort</code> function, we are able to sort the string in <strong>O(n log n)</strong> time complexity.</p>
<p>The approach is both simple and efficient, making it well-suited for handling cases where the custom order is specified and needs to be applied to a string quickly. The time complexity of <strong>O(n log n)</strong> ensures that this solution works efficiently even for larger strings.</p>
<p>In summary, the function is designed to provide a flexible and efficient way to sort a string based on a custom order, preserving the relative order of characters that are not specified in the custom order string. This approach is ideal for problems that require sorting with specific constraints, and it can be extended to handle other similar sorting scenarios with ease.</p>
<p><a href="https://leetcode.com/problems/custom-sort-string/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/HQ4U24lRar8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
