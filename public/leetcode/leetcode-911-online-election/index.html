<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 911: Online Election | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 911: Online Election">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 911: Online Election in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-911-online-election/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 911: Online Election">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 911: Online Election in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Design">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 911: Online Election</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1388s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">TopVotedCandidate</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>    TopVotedCandidate(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> persons, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> times) {
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> persons.size(), lead <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            lead <span style="color:#666">=</span> <span style="color:#666">++</span>cnt[persons[i]] <span style="color:#666">&gt;=</span> cnt[lead]<span style="color:#666">?</span> persons[i] <span style="color:#666">:</span> lead;
</span></span><span style="display:flex;"><span>            mp[times[i]] <span style="color:#666">=</span> lead;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">q</span>(<span style="color:#0b0;font-weight:bold">int</span> t) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> (<span style="color:#666">--</span>mp.upper_bound(t))<span style="color:#666">-&gt;</span>second;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Your TopVotedCandidate object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * TopVotedCandidate* obj = new TopVotedCandidate(persons, times);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * int param_1 = obj-&gt;q(t);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span></span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>In this problem, we are given two lists: <code>persons</code> and <code>times</code>. The <code>persons</code> list represents the votes cast in favor of each candidate at specific times represented by the <code>times</code> list. Each entry <code>persons[i]</code> and <code>times[i]</code> denotes that candidate <code>persons[i]</code> received a vote at time <code>times[i]</code>. The goal is to implement a <code>TopVotedCandidate</code> class with two main functionalities:</p>
<ol>
<li><strong>Constructor</strong>: <code>TopVotedCandidate(vector&lt;int&gt;&amp; persons, vector&lt;int&gt;&amp; times)</code> - Initializes the class with voting records.</li>
<li><strong>q(int t)</strong> - Returns the person who was leading in votes at time <code>t</code>.</li>
</ol>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we use a <strong>map</strong> to keep track of the leading candidate at each voting time. A <strong>leader</strong> in this context is the candidate who has received the most votes at any specific time. Given that votes are cast in chronological order, we can build this map once during the initialization and then perform quick lookups in response to queries.</p>
<p>Here&rsquo;s a breakdown of the approach:</p>
<ol>
<li>
<p><strong>Count Votes Using a Hash Map</strong>:</p>
<ul>
<li>We use an <code>unordered_map</code> named <code>cnt</code> to keep a running count of votes for each candidate.</li>
<li>Each time a vote is cast, we update the count for that candidate.</li>
</ul>
</li>
<li>
<p><strong>Track the Leading Candidate</strong>:</p>
<ul>
<li>After updating the vote count, we check if the current candidate has more or equal votes than the current leader. If so, we update the leader to the current candidate.</li>
</ul>
</li>
<li>
<p><strong>Store the Leader at Each Time</strong>:</p>
<ul>
<li>We use a <code>map&lt;int, int&gt; mp</code> to store the leader at each time in <code>times</code>. This map allows us to quickly determine the leader at any queried time <code>t</code>.</li>
</ul>
</li>
<li>
<p><strong>Binary Search for Efficient Querying</strong>:</p>
<ul>
<li>In the <code>q(t)</code> function, we use <code>upper_bound</code> on the <code>mp</code> map to quickly find the leader at the nearest time ≤ <code>t</code>. This operation leverages the binary search capabilities of the <code>map</code> and ensures an efficient lookup.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="constructor-building-the-leader-map"><strong>Constructor</strong>: Building the Leader Map</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>TopVotedCandidate(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> persons, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> times) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> persons.size(), lead <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span> (<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> n; i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>        lead <span style="color:#666">=</span> <span style="color:#666">++</span>cnt[persons[i]] <span style="color:#666">&gt;=</span> cnt[lead] <span style="color:#666">?</span> persons[i] <span style="color:#666">:</span> lead;
</span></span><span style="display:flex;"><span>        mp[times[i]] <span style="color:#666">=</span> lead;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>We initialize <code>lead</code> to <code>-1</code> to indicate no current leader.</li>
<li>We also initialize <code>cnt</code> as an <code>unordered_map&lt;int, int&gt;</code> to keep a count of votes for each candidate.</li>
</ul>
</li>
<li>
<p><strong>Vote Counting and Leader Tracking</strong>:</p>
<ul>
<li>For each vote, we update the count of the current candidate using <code>++cnt[persons[i]]</code>.</li>
<li>We compare this candidate’s updated vote count with the current leader&rsquo;s vote count:
<ul>
<li>If the current candidate has an equal or greater count, they become the new leader.</li>
</ul>
</li>
<li>We store this leader in <code>mp[times[i]]</code>, mapping the time to the current leader.</li>
</ul>
</li>
</ol>
<h4 id="query-method-finding-the-leader-at-time-t"><strong>Query Method</strong>: Finding the Leader at Time <code>t</code></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">q</span>(<span style="color:#0b0;font-weight:bold">int</span> t) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> (<span style="color:#666">--</span>mp.upper_bound(t))<span style="color:#666">-&gt;</span>second;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>
<p><strong>Upper Bound Search</strong>:</p>
<ul>
<li>We use <code>upper_bound(t)</code> to locate the smallest key in <code>mp</code> that is greater than <code>t</code>.</li>
<li>We then decrement the iterator to get the last entry that is ≤ <code>t</code>.</li>
</ul>
</li>
<li>
<p><strong>Return the Leader</strong>:</p>
<ul>
<li>The result of <code>(--mp.upper_bound(t))</code> is the leader at the most recent time ≤ <code>t</code>, stored in <code>mp[t]</code>.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity"><strong>Time Complexity</strong></h4>
<ul>
<li>
<p><strong>Constructor (<code>TopVotedCandidate</code>)</strong>:</p>
<ul>
<li><strong>O(n)</strong> for processing each vote, where <code>n</code> is the length of <code>persons</code>.</li>
<li>Each vote requires a constant-time update to <code>cnt</code> and a logarithmic-time update to <code>mp</code> due to insertion into a <code>map</code>.</li>
</ul>
</li>
<li>
<p><strong>Query (<code>q</code>)</strong>:</p>
<ul>
<li><strong>O(log n)</strong> for each query, as <code>upper_bound</code> is a logarithmic operation in a <code>map</code>.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity"><strong>Space Complexity</strong></h4>
<ul>
<li><strong>O(n)</strong>: We use extra space to store the vote counts in <code>cnt</code> and the leader mapping in <code>mp</code>, both of which can grow up to size <code>n</code>.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>TopVotedCandidate</code> class efficiently tracks the leader at each voting time and can quickly retrieve the leader at any queried time. By using a map and an upper bound search, we optimize both the initialization and query processes to handle large datasets efficiently. This approach provides an effective solution for tracking and querying the leading candidate at any given time based on past voting records.</p>
<p><a href="https://leetcode.com/problems/online-election/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/6lmMcTr9gbo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
