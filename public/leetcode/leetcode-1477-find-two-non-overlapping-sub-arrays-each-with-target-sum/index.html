<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1477: Find Two Non-overlapping Sub-arrays Each With Target Sum | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1477: Find Two Non-overlapping Sub-arrays Each With Target Sum">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1477: Find Two Non-overlapping Sub-arrays Each With Target Sum in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1477-find-two-non-overlapping-sub-arrays-each-with-target-sum/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1477: Find Two Non-overlapping Sub-arrays Each With Target Sum">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1477: Find Two Non-overlapping Sub-arrays Each With Target Sum in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-06-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Dynamic Programming">
    <meta property="article:tag" content="Sliding Window">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1477: Find Two Non-overlapping Sub-arrays Each With Target Sum</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode235s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> minSumOfLengths(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr, <span style="color:#0b0;font-weight:bold">int</span> target) {
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, lsize <span style="color:#666">=</span> INT_MAX, result <span style="color:#666">=</span> INT_MAX;
</span></span><span style="display:flex;"><span>        mp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> arr.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            sum <span style="color:#666">+=</span> arr[i];
</span></span><span style="display:flex;"><span>            mp[sum] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        sum <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> arr.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>            sum <span style="color:#666">+=</span> arr[i];
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp.count(sum <span style="color:#666">-</span> target)) 
</span></span><span style="display:flex;"><span>            lsize <span style="color:#666">=</span> min(lsize, i <span style="color:#666">-</span> mp[sum<span style="color:#666">-</span>target]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(mp.count(sum <span style="color:#666">+</span> target) <span style="color:#666">&amp;&amp;</span> lsize <span style="color:#666">&lt;</span> INT_MAX)
</span></span><span style="display:flex;"><span>            result <span style="color:#666">=</span> min(result, mp[sum <span style="color:#666">+</span> target] <span style="color:#666">-</span>i <span style="color:#666">+</span>lsize);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> result <span style="color:#666">==</span> INT_MAX <span style="color:#666">?</span> <span style="color:#666">-</span><span style="color:#666">1</span><span style="color:#666">:</span> result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand is to find the minimum sum of the lengths of two non-overlapping subarrays in a given array <code>arr</code> such that the sum of each subarray equals a specified <code>target</code>. A subarray is defined as a contiguous portion of the array, and the lengths of the subarrays should not overlap.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can use a combination of prefix sums and a hash map (unordered_map) to keep track of previously encountered sums. The overall approach can be broken down into the following key steps:</p>
<ol>
<li>
<p><strong>Calculate Prefix Sums</strong>: Traverse through the array while maintaining a cumulative sum, storing the last index where each cumulative sum is found in a hash map.</p>
</li>
<li>
<p><strong>Find Valid Subarrays</strong>: For each index in the array, check if a subarray that sums to <code>target</code> can be formed using the previously stored sums in the hash map. This requires checking if the difference between the current sum and the <code>target</code> exists in the map.</p>
</li>
<li>
<p><strong>Update Minimum Lengths</strong>: Whenever a valid subarray that sums to <code>target</code> is found, update the minimum length of the previously found subarray if it allows for a non-overlapping combination.</p>
</li>
<li>
<p><strong>Compute the Result</strong>: Finally, compute the minimum sum of lengths of the two non-overlapping subarrays. If no valid combination is found, return -1.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Let&rsquo;s break down the provided code in detail:</p>
<ol>
<li>
<p><strong>Class Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div><ul>
<li>This starts the definition of the <code>Solution</code> class, which will contain our main logic.</li>
</ul>
</li>
<li>
<p><strong>Method Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">minSumOfLengths</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr, <span style="color:#0b0;font-weight:bold">int</span> target) {
</span></span></code></pre></div><ul>
<li>The method <code>minSumOfLengths</code> is defined, which takes a vector of integers <code>arr</code> and an integer <code>target</code> as input parameters.</li>
</ul>
</li>
<li>
<p><strong>Variable Initialization</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, <span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> mp;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> <span style="color:#666">0</span>, lsize <span style="color:#666">=</span> INT_MAX, result <span style="color:#666">=</span> INT_MAX;
</span></span><span style="display:flex;"><span>mp[<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>An unordered map <code>mp</code> is initialized to store cumulative sums and their corresponding indices.</li>
<li>The variable <code>sum</code> is initialized to accumulate the sum as we iterate through the array.</li>
<li><code>lsize</code> keeps track of the length of the last found valid subarray that sums to <code>target</code>, initialized to a large value (<code>INT_MAX</code>).</li>
<li><code>result</code> will store the minimum sum of lengths of the two valid subarrays, also initialized to <code>INT_MAX</code>.</li>
<li>The entry <code>mp[0] = -1</code> is set to handle cases where a valid subarray starts from index 0.</li>
</ul>
</li>
<li>
<p><strong>First Pass - Populate Prefix Sums</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> arr.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    sum <span style="color:#666">+=</span> arr[i];
</span></span><span style="display:flex;"><span>    mp[sum] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>This loop iterates over the <code>arr</code> array, updating the cumulative <code>sum</code> and storing it in the map <code>mp</code> with the current index <code>i</code>.</li>
</ul>
</li>
<li>
<p><strong>Second Pass - Find Valid Subarrays</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sum <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> arr.size(); i<span style="color:#666">++</span>) {
</span></span><span style="display:flex;"><span>    sum <span style="color:#666">+=</span> arr[i];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mp.count(sum <span style="color:#666">-</span> target)) 
</span></span><span style="display:flex;"><span>        lsize <span style="color:#666">=</span> min(lsize, i <span style="color:#666">-</span> mp[sum<span style="color:#666">-</span>target]);
</span></span></code></pre></div><ul>
<li>Here, we reset <code>sum</code> and start a new loop through <code>arr</code>. We again accumulate the <code>sum</code> for each index.</li>
<li>We check if the difference <code>sum - target</code> exists in the map <code>mp</code>. If it does, it means we have found a valid subarray, and we update <code>lsize</code> with the minimum length.</li>
</ul>
</li>
<li>
<p><strong>Update the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(mp.count(sum <span style="color:#666">+</span> target) <span style="color:#666">&amp;&amp;</span> lsize <span style="color:#666">&lt;</span> INT_MAX)
</span></span><span style="display:flex;"><span>        result <span style="color:#666">=</span> min(result, mp[sum <span style="color:#666">+</span> target] <span style="color:#666">-</span>i <span style="color:#666">+</span> lsize);
</span></span></code></pre></div><ul>
<li>Next, we check if <code>sum + target</code> exists in the map. If it does and <code>lsize</code> is valid (not <code>INT_MAX</code>), we update <code>result</code> with the minimum of the current <code>result</code> and the sum of the lengths of the two valid subarrays.</li>
</ul>
</li>
<li>
<p><strong>Return the Result</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> result <span style="color:#666">==</span> INT_MAX <span style="color:#666">?</span> <span style="color:#666">-</span><span style="color:#666">1</span> <span style="color:#666">:</span> result;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Finally, we check if <code>result</code> is still <code>INT_MAX</code>. If it is, it indicates that no valid combination was found, so we return -1. Otherwise, we return the computed <code>result</code>.</li>
</ul>
</li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The overall time complexity is (O(n)), where (n) is the length of the input array <code>arr</code>. This is due to the fact that each pass through the array (two passes in total) takes linear time, and hash map operations (insert and lookup) average to (O(1)).</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(n)) due to the storage of the cumulative sums in the hash map. In the worst case, all sums could be unique and require space proportional to the length of the array.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>minSumOfLengths</code> method efficiently finds the minimum sum of lengths of two non-overlapping subarrays that each sum to a given target. The use of prefix sums combined with a hash map allows for a linear time solution, making it suitable for larger inputs.</p>
<p>Key takeaways from this implementation include:</p>
<ol>
<li>
<p><strong>Efficiency</strong>: The use of a hash map for quick lookups drastically reduces the time complexity compared to a naive approach that might involve nested loops.</p>
</li>
<li>
<p><strong>Simplicity</strong>: The code is structured in a way that is easy to follow, with clear variable naming and logical segmentation of the steps.</p>
</li>
<li>
<p><strong>Versatility</strong>: The approach can be adapted for similar problems that involve subarray sums and constraints, showcasing the utility of prefix sums in competitive programming and algorithm design.</p>
</li>
</ol>
<p>In summary, this solution serves as an excellent example of optimizing problems involving sums of subarrays, demonstrating effective use of data structures for enhanced performance.</p>
<p><a href="https://leetcode.com/problems/find-two-non-overlapping-sub-arrays-each-with-target-sum/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/uV_JsPPLK9o?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
