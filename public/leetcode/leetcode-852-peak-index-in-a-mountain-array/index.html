<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 852: Peak Index in a Mountain Array | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 852: Peak Index in a Mountain Array">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 852: Peak Index in a Mountain Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-852-peak-index-in-a-mountain-array/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 852: Peak Index in a Mountain Array">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 852: Peak Index in a Mountain Array in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-13T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Binary Search">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 852: Peak Index in a Mountain Array</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1348s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> peakIndexInMountainArray(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> arr) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> arr.size();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> <span style="color:#666">1</span>, r <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(l <span style="color:#666">&lt;=</span> r) {
</span></span><span style="display:flex;"><span>            <span style="color:#0b0;font-weight:bold">int</span> mid <span style="color:#666">=</span> l <span style="color:#666">+</span> (r <span style="color:#666">-</span> l <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">/</span> <span style="color:#666">2</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">&amp;&amp;</span> arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">return</span> mid;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">+</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                r <span style="color:#666">=</span> mid <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span>(arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>                l <span style="color:#666">=</span> mid <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The task is to find the index of the peak element in a <strong>mountain array</strong>. A <strong>mountain array</strong> is an array where:</p>
<ol>
<li>The array is strictly increasing up to a peak element.</li>
<li>The array is strictly decreasing after the peak element.</li>
</ol>
<p>Given an array <code>arr</code> of integers, where the length of the array is at least 3, the goal is to find the index of the peak element. The peak element is an element that is greater than both its neighbors.</p>
<p><strong>Example</strong>:</p>
<ul>
<li><strong>Input</strong>: <code>arr = [0, 2, 3, 4, 5, 3, 1]</code></li>
<li><strong>Output</strong>: <code>4</code> (The peak is <code>5</code> at index <code>4</code>).</li>
</ul>
<h3 id="approach">Approach</h3>
<p>To solve the problem efficiently, we can apply a <strong>binary search</strong> strategy. Since the array is guaranteed to form a mountain, we can exploit the structure to perform a <strong>logarithmic</strong> search. The peak element must satisfy the condition that it is greater than its neighbors. We can use the binary search to efficiently find this peak.</p>
<ol>
<li>
<p><strong>Binary Search Approach</strong>:</p>
<ul>
<li>The basic idea is to divide the array into two parts and compare the middle element with its neighbors.</li>
<li>If the middle element is greater than its neighbors, we have found the peak.</li>
<li>If the middle element is less than its right neighbor, the peak lies to the right of the middle, so we move the left pointer (<code>l</code>) to <code>mid + 1</code>.</li>
<li>If the middle element is less than its left neighbor, the peak lies to the left of the middle, so we move the right pointer (<code>r</code>) to <code>mid - 1</code>.</li>
</ul>
</li>
<li>
<p><strong>Edge Case</strong>:</p>
<ul>
<li>Since the array is guaranteed to have at least one peak (due to the problem constraints), we don&rsquo;t need to worry about edge cases like arrays of length 2 or non-mountain arrays.</li>
</ul>
</li>
</ol>
<p>This approach will run in <strong>O(log n)</strong> time, where <code>n</code> is the length of the array, making it optimal for large arrays.</p>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-initialize-pointers">Step 1: Initialize pointers</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> <span style="color:#666">1</span>, r <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">2</span>;
</span></span></code></pre></div><ul>
<li>We initialize two pointers, <code>l</code> (left) and <code>r</code> (right), to point to the elements just next to the first and last elements of the array. We exclude the first and last elements since the peak must be somewhere between these two points.</li>
</ul>
<h4 id="step-2-binary-search-loop">Step 2: Binary Search Loop</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span> (l <span style="color:#666">&lt;=</span> r) {
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> mid <span style="color:#666">=</span> l <span style="color:#666">+</span> (r <span style="color:#666">-</span> l <span style="color:#666">+</span> <span style="color:#666">1</span>) <span style="color:#666">/</span> <span style="color:#666">2</span>;
</span></span></code></pre></div><ul>
<li>We start a <code>while</code> loop where <code>l</code> is less than or equal to <code>r</code>. In each iteration, we calculate the middle index <code>mid</code> of the current search range. We use the formula <code>l + (r - l + 1) / 2</code> to avoid overflow and ensure that the search space is balanced.</li>
</ul>
<h4 id="step-3-peak-condition">Step 3: Peak Condition</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">+</span> <span style="color:#666">1</span>] <span style="color:#666">&amp;&amp;</span> arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> mid;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We check if the current middle element (<code>arr[mid]</code>) is greater than both its left neighbor (<code>arr[mid - 1]</code>) and right neighbor (<code>arr[mid + 1]</code>). If this condition holds, then we have found the peak, and we return the index <code>mid</code>.</li>
</ul>
<h4 id="step-4-adjust-search-range">Step 4: Adjust Search Range</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">+</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>    r <span style="color:#666">=</span> mid <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#00a000">if</span> (arr[mid] <span style="color:#666">&gt;</span> arr[mid <span style="color:#666">-</span> <span style="color:#666">1</span>]) {
</span></span><span style="display:flex;"><span>    l <span style="color:#666">=</span> mid <span style="color:#666">+</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>If the middle element is greater than its right neighbor (<code>arr[mid] &gt; arr[mid + 1]</code>), it means the peak lies to the left of <code>mid</code>, so we adjust the right pointer (<code>r = mid - 1</code>) to narrow the search to the left half.</li>
<li>If the middle element is greater than its left neighbor (<code>arr[mid] &gt; arr[mid - 1]</code>), it means the peak lies to the right of <code>mid</code>, so we adjust the left pointer (<code>l = mid + 1</code>) to narrow the search to the right half.</li>
</ul>
<h4 id="step-5-return-the-result">Step 5: Return the Result</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">0</span>;
</span></span></code></pre></div><ul>
<li>After the binary search loop completes, if no peak is found (though the problem guarantees that one will exist), we return <code>0</code>. In this case, returning <code>0</code> is more of a fallback, though the loop ensures that we find a peak.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity is <strong>O(log n)</strong> because we reduce the search range by half with each iteration of the binary search. This makes it very efficient, especially for large arrays.</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(1)</strong> because we are only using a constant amount of extra space to store the pointers <code>l</code>, <code>r</code>, and <code>mid</code>. The algorithm does not use any additional data structures that scale with the input size.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution leverages a binary search approach to efficiently find the peak element in a mountain array. By continually halving the search space, we ensure that the algorithm runs in <strong>O(log n)</strong> time, which is optimal for large input sizes. The simplicity and efficiency of the binary search make this solution ideal for this problem.</p>
<p>Key takeaways:</p>
<ul>
<li>The problem guarantees the presence of a peak, making binary search a natural choice.</li>
<li>The use of binary search ensures that we can find the peak in logarithmic time, making the solution scalable for large inputs.</li>
<li>The solution only requires constant space, making it space-efficient.</li>
</ul>
<p>This method is a perfect example of how to leverage the structure of a problem (in this case, the &ldquo;mountain&rdquo; property) to design an optimal solution.</p>
<p><a href="https://leetcode.com/problems/peak-index-in-a-mountain-array/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/yeYhFWpIus4?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
