<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 851: Loud and Rich | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 851: Loud and Rich">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 851: Loud and Rich in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-851-loud-and-rich/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 851: Loud and Rich">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 851: Loud and Rich in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-08-13T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Depth-First Search">
    <meta property="article:tag" content="Graph">
    <meta property="article:tag" content="Topological Sort">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 851: Loud and Rich</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1347s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> richer2;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> res;
</span></span><span style="display:flex;"><span>    vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> loudAndRich(vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&amp;</span> richer, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> quiet) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">v</span>: richer) richer2[v[<span style="color:#666">1</span>]].push_back(v[<span style="color:#666">0</span>]);
</span></span><span style="display:flex;"><span>        res <span style="color:#666">=</span> vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> (quiet.size(), <span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> quiet.size(); i<span style="color:#666">++</span>) dfs(i, quiet);
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dfs</span>(<span style="color:#0b0;font-weight:bold">int</span> i, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>quiet) {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(res[i] <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> res[i];
</span></span><span style="display:flex;"><span>        res[i] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">j</span> : richer2[i])
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(quiet[res[i]] <span style="color:#666">&gt;</span> quiet[dfs(j, quiet)]) res[i] <span style="color:#666">=</span> res[j];
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires determining the quietest person in a society, where individuals can be classified as richer than others, and the quietness is represented by an array. We need to identify, for each person, the wealthiest person in their social hierarchy who is less quiet. This requires us to use the richer relationships between individuals and quietness values to compute the result.</p>
<p><strong>Given:</strong></p>
<ol>
<li>A list of relationships <code>richer</code> where <code>richer[i] = [a, b]</code> means person <code>a</code> is richer than person <code>b</code>.</li>
<li>An array <code>quiet</code> where <code>quiet[i]</code> represents the quietness of person <code>i</code> (lower value means quieter).</li>
</ol>
<p><strong>Goal:</strong>
For each person <code>i</code>, find the richest person in their social group whose quietness is the least (the quietest) — either that person themselves or someone in their social hierarchy.</p>
<p><strong>Example:</strong></p>
<ul>
<li><strong>Input</strong>: <code>richer = [[1, 0], [2, 1], [3, 2], [3, 0]]</code>, <code>quiet = [3, 2, 5, 4]</code></li>
<li><strong>Output</strong>: <code>[3, 2, 5, 4]</code></li>
</ul>
<p>Here, person 0 is richer than person 1, and person 1 is richer than person 2. Thus, we need to determine the quietest person in each person&rsquo;s group.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we must traverse the social hierarchy using a depth-first search (DFS) approach and keep track of the quietest person in each hierarchy. The strategy involves the following steps:</p>
<ol>
<li>
<p><strong>Build the graph of richer relationships</strong>:</p>
<ul>
<li>Create a graph where each node represents a person and each directed edge represents a &ldquo;richer than&rdquo; relationship.</li>
<li>This helps establish the social hierarchy where for each person <code>a</code>, we know which other people <code>b</code> are poorer.</li>
</ul>
</li>
<li>
<p><strong>Depth-First Search (DFS)</strong>:</p>
<ul>
<li>Use DFS to explore the social hierarchy starting from each person. As we explore, we will keep track of the quietest person in the social group, considering the relationships (edges) that point from richer to poorer people.</li>
<li>The DFS function will recursively explore each person’s social group and return the index of the quietest person in that group.</li>
</ul>
</li>
<li>
<p><strong>Memoization</strong>:</p>
<ul>
<li>Since there could be many overlapping subproblems (i.e., we may encounter the same person multiple times during different DFS calls), we will use memoization to store the results for each person in a <code>res</code> array to avoid recomputation.</li>
</ul>
</li>
<li>
<p><strong>Update the quietest person</strong>:</p>
<ul>
<li>For each person, we compare their quietness with the quietest person in their hierarchy and update accordingly.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<ol>
<li>
<p><strong>Graph Construction</strong>:
The <code>richer2</code> map is used to store the relationship between richer and poorer individuals. For every pair <code>[a, b]</code> in <code>richer</code>, we add <code>a</code> to the list of people richer than <code>b</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>unordered_map<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span>, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span> richer2;
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#a2f;font-weight:bold">auto</span> <span style="color:#a0a000">v</span>: richer) richer2[v[<span style="color:#666">1</span>]].push_back(v[<span style="color:#666">0</span>]);
</span></span></code></pre></div></li>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>The result vector <code>res</code> is initialized with <code>-1</code> for each person. This is because we are initially unaware of the quietest person for each individual.</li>
<li>The size of the <code>res</code> vector is the same as the size of the <code>quiet</code> vector, as we need to compute one result for each person.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>res <span style="color:#666">=</span> vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>(quiet.size(), <span style="color:#666">-</span><span style="color:#666">1</span>);
</span></span></code></pre></div></li>
<li>
<p><strong>DFS Function</strong>:</p>
<ul>
<li>The <code>dfs</code> function recursively explores each person’s social group. It returns the index of the quietest person in the group.</li>
<li>For each person <code>i</code>, the function first checks if the result has already been computed (i.e., <code>res[i] &gt;= 0</code>). If the result is computed, we simply return it to avoid redundant calculations.</li>
<li>If the result has not been computed, we initialize <code>res[i] = i</code> (assuming the person is the quietest in their group initially).</li>
<li>We then explore all the people who are richer than <code>i</code> by traversing the graph. For each person <code>j</code> that is richer than <code>i</code>, we compute the quietest person in <code>j</code>&rsquo;s social group using a recursive call to <code>dfs</code>.</li>
<li>After exploring all richer individuals, we update <code>res[i]</code> to reflect the quietest person in the group.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">dfs</span>(<span style="color:#0b0;font-weight:bold">int</span> i, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span> <span style="color:#666">&amp;</span>quiet) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(res[i] <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>) <span style="color:#a2f;font-weight:bold">return</span> res[i];
</span></span><span style="display:flex;"><span>    res[i] <span style="color:#666">=</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> <span style="color:#a0a000">j</span> : richer2[i])
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span>(quiet[res[i]] <span style="color:#666">&gt;</span> quiet[dfs(j, quiet)]) res[i] <span style="color:#666">=</span> res[j];
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">return</span> res[i];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Final Result</strong>:</p>
<ul>
<li>The <code>loudAndRich</code> function invokes the <code>dfs</code> function for each person in the <code>quiet</code> list to compute the quietest person in their group and stores the result in <code>res</code>.</li>
<li>Finally, the function returns the <code>res</code> vector containing the quietest person for each individual.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> <span style="color:#666">0</span>; i <span style="color:#666">&lt;</span> quiet.size(); i<span style="color:#666">++</span>) dfs(i, quiet);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>Graph construction</strong>: Building the graph takes <strong>O(m)</strong> time, where <code>m</code> is the number of relationships in <code>richer</code>.</li>
<li><strong>DFS</strong>: Each DFS call visits each node (person) at most once, and since there are <code>n</code> persons, the DFS time complexity is <strong>O(n)</strong> for each call.</li>
<li><strong>Memoization</strong>: Memoization ensures that each person is visited only once, so the total time complexity is <strong>O(n + m)</strong>.</li>
</ul>
<p>Thus, the total time complexity of this solution is <strong>O(n + m)</strong>, where <code>n</code> is the number of persons and <code>m</code> is the number of relationships.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>Graph construction</strong>: The space required to store the graph is <strong>O(m)</strong>, where <code>m</code> is the number of relationships.</li>
<li><strong>Result storage</strong>: The <code>res</code> vector has a space complexity of <strong>O(n)</strong> to store the quietest person for each individual.</li>
<li><strong>DFS recursion stack</strong>: The maximum depth of the recursion stack is <strong>O(n)</strong> in the worst case.</li>
</ul>
<p>Thus, the total space complexity is <strong>O(n + m)</strong>.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the problem of finding the quietest person in each person’s social hierarchy by leveraging depth-first search and memoization. By constructing the graph of richer relationships, the DFS function computes the result in an optimal manner, avoiding redundant calculations. The time complexity of <strong>O(n + m)</strong> ensures that the solution is scalable for larger inputs, making it suitable for practical use cases involving social hierarchies and quietness.</p>
<p><a href="https://leetcode.com/problems/loud-and-rich/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
