<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 611: Valid Triangle Number | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 611: Valid Triangle Number">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 611: Valid Triangle Number in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-611-valid-triangle-number/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 611: Valid Triangle Number">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 611: Valid Triangle Number in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-09-06T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Binary Search">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 611: Valid Triangle Number</h1> 
            </div>
			<div class="article-post">
				<h2 id="hahahugoshortcode1216s0hbhb"><figure class="remote-image" style="text-align:center; margin: 0;">
    <div style="position: relative; width:900px; max-width:100%; padding-bottom:56.25%; overflow: hidden; border-radius:0px;">
      <img src="https://raw.githubusercontent.com/grid47/list-images/refs/heads/main/list/611.webp" 
           alt="A set of triangle side lengths where the valid triangles glow softly, and invalid ones fade." 
           style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
    </div>
    
      <figcaption style="font-size: 0.8em; font-weight: 300; color:#555; margin-top: 4px; line-height: 1.2;">
        Solution to LeetCode 611: Valid Triangle Number Problem
      </figcaption>
    
  </figure>
  </h2>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode1216s1hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> triangleNumber(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> nums) {
</span></span><span style="display:flex;"><span>        sort(nums.begin(), nums.end());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> nums.size();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>, k <span style="color:#666">=</span> i <span style="color:#666">-</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> k;) {
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&lt;</span> nums[j] <span style="color:#666">+</span> nums[k]) {
</span></span><span style="display:flex;"><span>                    cnt<span style="color:#666">+=</span> k <span style="color:#666">-</span> j;
</span></span><span style="display:flex;"><span>                    k<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>                } <span style="color:#a2f;font-weight:bold">else</span> j<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>Given an array of integers <code>nums</code>, we are tasked with finding the number of valid triangles that can be formed with three sides where the side lengths are taken from the array. For a set of three side lengths to form a valid triangle, the sum of any two sides must be greater than the third side. Specifically, given three side lengths <code>a</code>, <code>b</code>, and <code>c</code> (where <code>a &lt;= b &lt;= c</code>), the condition for forming a triangle is:</p>
<ul>
<li><code>a + b &gt; c</code></li>
</ul>
<h3 id="approach">Approach</h3>
<p>To solve this problem efficiently, we can use the <strong>two-pointer technique</strong> combined with sorting. The main idea is to:</p>
<ol>
<li><strong>Sort the array</strong>: Sorting the array will allow us to simplify checking the triangle inequality condition. If the array is sorted, for any triplet of sides <code>a</code>, <code>b</code>, and <code>c</code> (where <code>a &lt;= b &lt;= c</code>), we only need to check if <code>a + b &gt; c</code> to verify if they form a valid triangle.</li>
<li><strong>Iterate through each element</strong>: For each element <code>nums[i]</code>, treat it as the largest side (<code>c</code>) of the triangle.</li>
<li><strong>Use two pointers</strong>: For each fixed <code>nums[i]</code> as <code>c</code>, use two pointers (<code>j</code> and <code>k</code>) to find pairs of numbers from the previous elements (<code>nums[0]</code> to <code>nums[i-1]</code>) that can form valid triangles with <code>nums[i]</code>. Specifically, for each pair <code>nums[j]</code> and <code>nums[k]</code>, we check if they satisfy the condition <code>nums[j] + nums[k] &gt; nums[i]</code>.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="step-1-sorting-the-array">Step 1: Sorting the Array</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(nums.begin(), nums.end());
</span></span></code></pre></div><ul>
<li>We begin by sorting the <code>nums</code> array in ascending order. This ensures that for each triplet <code>a</code>, <code>b</code>, and <code>c</code> where <code>a &lt;= b &lt;= c</code>, the triangle inequality check (<code>a + b &gt; c</code>) will be straightforward to implement.</li>
</ul>
<h4 id="step-2-initialize-variables">Step 2: Initialize Variables</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> cnt <span style="color:#666">=</span> <span style="color:#666">0</span>, n <span style="color:#666">=</span> nums.size();
</span></span></code></pre></div><ul>
<li><code>cnt</code> will store the count of valid triangles.</li>
<li><code>n</code> is the size of the input array <code>nums</code>.</li>
</ul>
<h4 id="step-3-loop-over-the-largest-side-c">Step 3: Loop Over the Largest Side (<code>c</code>)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> i <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>; i <span style="color:#666">&gt;=</span> <span style="color:#666">0</span>; i<span style="color:#666">--</span>)
</span></span></code></pre></div><ul>
<li>We start by iterating backward from the last element of the sorted array (<code>i = n - 1</code>). The element at index <code>i</code> is considered as the largest side (<code>c</code>) of the triangle.</li>
<li>The reason for iterating backwards is that we want to consider the largest possible side first and check for possible valid triangles with smaller sides.</li>
</ul>
<h4 id="step-4-use-two-pointers-to-find-valid-pairs">Step 4: Use Two Pointers to Find Valid Pairs</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#0b0;font-weight:bold">int</span> j <span style="color:#666">=</span> <span style="color:#666">0</span>, k <span style="color:#666">=</span> i <span style="color:#666">-</span> <span style="color:#666">1</span>; j <span style="color:#666">&lt;</span> k;)
</span></span></code></pre></div><ul>
<li>For each fixed value of <code>nums[i]</code>, we use two pointers (<code>j</code> and <code>k</code>) to check for valid pairs of sides from the previous elements (<code>nums[0]</code> to <code>nums[i-1]</code>).
<ul>
<li><code>j</code> starts at 0 (the smallest element) and <code>k</code> starts at <code>i - 1</code> (the element just before <code>nums[i]</code>).</li>
<li>The goal is to check if the sum of <code>nums[j]</code> and <code>nums[k]</code> is greater than <code>nums[i]</code> (the largest side of the triangle).</li>
</ul>
</li>
</ul>
<h4 id="step-5-check-triangle-validity-and-update-pointers">Step 5: Check Triangle Validity and Update Pointers</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(nums[i] <span style="color:#666">&lt;</span> nums[j] <span style="color:#666">+</span> nums[k]) {
</span></span><span style="display:flex;"><span>    cnt <span style="color:#666">+=</span> k <span style="color:#666">-</span> j;
</span></span><span style="display:flex;"><span>    k<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> j<span style="color:#666">++</span>;
</span></span></code></pre></div><ul>
<li>If <code>nums[j] + nums[k] &gt; nums[i]</code>, we have found valid pairs that can form a triangle with <code>nums[i]</code> as the largest side.
<ul>
<li>The number of valid triangles with <code>nums[i]</code> as the largest side is <code>k - j</code>, because every pair of <code>nums[j]</code> and <code>nums[l]</code> (where <code>j &lt;= l &lt;= k</code>) will satisfy the condition <code>nums[j] + nums[l] &gt; nums[i]</code>.</li>
<li>We increment the count <code>cnt</code> by <code>k - j</code> and move the pointer <code>k--</code> to check the next smaller pair.</li>
</ul>
</li>
<li>If <code>nums[j] + nums[k] &lt;= nums[i]</code>, we increment <code>j</code> to try with a larger value for <code>nums[j]</code>.</li>
</ul>
<h4 id="step-6-return-the-final-count">Step 6: Return the Final Count</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> cnt;
</span></span></code></pre></div><ul>
<li>After iterating through all possible valid triangles, the final count of valid triangles is returned.</li>
</ul>
<h3 id="complexity">Complexity</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li><strong>O(n^2)</strong>:
<ul>
<li>Sorting the array takes <strong>O(n log n)</strong> time.</li>
<li>The outer loop runs <code>n</code> times (for each <code>nums[i]</code>), and for each iteration of the outer loop, the inner loop runs with two pointers, resulting in a total of <strong>O(n^2)</strong> iterations in the worst case.</li>
<li>Therefore, the overall time complexity is <strong>O(n^2)</strong>.</li>
</ul>
</li>
</ul>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li><strong>O(1)</strong>:
<ul>
<li>The space complexity is constant because we only use a few extra variables (<code>cnt</code>, <code>n</code>, <code>j</code>, <code>k</code>), and no extra space is used for storing additional data structures (except for the input array).</li>
<li>Therefore, the space complexity is <strong>O(1)</strong>.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently counts the number of valid triangles that can be formed from the given array of integers. By leveraging sorting and the two-pointer technique, we can reduce the complexity of the problem from <strong>O(n^3)</strong> (brute force approach) to <strong>O(n^2)</strong>, making it suitable for larger input sizes. The algorithm ensures that all possible triplets are checked in an optimal manner, yielding the correct count of valid triangles. This method is both time-efficient and space-efficient, providing an ideal solution for counting valid triangles from side lengths in a sorted array.</p>
<p><a href="https://leetcode.com/problems/valid-triangle-number/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/AZrQMv5ne54?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
