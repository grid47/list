<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 2491: Divide Players Into Teams of Equal Skill | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 2491: Divide Players Into Teams of Equal Skill">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 2491: Divide Players Into Teams of Equal Skill in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-2491-divide-players-into-teams-of-equal-skill/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 2491: Divide Players Into Teams of Equal Skill">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 2491: Divide Players Into Teams of Equal Skill in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Hash Table">
    <meta property="article:tag" content="Two Pointers">
    <meta property="article:tag" content="Sorting">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 2491: Divide Players Into Teams of Equal Skill</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode793s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> dividePlayers(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> skill) {
</span></span><span style="display:flex;"><span>        sort(skill.begin(), skill.end());
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> skill.size();
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> <span style="color:#666">0</span>, r <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> skill[l] <span style="color:#666">+</span> skill[r];
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> prod <span style="color:#666">=</span> skill[l] <span style="color:#666">*</span> skill[r];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        l<span style="color:#666">++</span>, r<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(l <span style="color:#666">&lt;</span> r) {
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(sum <span style="color:#666">!=</span> (skill[l] <span style="color:#666">+</span> skill[r])) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>            prod <span style="color:#666">+=</span> skill[l] <span style="color:#666">*</span> skill[r];
</span></span><span style="display:flex;"><span>            l<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>            r<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> prod;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem requires us to divide a given list of players into two teams such that:</p>
<ol>
<li>Each team has the same sum of skills.</li>
<li>The product of the skills of the players in each pair (one player from each team) must be maximized.</li>
</ol>
<p>The goal is to compute the sum of the products of paired players, ensuring that each pair sums to the same value. If it&rsquo;s not possible to form such pairs, the function should return <code>-1</code>.</p>
<p>For example:</p>
<ul>
<li>Given a list of player skills: <code>[3, 1, 2, 4]</code>, we need to check if we can split the list into pairs such that the sum of the skills in each pair is equal and calculate the sum of the products of those pairs.</li>
<li>If it&rsquo;s possible, return the sum of the products of the pairs; otherwise, return <code>-1</code>.</li>
</ul>
<h3 id="approach">Approach</h3>
<p>The main idea is to pair players in such a way that:</p>
<ul>
<li>The sum of skills in each pair is equal.</li>
<li>The product of skills in each pair should be maximized.</li>
</ul>
<p>We can approach the problem in the following manner:</p>
<ol>
<li><strong>Sort the Skill List</strong>: Start by sorting the list of player skills in ascending order. This allows us to pair players from opposite ends of the sorted list.</li>
<li><strong>Check Pairing Conditions</strong>: Once sorted, the first player (with the lowest skill) can be paired with the last player (with the highest skill). For each pair, we check if their sum is consistent across all pairs. If the sum of any pair differs, we return <code>-1</code>.</li>
<li><strong>Calculate Product</strong>: For each valid pair (where the sum is consistent), calculate the product of their skills and accumulate the result.</li>
<li><strong>Return the Final Result</strong>: If all pairs are valid, return the sum of their products. If any pair does not satisfy the conditions, return <code>-1</code>.</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<h4 id="1-sort-the-skill-list">1. <strong>Sort the Skill List</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(skill.begin(), skill.end());
</span></span></code></pre></div><ul>
<li>The first step is sorting the input <code>skill</code> vector. Sorting helps us easily pick pairs from the two ends of the list, which is a common technique in problems involving pairwise operations.</li>
</ul>
<h4 id="2-initialize-pointers">2. <strong>Initialize Pointers</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> skill.size();
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> l <span style="color:#666">=</span> <span style="color:#666">0</span>, r <span style="color:#666">=</span> n <span style="color:#666">-</span> <span style="color:#666">1</span>;
</span></span></code></pre></div><ul>
<li>We initialize two pointers, <code>l</code> and <code>r</code>, which point to the first and last elements of the sorted <code>skill</code> list, respectively. These pointers will help in forming pairs by picking players from the start and the end of the list.</li>
</ul>
<h4 id="3-initial-pair-sum-and-product">3. <strong>Initial Pair Sum and Product</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> sum <span style="color:#666">=</span> skill[l] <span style="color:#666">+</span> skill[r];
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">long</span> <span style="color:#0b0;font-weight:bold">long</span> prod <span style="color:#666">=</span> skill[l] <span style="color:#666">*</span> skill[r];
</span></span></code></pre></div><ul>
<li>The first pair is formed by the players at indices <code>l</code> and <code>r</code>. The sum of their skills is calculated and stored in <code>sum</code>. The product of their skills is also calculated and stored in <code>prod</code>.</li>
<li>We will use these initial values to check if all subsequent pairs follow the same sum.</li>
</ul>
<h4 id="4-increment-and-decrement-pointers">4. <strong>Increment and Decrement Pointers</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>l<span style="color:#666">++</span>, r<span style="color:#666">--</span>;
</span></span></code></pre></div><ul>
<li>After processing the first pair, we move the <code>l</code> pointer forward and the <code>r</code> pointer backward to form the next pair.</li>
</ul>
<h4 id="5-iterate-and-check-each-pair">5. <strong>Iterate and Check Each Pair</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span> (l <span style="color:#666">&lt;</span> r) {
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span> (sum <span style="color:#666">!=</span> (skill[l] <span style="color:#666">+</span> skill[r])) <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#666">-</span><span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>    prod <span style="color:#666">+=</span> skill[l] <span style="color:#666">*</span> skill[r];
</span></span><span style="display:flex;"><span>    l<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    r<span style="color:#666">--</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>We enter a <code>while</code> loop that continues until the <code>l</code> pointer meets the <code>r</code> pointer. For each pair, we check if the sum of the current pair is equal to the initial sum (<code>sum</code>). If the sum differs, it means the pairing is not valid, so we return <code>-1</code>.</li>
<li>If the sum is valid, we calculate the product of the current pair and add it to the accumulated <code>prod</code> value.</li>
<li>Finally, we increment <code>l</code> and decrement <code>r</code> to check the next pair.</li>
</ul>
<h4 id="6-return-the-product">6. <strong>Return the Product</strong></h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> prod;
</span></span></code></pre></div><ul>
<li>Once all pairs are processed and their sums are verified, we return the total product accumulated in <code>prod</code>.</li>
</ul>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<h4 id="time-complexity">Time Complexity:</h4>
<ul>
<li>The time complexity is <strong>O(n log n)</strong>, where <code>n</code> is the size of the <code>skill</code> list.
<ul>
<li>Sorting the list takes <strong>O(n log n)</strong> time.</li>
<li>The subsequent iteration through the list to form pairs takes <strong>O(n)</strong> time.</li>
</ul>
</li>
</ul>
<p>Thus, the overall time complexity is dominated by the sorting step, which is <strong>O(n log n)</strong>.</p>
<h4 id="space-complexity">Space Complexity:</h4>
<ul>
<li>The space complexity is <strong>O(1)</strong>, as the solution only uses a constant amount of extra space (a few integer variables such as <code>l</code>, <code>r</code>, <code>sum</code>, and <code>prod</code>), regardless of the size of the input list.</li>
</ul>
<p>Thus, the space complexity is <strong>O(1)</strong>.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This solution efficiently solves the problem of pairing players with equal sum of skills and maximizing the product of skills within each pair. The algorithm works by sorting the skill list and using two pointers to form pairs from opposite ends of the list. It ensures that the sum of each pair is consistent and calculates the sum of their products.</p>
<p>The time complexity of <strong>O(n log n)</strong> makes the solution suitable for relatively large inputs, and the space complexity of <strong>O(1)</strong> ensures that the algorithm uses minimal extra memory.</p>
<p>The approach is simple yet effective for problems involving pairing or matching items under specific conditions. It leverages sorting and the two-pointer technique, both of which are commonly used in algorithms for pairing elements in lists or arrays.</p>
<p><a href="https://leetcode.com/problems/divide-players-into-teams-of-equal-skill/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/cueOpK5QMEA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
