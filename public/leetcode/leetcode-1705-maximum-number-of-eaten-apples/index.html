<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Hugo 0.136.4">
	
	<link rel="icon" href="/images/logo.png">
	
	<title>Leetcode 1705: Maximum Number of Eaten Apples | grid47</title>
	
	

	
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1705: Maximum Number of Eaten Apples">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1705: Maximum Number of Eaten Apples in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">

	<meta property="og:url" content="http://localhost:1313/leetcode/leetcode-1705-maximum-number-of-eaten-apples/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1705: Maximum Number of Eaten Apples">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1705: Maximum Number of Eaten Apples in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="leetcode">
    <meta property="article:published_time" content="2024-05-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-06T00:00:00+00:00">
    <meta property="article:tag" content="Array">
    <meta property="article:tag" content="Greedy">
    <meta property="article:tag" content="Heap (Priority Queue)">


	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

	
	<link rel="stylesheet" href="http://localhost:1313/css/medium.ced6b291f6520a092efe4c87ca4fc7047e1c3174b10653f78e13ca06f0bb6abf.css" integrity="sha256-ztaykfZSCgku/kyHyk/HBH4cMXSxBlP3jhPKBvC7ar8=">

	
	<link rel="stylesheet" href="http://localhost:1313/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css" integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk=">

	
	
	<link rel="stylesheet" href="/css/head.css" integrity="" crossorigin="anonymous" media="screen">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="http://localhost:1313//">

            
            <img src="/images/logo.png" alt="logo">
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">About</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/leetcode/">LeetCode</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/terms/">Terms &amp; Policy</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="main-content">

<div class="container">
	<div class="row">
        <div class="col-md-1"></div>
		<div class="col-md-10">
			<div class="mainheading">
				<h1 class="posttitle">Leetcode 1705: Maximum Number of Eaten Apples</h1> 
            </div>
			<div class="article-post">
				<hr>
<p><strong>Code:</strong></p>
<h2 id="hahahugoshortcode345s0hbhb"><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0b0;font-weight:bold">int</span> eatenApples(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> apples, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> days) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> days.size();
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, greater<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        <span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, i <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> n <span style="color:#666">||</span> <span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;</span> n <span style="color:#666">&amp;&amp;</span> apples[i] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) pq.push({i <span style="color:#666">+</span> days[i] <span style="color:#666">-</span> <span style="color:#666">1</span>, apples[i]});
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty() <span style="color:#666">&amp;&amp;</span> pq.top()[<span style="color:#666">0</span>] <span style="color:#666">&lt;</span> i)
</span></span><span style="display:flex;"><span>                pq.pop();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>                res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> pq.top();
</span></span><span style="display:flex;"><span>                pq.pop();
</span></span><span style="display:flex;"><span>                <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">1</span>) pq.push({it[<span style="color:#666">0</span>], it[<span style="color:#666">1</span>] <span style="color:#666">-</span> <span style="color:#666">1</span>});
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            i<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div></h2>
<h3 id="problem-statement">Problem Statement</h3>
<p>The problem at hand involves managing the consumption of apples over a specified number of days. Each apple has a certain expiration time, after which it cannot be eaten. Given two vectors, <code>apples</code> and <code>days</code>, where <code>apples[i]</code> represents the number of apples available on day <code>i</code>, and <code>days[i]</code> indicates how many days those apples can be eaten, the task is to calculate the maximum number of apples that can be consumed within the given constraints.</p>
<p>The goal is to consume apples efficiently, considering their availability and expiration times, to maximize the total number of apples eaten.</p>
<h3 id="approach">Approach</h3>
<p>To solve this problem, we can utilize a min-heap (priority queue) to keep track of the apples that are available to eat along with their expiration dates. The approach can be summarized in the following steps:</p>
<ol>
<li>
<p><strong>Initialize Variables</strong>: We start by determining the total number of days (length of the <code>days</code> array) and initializing a priority queue to manage the apples based on their expiration date.</p>
</li>
<li>
<p><strong>Simulate Each Day</strong>: For each day, we will:</p>
<ul>
<li>Add the apples available that day to the priority queue, along with their expiration date (which is the current day plus the number of days they can be eaten).</li>
<li>Remove any apples from the priority queue that have already expired.</li>
<li>If there are still apples available, consume one apple, decrease its count, and if there are any remaining, reinsert it back into the queue with the same expiration date.</li>
</ul>
</li>
<li>
<p><strong>Continue Until All Days Are Processed</strong>: This process continues until we either exhaust the number of days or the priority queue becomes empty.</p>
</li>
<li>
<p><strong>Return the Result</strong>: Finally, we return the total count of apples eaten.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">Code Breakdown (Step by Step)</h3>
<p>Letâ€™s break down the provided code to better understand how it implements this approach:</p>
<ol>
<li>
<p><strong>Class Declaration</strong>: We define a class named <code>Solution</code> that contains our method.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#666">:</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Method Declaration</strong>: We declare a public method called <code>eatenApples</code>, which takes two vectors of integers (<code>apples</code> and <code>days</code>) as input and returns an integer representing the total number of apples eaten.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> <span style="color:#00a000">eatenApples</span>(vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> apples, vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&amp;</span> days) {
</span></span></code></pre></div></li>
<li>
<p><strong>Variable Initialization</strong>: We initialize several variables:</p>
<ul>
<li><code>n</code> to store the number of days.</li>
<li><code>pq</code> as a priority queue to manage apples based on their expiration dates.</li>
<li><code>res</code> to accumulate the total number of apples eaten.</li>
<li><code>i</code> to represent the current day.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> n <span style="color:#666">=</span> days.size();
</span></span><span style="display:flex;"><span>priority_queue<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;</span>, vector<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;</span>, greater<span style="color:#666">&lt;</span>vector<span style="color:#666">&lt;</span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#666">&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">int</span> res <span style="color:#666">=</span> <span style="color:#666">0</span>, i <span style="color:#666">=</span> <span style="color:#666">0</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Loop Through Days</strong>: We enter a while loop that continues as long as there are days left (<code>i &lt; n</code>) or there are still apples in the priority queue (<code>!pq.empty()</code>).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(i <span style="color:#666">&lt;</span> n <span style="color:#666">||</span> <span style="color:#666">!</span>pq.empty()) {
</span></span></code></pre></div></li>
<li>
<p><strong>Add Available Apples</strong>: Inside the loop, we check if there are apples available for the current day (<code>i &lt; n</code> and <code>apples[i] &gt; 0</code>). If so, we push them into the priority queue, storing the expiration date (the current day plus the days they can last) and the count of apples.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(i <span style="color:#666">&lt;</span> n <span style="color:#666">&amp;&amp;</span> apples[i] <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) 
</span></span><span style="display:flex;"><span>    pq.push({i <span style="color:#666">+</span> days[i] <span style="color:#666">-</span> <span style="color:#666">1</span>, apples[i]});
</span></span></code></pre></div></li>
<li>
<p><strong>Remove Expired Apples</strong>: Next, we need to ensure we are only dealing with non-expired apples. We do this by removing any entries from the priority queue where the expiration date is less than the current day (<code>i</code>).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">while</span>(<span style="color:#666">!</span>pq.empty() <span style="color:#666">&amp;&amp;</span> pq.top()[<span style="color:#666">0</span>] <span style="color:#666">&lt;</span> i)
</span></span><span style="display:flex;"><span>    pq.pop(); <span style="color:#080;font-style:italic">// Remove expired apples
</span></span></span></code></pre></div></li>
<li>
<p><strong>Consume Apples</strong>: If there are still apples in the queue, we consume one. We increment the result count, pop the top of the priority queue to get the apple details, and if there are remaining apples, we push them back into the queue with an updated count.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>pq.empty()) {
</span></span><span style="display:flex;"><span>    res<span style="color:#666">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">auto</span> it <span style="color:#666">=</span> pq.top(); <span style="color:#080;font-style:italic">// Get the apple info
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>    pq.pop();
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">if</span>(it[<span style="color:#666">1</span>] <span style="color:#666">&gt;</span> <span style="color:#666">1</span>) 
</span></span><span style="display:flex;"><span>        pq.push({it[<span style="color:#666">0</span>], it[<span style="color:#666">1</span>] <span style="color:#666">-</span> <span style="color:#666">1</span>}); <span style="color:#080;font-style:italic">// Push back if more apples are left
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}
</span></span></code></pre></div></li>
<li>
<p><strong>Increment Day</strong>: After processing for the current day, we increment <code>i</code> to move to the next day.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>i<span style="color:#666">++</span>;
</span></span></code></pre></div></li>
<li>
<p><strong>Return the Result</strong>: Finally, we return the total number of apples eaten.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity">Complexity</h3>
<p>The time complexity of this solution is O(n log n), where n is the number of days, due to the operations on the priority queue. Each insertion and deletion operation on the priority queue takes O(log k) time, where k is the number of apples in the queue. The space complexity is O(k), where k is the maximum number of apples stored in the priority queue at any given time.</p>
<h3 id="conclusion">Conclusion</h3>
<p>In conclusion, the provided code efficiently calculates the maximum number of apples that can be eaten given the constraints of availability and expiration dates. By utilizing a priority queue to manage the apples, the algorithm ensures that we always consume the freshest apples available while keeping track of their expiration. This method is optimal and well-suited for scenarios where resource management is critical, demonstrating effective use of data structures to solve complex problems efficiently. Overall, the solution is clear, concise, and adheres to the principles of algorithmic design, making it a valuable approach to similar resource allocation challenges.</p>
<p><a href="https://leetcode.com/problems/maximum-number-of-eaten-apples/description/"><code>Link to LeetCode Lab</code></a></p>
<hr>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/1vRYTJqaZ8s?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/">LeetCode Solutions Library</a> / <a href="https://grid47.xyz/sheets/">DSA Sheets</a> / <a href="https://grid47.xyz/courses/">Course Catalog</a></th>
      </tr>
  </thead>
  <tbody>
  </tbody>
</table>

			</div>
		</div>
        <div class="col-md-1"></div>
	</div>
</div>

</div>


            </div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright www.grid47.com - All rights reserved
            </div>
            
        </div>
    </div>
</footer>


        </div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="http://localhost:1313/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js" integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1LN7R4LHR1');
        }
      </script>
    </body>
</html>
