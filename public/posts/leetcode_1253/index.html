<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1253: Reconstruct a 2-Row Binary Matrix · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1253: Reconstruct a 2-Row Binary Matrix in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1253: Reconstruct a 2-Row Binary Matrix">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1253: Reconstruct a 2-Row Binary Matrix in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1253/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1253: Reconstruct a 2-Row Binary Matrix">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1253: Reconstruct a 2-Row Binary Matrix in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1253/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1253/">
              Leetcode 1253: Reconstruct a 2-Row Binary Matrix
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/reconstruct-a-2-row-binary-matrix/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> reconstructMatrix(<span style="color:#66d9ef">int</span> u, <span style="color:#66d9ef">int</span> l, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> cs) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> res(<span style="color:#ae81ff">2</span>, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(cs.size()));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> cs.size(); u <span style="color:#f92672">-=</span> res[<span style="color:#ae81ff">0</span>][i], l <span style="color:#f92672">-=</span> res[<span style="color:#ae81ff">1</span>][i], i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            res[<span style="color:#ae81ff">0</span>][i] <span style="color:#f92672">=</span> cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> (cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> l <span style="color:#f92672">&lt;</span> u);
</span></span><span style="display:flex;"><span>            res[<span style="color:#ae81ff">1</span>][i] <span style="color:#f92672">=</span> cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> (cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>res[<span style="color:#ae81ff">0</span>][i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> u <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> l <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> res : vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="hahahugoshortcode294s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>In this problem, you are tasked with reconstructing a binary matrix based on two constraints: the number of 1s in each column and the number of 1s in each row. Given the upper limit (<code>u</code>) for the number of 1s in the first row and the lower limit (<code>l</code>) for the second row, as well as a vector (<code>cs</code>) that represents the count of 1s for each column, the objective is to generate a binary matrix (2xN) such that:</p>
<ol>
<li>The sum of the first row equals <code>u</code>.</li>
<li>The sum of the second row equals <code>l</code>.</li>
<li>Each column contains either two 1s, one 1, or no 1s based on the values in <code>cs</code>.</li>
</ol>
<p>The function should return the constructed matrix if possible, or an empty matrix if it&rsquo;s not feasible to meet the constraints.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve this problem, we will employ the following approach:</p>
<ol>
<li>
<p><strong>Matrix Initialization</strong>: Create a 2xN matrix initialized with zeros. This matrix will hold the reconstructed values.</p>
</li>
<li>
<p><strong>Iterate through Columns</strong>: Loop through each column, using the corresponding value in <code>cs</code> to determine how many 1s should be placed in that column.</p>
</li>
<li>
<p><strong>Decision Logic</strong>: For each column, the decision on how many 1s to place is made based on:</p>
<ul>
<li>If <code>cs[i]</code> equals 2, place 1 in both rows.</li>
<li>If <code>cs[i]</code> equals 1, place 1 in the row that still has remaining capacity (either <code>u</code> or <code>l</code>).</li>
<li>If <code>cs[i]</code> equals 0, leave both rows as 0.</li>
</ul>
</li>
<li>
<p><strong>Final Check</strong>: After filling in the matrix, check if the total counts of <code>u</code> and <code>l</code> have been met. If they match, return the matrix; otherwise, return an empty matrix.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> reconstructMatrix(<span style="color:#66d9ef">int</span> u, <span style="color:#66d9ef">int</span> l, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> cs) {
</span></span></code></pre></div><ul>
<li><strong>Line 1-2</strong>: The class <code>Solution</code> is defined with the public method <code>reconstructMatrix</code>, which takes two integers (<code>u</code>, <code>l</code>) and a vector of integers (<code>cs</code>). This method will return a 2D vector representing the reconstructed matrix.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> res(<span style="color:#ae81ff">2</span>, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(cs.size()));
</span></span></code></pre></div><ul>
<li><strong>Line 3</strong>: A 2D vector <code>res</code> is initialized with 2 rows and <code>cs.size()</code> columns, filled with zeros. This will eventually contain the binary matrix.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> cs.size(); u <span style="color:#f92672">-=</span> res[<span style="color:#ae81ff">0</span>][i], l <span style="color:#f92672">-=</span> res[<span style="color:#ae81ff">1</span>][i], i<span style="color:#f92672">++</span>) {
</span></span></code></pre></div><ul>
<li><strong>Line 4</strong>: A for loop iterates through each index <code>i</code> of the <code>cs</code> vector, where <code>u</code> and <code>l</code> will be decremented based on the values placed in the current column.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            res[<span style="color:#ae81ff">0</span>][i] <span style="color:#f92672">=</span> cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> (cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> l <span style="color:#f92672">&lt;</span> u);
</span></span></code></pre></div><ul>
<li><strong>Line 5</strong>: The first row&rsquo;s value for the current column is set to <code>1</code> if <code>cs[i]</code> equals <code>2</code> (indicating both rows get a <code>1</code>) or if it equals <code>1</code> and there are more remaining <code>1s</code> in the first row (<code>u</code>) than in the second row (<code>l</code>). This ensures that we prioritize filling the row with a higher remaining capacity.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            res[<span style="color:#ae81ff">1</span>][i] <span style="color:#f92672">=</span> cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> (cs[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>res[<span style="color:#ae81ff">0</span>][i]);
</span></span></code></pre></div><ul>
<li><strong>Line 6</strong>: The second row&rsquo;s value is similarly set. If <code>cs[i]</code> is <code>2</code>, both rows receive a <code>1</code>. If <code>cs[i]</code> is <code>1</code> and the first row does not have a <code>1</code> in that column (<code>!res[0][i]</code>), then a <code>1</code> is placed in the second row.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Line 7</strong>: This marks the end of the for loop.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> u <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> l <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> res : vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span>();
</span></span></code></pre></div><ul>
<li><strong>Line 8</strong>: Finally, after the loop, we check if both <code>u</code> and <code>l</code> are equal to zero. If they are, this means we have successfully constructed a valid matrix, which is returned. If not, we return an empty vector, indicating that it&rsquo;s impossible to satisfy the constraints.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Line 9-10</strong>: This closes the method and the class.</li>
</ul>
<h3 id="complexity-analysis">
  Complexity Analysis
  <a class="heading-link" href="#complexity-analysis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this solution is (O(n)), where (n) is the number of columns in the <code>cs</code> vector. The function iterates through the <code>cs</code> vector once to fill the matrix.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is also (O(n)) due to the storage required for the output matrix <code>res</code>, which has a fixed size of (2 \times n).</p>
</li>
</ol>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <code>reconstructMatrix</code> function provides a clear and efficient method for reconstructing a binary matrix based on given constraints. By utilizing a straightforward approach to iteratively fill the matrix according to the rules set by the input parameters (<code>u</code>, <code>l</code>, and <code>cs</code>), the function ensures that the matrix meets the required criteria.</p>
<p>This solution exemplifies how to apply logical reasoning and decision-making in coding, particularly when working with matrix structures and constraints. The combination of GCD properties and matrix manipulation not only leads to an effective solution but also highlights the importance of understanding the underlying mathematical principles in algorithm design.</p>
<p>Overall, the <code>reconstructMatrix</code> function serves as an excellent example of practical problem-solving in programming, providing insights into how to handle similar tasks involving constraints and binary representations effectively. By maintaining clarity and efficiency, this function can be a useful addition to any coder&rsquo;s toolkit.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode294s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1254"  class="external-link" target="_blank" rel="noopener">LeetCode #1254: Number of Closed Islands</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
