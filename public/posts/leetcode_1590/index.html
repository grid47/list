<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1590: Make Sum Divisible by P · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1590: Make Sum Divisible by P in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1590: Make Sum Divisible by P">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1590: Make Sum Divisible by P in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1590/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1590: Make Sum Divisible by P">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1590: Make Sum Divisible by P in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1590/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1590/">
              Leetcode 1590: Make Sum Divisible by P
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/make-sum-divisible-by-p/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minSubarray(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums, <span style="color:#66d9ef">int</span> p) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> mp;
</span></span><span style="display:flex;"><span>        mp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> nums.size(), res <span style="color:#f92672">=</span> n, cur <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, need <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, want <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;   
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> a : nums)
</span></span><span style="display:flex;"><span>            need <span style="color:#f92672">=</span> (need <span style="color:#f92672">+</span> a) <span style="color:#f92672">%</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            cur <span style="color:#f92672">=</span> (cur <span style="color:#f92672">+</span> nums[i]) <span style="color:#f92672">%</span> p;
</span></span><span style="display:flex;"><span>            mp[cur] <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>            want <span style="color:#f92672">=</span> (cur <span style="color:#f92672">-</span> need <span style="color:#f92672">+</span> p) <span style="color:#f92672">%</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (mp.count(want))
</span></span><span style="display:flex;"><span>            res <span style="color:#f92672">=</span> min(res, i <span style="color:#f92672">-</span> mp[want]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> res <span style="color:#f92672">&lt;</span> n<span style="color:#f92672">?</span> res : <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="hahahugoshortcode670s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The problem involves finding the minimum length of a subarray in an array <code>nums</code> such that when the sum of its elements is removed from the array, the remaining elements&rsquo; sum is divisible by a given integer <code>p</code>. If no such subarray exists, we should return -1.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve this problem efficiently, we will utilize the concept of prefix sums and hash maps. The steps are as follows:</p>
<ol>
<li>
<p><strong>Calculate the Total Remainder</strong>: First, we compute the total sum of the array <code>nums</code> modulo <code>p</code>. This will give us the remainder that needs to be compensated by removing a subarray.</p>
</li>
<li>
<p><strong>Use a Hash Map to Track Prefix Remainders</strong>: As we iterate through the array, we will maintain a running sum and track the indices of the remainders we encounter. This will allow us to find subarrays that can adjust the total sum to be divisible by <code>p</code>.</p>
</li>
<li>
<p><strong>Calculate the Required Remainder</strong>: For each element in the array, we calculate what the required remainder would be if we were to remove the current subarray. If this required remainder has been seen before, we can determine the length of the subarray to remove.</p>
</li>
<li>
<p><strong>Find the Minimum Length</strong>: Throughout the iteration, we will keep track of the minimum length of valid subarrays that can be removed.</p>
</li>
<li>
<p><strong>Return the Result</strong>: If we found valid subarrays, we return the minimum length; otherwise, we return -1.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Let’s delve into the code to understand its workings in detail:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minSubarray(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums, <span style="color:#66d9ef">int</span> p) {
</span></span></code></pre></div><ul>
<li><strong>Class and Method Declaration</strong>: We define the <code>Solution</code> class and the method <code>minSubarray</code>, which takes a vector of integers <code>nums</code> and an integer <code>p</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> mp; <span style="color:#75715e">// Map to store the last occurrence of each prefix sum remainder
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        mp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; <span style="color:#75715e">// Initialize with the case where the prefix sum is zero
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> nums.size(), res <span style="color:#f92672">=</span> n, cur <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, need <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, want <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;   
</span></span></code></pre></div><ul>
<li><strong>Initialization</strong>: We initialize a hash map <code>mp</code> to track the indices of the last occurrences of each remainder. We set <code>mp[0]</code> to -1 to handle cases where removing a prefix subarray is possible. We also define variables for the size of the array <code>n</code>, the result <code>res</code> initialized to <code>n</code>, and variables for the current prefix sum <code>cur</code>, the total remainder needed <code>need</code>, and the desired remainder <code>want</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> a : nums)
</span></span><span style="display:flex;"><span>            need <span style="color:#f92672">=</span> (need <span style="color:#f92672">+</span> a) <span style="color:#f92672">%</span> p; <span style="color:#75715e">// Calculate the total remainder needed from the full array
</span></span></span></code></pre></div><ul>
<li><strong>Calculating Total Remainder</strong>: We iterate through the <code>nums</code> array and accumulate the total sum modulo <code>p</code> to determine the remainder <code>need</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            cur <span style="color:#f92672">=</span> (cur <span style="color:#f92672">+</span> nums[i]) <span style="color:#f92672">%</span> p; <span style="color:#75715e">// Update the current prefix sum remainder
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            mp[cur] <span style="color:#f92672">=</span> i; <span style="color:#75715e">// Store the current index of this remainder
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            want <span style="color:#f92672">=</span> (cur <span style="color:#f92672">-</span> need <span style="color:#f92672">+</span> p) <span style="color:#f92672">%</span> p; <span style="color:#75715e">// Calculate the required remainder to adjust the sum
</span></span></span></code></pre></div><ul>
<li><strong>Iterating Through the Array</strong>: We loop through the <code>nums</code> array. In each iteration, we update the current prefix sum <code>cur</code>, store its last occurrence in the map, and compute the required remainder <code>want</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (mp.count(want))
</span></span><span style="display:flex;"><span>                res <span style="color:#f92672">=</span> min(res, i <span style="color:#f92672">-</span> mp[want]); <span style="color:#75715e">// If the required remainder exists, calculate the minimum length
</span></span></span></code></pre></div><ul>
<li><strong>Checking for Valid Subarrays</strong>: We check if the <code>want</code> remainder exists in our map. If it does, we calculate the length of the subarray from the last occurrence of <code>want</code> to the current index <code>i</code>, and we update <code>res</code> if this length is smaller than the previous minimum.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> res <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">?</span> res : <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; <span style="color:#75715e">// Return the minimum length found, or -1 if no valid subarray exists
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Final Return Statement</strong>: After iterating through the array, we check if a valid subarray length was found. If <code>res</code> is less than <code>n</code>, it indicates that we found a valid subarray, so we return its length; otherwise, we return -1.</li>
</ul>
<h3 id="complexity">
  Complexity
  <a class="heading-link" href="#complexity">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The time complexity of this algorithm is (O(n)), where (n) is the number of elements in the <code>nums</code> array. This is due to the single pass through the array and the average constant time complexity of operations on the hash map.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(p)), where (p) is the modulus value. This space is required to store the remainder indices in the hash map.</p>
</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>This solution efficiently finds the minimum length of a subarray whose removal allows the sum of the remaining elements to be divisible by a specified integer <code>p</code>.</p>
<p>Key takeaways from this solution include:</p>
<ul>
<li><strong>Utilization of Prefix Sums</strong>: By maintaining a running total and its remainder, we can dynamically adjust our search for valid subarrays.</li>
<li><strong>Hash Map for Quick Lookups</strong>: The use of a hash map allows for quick access to previously encountered remainders, making it easy to compute the necessary lengths of potential subarrays to remove.</li>
<li><strong>Modular Arithmetic</strong>: The problem leverages modular arithmetic to handle the condition of divisibility efficiently.</li>
</ul>
<p>This algorithm is both efficient and elegant, making it well-suited for scenarios requiring quick calculations involving subarrays and conditions on their sums. The clear structure and logic provide a robust framework for tackling similar problems in array manipulation and mathematical constraints.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode670s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/tZXsLAyE0SE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1591"  class="external-link" target="_blank" rel="noopener">LeetCode #1591: Strange Printer II</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
