<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1396: Design Underground System · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1396: Design Underground System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1396: Design Underground System">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1396: Design Underground System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1396/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1396: Design Underground System">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1396: Design Underground System in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-01-06T00:00:00+00:00">
    <meta property="article:modified_time" content="2021-01-06T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_2/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_3/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_4/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_5/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_6/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_7/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1396/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1396/">
              Leetcode 1396: Design Underground System
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2021-01-06T00:00:00Z">
                January 6, 2021
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/design-underground-system/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Node</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">time</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">string</span> <span class="n">station</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">UndergroundSystem</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">Node</span><span class="o">&gt;</span> <span class="n">user</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">UndergroundSystem</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">checkIn</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="p">[</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">checkOut</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span> <span class="n">entry</span> <span class="o">=</span> <span class="n">user</span><span class="p">[</span><span class="n">id</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">user</span><span class="p">[</span><span class="n">id</span><span class="p">].</span><span class="n">station</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">cnt</span><span class="p">[</span><span class="n">entry</span><span class="p">.</span><span class="n">station</span><span class="p">][</span><span class="n">name</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">sum</span><span class="p">[</span><span class="n">entry</span><span class="p">.</span><span class="n">station</span><span class="p">][</span><span class="n">name</span><span class="p">]</span><span class="o">+=</span> <span class="n">t</span> <span class="o">-</span> <span class="n">entry</span><span class="p">.</span><span class="n">time</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">double</span> <span class="nf">getAverageTime</span><span class="p">(</span><span class="n">string</span> <span class="n">start</span><span class="p">,</span> <span class="n">string</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">sum</span><span class="p">[</span><span class="n">start</span><span class="p">][</span><span class="n">end</span><span class="p">]</span> <span class="o">/</span> <span class="n">cnt</span><span class="p">[</span><span class="n">start</span><span class="p">][</span><span class="n">end</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Your UndergroundSystem object will be instantiated and called as such:
</span></span></span><span class="line"><span class="cl"><span class="cm"> * UndergroundSystem* obj = new UndergroundSystem();
</span></span></span><span class="line"><span class="cl"><span class="cm"> * obj-&gt;checkIn(id,stationName,t);
</span></span></span><span class="line"><span class="cl"><span class="cm"> * obj-&gt;checkOut(id,stationName,t);
</span></span></span><span class="line"><span class="cl"><span class="cm"> * double param_3 = obj-&gt;getAverageTime(startStation,endStation);
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span></span></span></code></pre></div>
<h2 id="hahahugoshortcode452s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The problem is to implement a system that tracks the check-in and check-out times of passengers at various stations in an underground transportation system. The goal is to allow passengers to check in and out at different stations while being able to retrieve the average travel time between any two stations. This system involves managing user data effectively and calculating average travel times based on the recorded check-in and check-out times.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To address this problem, we utilize a class-based design in C++, leveraging several data structures to efficiently store and manage passenger data and travel times. The following are the key components of our approach:</p>
<ol>
<li>
<p><strong>Data Structures</strong>:</p>
<ul>
<li><strong>Maps</strong>: We use two maps:
<ul>
<li><code>cnt</code>: A nested map that tracks the count of trips between stations. The outer map uses the starting station as the key, while the inner map uses the destination station as the key to store the number of trips taken between the two stations.</li>
<li><code>sum</code>: Another nested map that keeps the total travel time for each trip between stations. This allows us to compute the average travel time efficiently.</li>
</ul>
</li>
<li><strong>Node Struct</strong>: A simple struct <code>Node</code> is defined to store the check-in time and station name for each passenger, enabling easy retrieval of check-in information when the passenger checks out.</li>
</ul>
</li>
<li>
<p><strong>Check-In and Check-Out Logic</strong>:</p>
<ul>
<li><strong>Check-In</strong>: When a passenger checks in, we record their ID, station, and time in a map (<code>user</code>). The passenger&rsquo;s information is stored in a <code>Node</code> instance associated with their ID.</li>
<li><strong>Check-Out</strong>: Upon checking out, we retrieve the passenger&rsquo;s check-in information, calculate the travel time, update the <code>cnt</code> and <code>sum</code> maps accordingly, and remove the passenger&rsquo;s data from the <code>user</code> map.</li>
</ul>
</li>
<li>
<p><strong>Average Travel Time Calculation</strong>:</p>
<ul>
<li>The <code>getAverageTime</code> function computes the average travel time between two stations by dividing the total travel time by the count of trips. This provides an efficient way to return results for any queried route.</li>
</ul>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Here’s a detailed step-by-step breakdown of the provided C++ code:</p>
<ol>
<li>
<p><strong>Node Struct Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Node</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">time</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">string</span> <span class="n">station</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><ul>
<li>A <code>Node</code> structure is defined to hold the check-in time and station name.</li>
</ul>
</li>
<li>
<p><strong>Class Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">UndergroundSystem</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">Node</span><span class="o">&gt;</span> <span class="n">user</span><span class="p">;</span>
</span></span></code></pre></div><ul>
<li>The <code>UndergroundSystem</code> class is defined. It contains:
<ul>
<li><code>cnt</code>: A map for counting trips between stations.</li>
<li><code>sum</code>: A map for summing travel times between stations.</li>
<li><code>user</code>: A map that holds the check-in information for each passenger based on their ID.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Constructor</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">    <span class="n">UndergroundSystem</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><ul>
<li>A default constructor initializes the class instance. No additional setup is required at this point.</li>
</ul>
</li>
<li>
<p><strong>Check-In Method</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">checkIn</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">n</span><span class="p">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="p">[</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><ul>
<li>The <code>checkIn</code> method takes the passenger&rsquo;s ID, station name, and time as parameters.</li>
<li>A <code>Node</code> is created to store the current station and time.</li>
<li>This node is then stored in the <code>user</code> map using the passenger ID as the key.</li>
</ul>
</li>
<li>
<p><strong>Check-Out Method</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">checkOut</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span> <span class="n">entry</span> <span class="o">=</span> <span class="n">user</span><span class="p">[</span><span class="n">id</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">user</span><span class="p">[</span><span class="n">id</span><span class="p">].</span><span class="n">station</span><span class="p">;</span> <span class="c1">// Debug line (can be removed)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">user</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">cnt</span><span class="p">[</span><span class="n">entry</span><span class="p">.</span><span class="n">station</span><span class="p">][</span><span class="n">name</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">sum</span><span class="p">[</span><span class="n">entry</span><span class="p">.</span><span class="n">station</span><span class="p">][</span><span class="n">name</span><span class="p">]</span><span class="o">+=</span> <span class="n">t</span> <span class="o">-</span> <span class="n">entry</span><span class="p">.</span><span class="n">time</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><ul>
<li>The <code>checkOut</code> method retrieves the passenger’s check-in information using their ID.</li>
<li>It calculates the travel time by subtracting the check-in time from the current time.</li>
<li>The counts and sums for trips between the checked-in and checked-out stations are updated.</li>
<li>The passenger’s information is removed from the <code>user</code> map.</li>
</ul>
</li>
<li>
<p><strong>Average Time Calculation Method</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">    <span class="kt">double</span> <span class="nf">getAverageTime</span><span class="p">(</span><span class="n">string</span> <span class="n">start</span><span class="p">,</span> <span class="n">string</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">sum</span><span class="p">[</span><span class="n">start</span><span class="p">][</span><span class="n">end</span><span class="p">]</span> <span class="o">/</span> <span class="n">cnt</span><span class="p">[</span><span class="n">start</span><span class="p">][</span><span class="n">end</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><ul>
<li>The <code>getAverageTime</code> method takes the starting and ending station names as parameters.</li>
<li>It calculates the average time by dividing the total travel time (stored in <code>sum</code>) by the count of trips (stored in <code>cnt</code>).</li>
<li>The average travel time is returned as a double.</li>
</ul>
</li>
<li>
<p><strong>Usage</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Your UndergroundSystem object will be instantiated and called as such:
</span></span></span><span class="line"><span class="cl"><span class="cm"> * UndergroundSystem* obj = new UndergroundSystem();
</span></span></span><span class="line"><span class="cl"><span class="cm"> * obj-&gt;checkIn(id,stationName,t);
</span></span></span><span class="line"><span class="cl"><span class="cm"> * obj-&gt;checkOut(id,stationName,t);
</span></span></span><span class="line"><span class="cl"><span class="cm"> * double param_3 = obj-&gt;getAverageTime(startStation,endStation);
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span></code></pre></div><ul>
<li>This section outlines how to create an instance of <code>UndergroundSystem</code> and how to use the provided methods.</li>
</ul>
</li>
</ol>
<h3 id="complexity">
  Complexity
  <a class="heading-link" href="#complexity">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li><strong>Check-In and Check-Out</strong>: Both operations run in ( O(1) ) time on average due to direct access to hash maps.</li>
<li><strong>Get Average Time</strong>: This operation also runs in ( O(1) ) since it involves direct access to the maps for the sum and count.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is ( O(n) ), where ( n ) is the number of unique passengers checked in and the number of routes taken between stations. This is due to the storage requirements for the maps.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>This implementation of the underground system efficiently manages passenger check-ins and check-outs while providing quick access to average travel times between stations.</p>
<p>Key takeaways from this solution include:</p>
<ul>
<li><strong>Efficient Data Management</strong>: Using maps to store counts and sums allows for efficient aggregation of travel times.</li>
<li><strong>Clear Separation of Responsibilities</strong>: The code cleanly separates the logic for check-in, check-out, and average time calculation, improving readability and maintainability.</li>
<li><strong>Utilization of Structs</strong>: The <code>Node</code> struct provides a clean way to encapsulate the check-in information for passengers, making the code easier to understand.</li>
</ul>
<p>Overall, this design demonstrates effective use of data structures and algorithms to solve a real-world problem, making it suitable for applications in transportation systems and other domains requiring similar functionalities.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode452s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>


      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="see-also-in-leetcode">
        See also in Leetcode
        <a class="heading-link" href="#see-also-in-leetcode">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/posts/leetcode_1/">Leetcode 1: Two Sum</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_2/">Leetcode 2: Add Two Numbers</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_3/">Leetcode 3: Longest Substring Without Repeating Characters</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_4/">Leetcode 4: Median of Two Sorted Arrays</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_5/">Leetcode 5: Longest Palindromic Substring</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_6/">Leetcode 6: Zigzag Conversion</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
