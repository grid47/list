<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1792: Maximum Average Pass Ratio · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1792: Maximum Average Pass Ratio in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1792: Maximum Average Pass Ratio">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1792: Maximum Average Pass Ratio in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1792/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1792: Maximum Average Pass Ratio">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1792: Maximum Average Pass Ratio in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1792/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1792/">
              Leetcode 1792: Maximum Average Pass Ratio
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/maximum-average-pass-ratio/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> maxAverageRatio(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> classes, <span style="color:#66d9ef">int</span> extraStudents) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> profit <span style="color:#f92672">=</span> [<span style="color:#f92672">&amp;</span>](<span style="color:#66d9ef">double</span> pass, <span style="color:#66d9ef">double</span> total) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (pass <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)<span style="color:#f92672">/</span>(total <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">-</span>(pass<span style="color:#f92672">/</span> total);
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">double</span> total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#f92672">&lt;</span>pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span>, array<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">2</span><span style="color:#f92672">&gt;&gt;&gt;</span> pq;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>c: classes) {
</span></span><span style="display:flex;"><span>            total <span style="color:#f92672">+=</span> (<span style="color:#66d9ef">double</span>) c[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">/</span>c[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#ae81ff">0</span>], c[<span style="color:#ae81ff">1</span>]), {c[<span style="color:#ae81ff">0</span>], c[<span style="color:#ae81ff">1</span>]}});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(extraStudents<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">auto</span> [addedProfit, c] <span style="color:#f92672">=</span> pq.top(); pq.pop();
</span></span><span style="display:flex;"><span>            total <span style="color:#f92672">+=</span> addedProfit;
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, c[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>), {c[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, c[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>}});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> total<span style="color:#f92672">/</span> classes.size();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="hahahugoshortcode894s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The problem requires us to maximize the average ratio of students passing a class after distributing a given number of extra students across multiple classes. Each class has a certain number of students who have passed and the total number of students. The goal is to allocate the extra students in such a way that the average pass ratio across all classes is maximized.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To achieve the goal of maximizing the average pass ratio after distributing the extra students, we can utilize a greedy algorithm combined with a priority queue (max-heap). Here&rsquo;s how the approach works:</p>
<ol>
<li>
<p><strong>Profit Calculation</strong>: First, we need to define a function that calculates the potential profit gained by adding one student to a class. This is done by comparing the pass ratio before and after adding a student.</p>
</li>
<li>
<p><strong>Initialization</strong>: We initialize a total variable to keep track of the current average ratio of students passing across all classes and a priority queue to manage which classes would benefit the most from receiving additional students.</p>
</li>
<li>
<p><strong>Heap Management</strong>: By utilizing a priority queue, we can efficiently select the class that will yield the highest increase in the average pass ratio with each additional student.</p>
</li>
<li>
<p><strong>Distribution of Extra Students</strong>: We iteratively allocate the extra students to the class that currently provides the best potential increase in the average pass ratio, updating the total and re-evaluating the potential profits after each allocation.</p>
</li>
<li>
<p><strong>Final Calculation</strong>: After distributing all extra students, we compute the final average pass ratio.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> maxAverageRatio(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> classes, <span style="color:#66d9ef">int</span> extraStudents) {
</span></span></code></pre></div><ul>
<li>We define the <code>Solution</code> class and the public method <code>maxAverageRatio</code>, which accepts a 2D vector <code>classes</code> (where each inner vector contains the number of passing students and the total number of students) and an integer <code>extraStudents</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> profit <span style="color:#f92672">=</span> [<span style="color:#f92672">&amp;</span>](<span style="color:#66d9ef">double</span> pass, <span style="color:#66d9ef">double</span> total) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (pass <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)<span style="color:#f92672">/</span>(total <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">-</span>(pass<span style="color:#f92672">/</span> total);
</span></span><span style="display:flex;"><span>        };
</span></span></code></pre></div><ul>
<li>We define a lambda function <code>profit</code> that calculates the increase in the pass ratio when one additional student is added. The formula computes the difference between the new ratio after adding a student and the current ratio.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">double</span> total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        priority_queue<span style="color:#f92672">&lt;</span>pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span>, array<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">2</span><span style="color:#f92672">&gt;&gt;&gt;</span> pq;
</span></span></code></pre></div><ul>
<li>We initialize a <code>total</code> variable to accumulate the current pass ratio across all classes and a priority queue <code>pq</code> to hold the potential profits from adding students to each class.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>c: classes) {
</span></span><span style="display:flex;"><span>            total <span style="color:#f92672">+=</span> (<span style="color:#66d9ef">double</span>) c[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">/</span>c[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#ae81ff">0</span>], c[<span style="color:#ae81ff">1</span>]), {c[<span style="color:#ae81ff">0</span>], c[<span style="color:#ae81ff">1</span>]}});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>We iterate over each class, compute the current pass ratio, and accumulate it into <code>total</code>. We also push the potential profit of adding one student to each class into the priority queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(extraStudents<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">auto</span> [addedProfit, c] <span style="color:#f92672">=</span> pq.top(); pq.pop();
</span></span><span style="display:flex;"><span>            total <span style="color:#f92672">+=</span> addedProfit;
</span></span><span style="display:flex;"><span>            pq.push({profit(c[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, c[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>), {c[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, c[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>}});
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li>We allocate students to the class that offers the highest profit by popping from the priority queue. After adding a student, we recalculate the potential profit for that class and push the updated profit back into the queue.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> total<span style="color:#f92672">/</span> classes.size();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>Finally, we return the average pass ratio, which is computed as the total accumulated pass ratio divided by the number of classes.</li>
</ul>
<h3 id="complexity">
  Complexity
  <a class="heading-link" href="#complexity">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>: The overall time complexity is (O(n \log n)), where (n) is the number of classes. This complexity arises from inserting and extracting elements from the priority queue (n) times.</p>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the storage required for the priority queue.</p>
</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <code>maxAverageRatio</code> function effectively maximizes the average pass ratio across multiple classes by strategically allocating extra students to those classes that would benefit the most from additional enrollment.</p>
<p>This algorithm demonstrates the power of greedy methods in optimization problems, particularly when combined with data structures like priority queues to efficiently manage and evaluate potential choices. In practical applications, this technique can be useful in educational contexts where resource allocation is critical for enhancing student performance metrics.</p>
<p>Understanding this algorithm enhances our problem-solving toolkit for similar optimization challenges, including scenarios in resource management, project planning, and performance improvement strategies in various fields.</p>
<p>The approach highlights the importance of calculating and prioritizing potential gains, allowing us to make informed decisions that lead to the best possible outcomes in competitive environments.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode894s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ZjydWQCVg80?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1793"  class="external-link" target="_blank" rel="noopener">LeetCode #1793: Maximum Score of a Good Subarray</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
