<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1026: Maximum Difference Between Node and Ancestor · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1026: Maximum Difference Between Node and Ancestor in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1026: Maximum Difference Between Node and Ancestor">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1026: Maximum Difference Between Node and Ancestor in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1026/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1026: Maximum Difference Between Node and Ancestor">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1026: Maximum Difference Between Node and Ancestor in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1026/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1026/">
              Leetcode 1026: Maximum Difference Between Node and Ancestor
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/maximum-difference-between-node-and-ancestor/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Definition for a binary tree node.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * struct TreeNode {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *     int val;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *     TreeNode *left;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *     TreeNode *right;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * };
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> maxAncestorDiff(TreeNode<span style="color:#f92672">*</span> root) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">helper</span>(root, root<span style="color:#f92672">-&gt;</span>val, root<span style="color:#f92672">-&gt;</span>val);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">helper</span>(TreeNode<span style="color:#f92672">*</span> node, <span style="color:#66d9ef">int</span> mx, <span style="color:#66d9ef">int</span> mn) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>node) <span style="color:#66d9ef">return</span> mx <span style="color:#f92672">-</span> mn;
</span></span><span style="display:flex;"><span>        mx <span style="color:#f92672">=</span> max(mx, node<span style="color:#f92672">-&gt;</span>val);
</span></span><span style="display:flex;"><span>        mn <span style="color:#f92672">=</span> min(mn, node<span style="color:#f92672">-&gt;</span>val);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> max(helper(node<span style="color:#f92672">-&gt;</span>left, mx, mn), helper(node<span style="color:#f92672">-&gt;</span>right, mx, mn));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="hahahugoshortcode44s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The task is to find the maximum difference between the values of any ancestor node and any descendant node in a binary tree. An ancestor of a node is any predecessor node on the path from the root to that node, while a descendant is any node that is reachable from that node. For example, in the following tree:</p>
<pre tabindex="0"><code>       8
      / \
     3   10
    / \
   1   6
      / \
     4   7
</code></pre><p>The maximum ancestor-descendant difference is between the node <code>8</code> (ancestor) and <code>1</code> (descendant), resulting in a difference of <code>7</code>.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve the problem of finding the maximum ancestor-descendant difference:</p>
<ol>
<li><strong>Recursive Traversal</strong>: The solution employs a recursive depth-first search (DFS) to traverse the tree. During traversal, it keeps track of the maximum and minimum values encountered along the path from the root to the current node.</li>
<li><strong>Base Case</strong>: When a leaf node (or a null node) is reached, the difference between the maximum and minimum values encountered along the path is calculated and returned.</li>
<li><strong>Maximizing the Difference</strong>: At each node, the algorithm compares the current node&rsquo;s value against the current maximum and minimum values and updates them accordingly. The maximum difference from the left and right subtrees is then compared to find the overall maximum difference.</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p><strong>Function Declaration</strong>:</p>
<ul>
<li>The <code>maxAncestorDiff</code> function is defined in the <code>Solution</code> class. It takes a pointer to the root node of the binary tree (<code>TreeNode* root</code>) as its parameter.</li>
</ul>
</li>
<li>
<p><strong>Initial Call to Helper Function</strong>:</p>
<ul>
<li>The function invokes a helper function named <code>helper</code>, passing the root node and initializing both the maximum and minimum values to the value of the root node.</li>
</ul>
</li>
<li>
<p><strong>Helper Function Definition</strong>:</p>
<ul>
<li>The <code>helper</code> function is a recursive function that takes three parameters:
<ul>
<li><code>node</code>: the current node being visited.</li>
<li><code>mx</code>: the maximum value encountered so far along the path from the root to the current node.</li>
<li><code>mn</code>: the minimum value encountered so far along the same path.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Base Case</strong>:</p>
<ul>
<li>The first line inside the <code>helper</code> function checks if the <code>node</code> is <code>nullptr</code>. If it is, it indicates that a leaf node has been reached, and the function returns the difference between the maximum and minimum values encountered on that path (<code>mx - mn</code>).</li>
</ul>
</li>
<li>
<p><strong>Updating Maximum and Minimum</strong>:</p>
<ul>
<li>The next two lines update the <code>mx</code> and <code>mn</code> values:
<ul>
<li><code>mx</code> is updated to the maximum of its current value and the value of the current node (<code>node-&gt;val</code>).</li>
<li><code>mn</code> is updated to the minimum of its current value and the value of the current node.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Recursive Calls</strong>:</p>
<ul>
<li>The function then recursively calls itself for the left and right child nodes of the current node:
<ul>
<li><code>helper(node-&gt;left, mx, mn)</code> to process the left subtree.</li>
<li><code>helper(node-&gt;right, mx, mn)</code> to process the right subtree.</li>
</ul>
</li>
<li>It returns the maximum value obtained from both subtrees using <code>max(...)</code>, thus capturing the maximum ancestor-descendant difference found at any point in the tree.</li>
</ul>
</li>
<li>
<p><strong>Final Return</strong>:</p>
<ul>
<li>The <code>maxAncestorDiff</code> function ultimately returns the result from the <code>helper</code> function, which contains the maximum ancestor-descendant difference across the entire binary tree.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">
  Complexity Analysis
  <a class="heading-link" href="#complexity-analysis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity of the solution is (O(n)), where (n) is the number of nodes in the binary tree. This is because each node is visited exactly once during the traversal.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(h)), where (h) is the height of the tree. This space is used by the recursion stack during the depth-first search traversal. In the worst case (for a skewed tree), this can become (O(n)), but for balanced trees, it will be (O(\log n)).</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <code>maxAncestorDiff</code> function effectively computes the maximum difference between an ancestor and a descendant in a binary tree using a recursive approach. By maintaining the maximum and minimum values encountered along each path from the root to the leaves, it ensures that the solution is both efficient and straightforward.</p>
<p>This solution is useful in various scenarios where binary tree structures are involved, such as in data organization, hierarchical data representation, and computational biology where tree-like structures often appear. The approach exemplifies the power of recursion and depth-first traversal in tree-based problems, making it a valuable addition to any algorithm enthusiast&rsquo;s toolkit.</p>
<p>In summary, this implementation demonstrates how to leverage recursion for problem-solving in binary trees, showcasing an efficient method to calculate differences based on hierarchical relationships within the data structure. The focus on clarity and structured problem-solving is key in algorithm design, making this solution a robust reference for similar challenges in coding interviews and competitive programming.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode44s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/f37BCBHGFGA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1027"  class="external-link" target="_blank" rel="noopener">LeetCode #1027: Longest Arithmetic Subsequence</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
