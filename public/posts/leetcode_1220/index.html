<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1220: Count Vowels Permutation Â· grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1220: Count Vowels Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysisâ€”more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1220: Count Vowels Permutation">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1220: Count Vowels Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysisâ€”more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1220/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1220: Count Vowels Permutation">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1220: Count Vowels Permutation in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysisâ€”more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1220/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1220/">
              Leetcode 1220: Count Vowels Permutation
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/hard/">Hard</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              7-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/count-vowels-permutation/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, mod <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span>) <span style="color:#ae81ff">1e9</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> mem;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dp</span>(<span style="color:#66d9ef">int</span> prv, <span style="color:#66d9ef">int</span> cur) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(cur <span style="color:#f92672">==</span> n) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(mem[prv][cur] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> mem[prv][cur];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(prv) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">1</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">2</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">4</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">5</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*  a -&gt; xeixu  e -&gt; axixx  i -&gt; xexox  o -&gt; xxixx  u -&gt; xxiox  */</span>            
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(1, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">2</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(4, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">5</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">1</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(2, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(4, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// ans = (ans + dp(5, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(1, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">2</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(3, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">4</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(5, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(1, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// ans = (ans + dp(2, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(4, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// ans = (ans + dp(5, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(1, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// ans = (ans + dp(2, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">4</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ans = (ans + dp(5, cur + 1)) % mod;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;                                                                        
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> mem[prv][cur] <span style="color:#f92672">=</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">countVowelPermutation</span>(<span style="color:#66d9ef">int</span> n) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>n <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>        mem.resize(<span style="color:#ae81ff">8</span>, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> dp(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="hahahugoshortcode260s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The problem is to find the number of strings of length ( n ) that can be formed using vowels (a, e, i, o, u) with the following constraints:</p>
<ul>
<li>The string can only consist of the characters &lsquo;a&rsquo;, &rsquo;e&rsquo;, &lsquo;i&rsquo;, &lsquo;o&rsquo;, and &lsquo;u&rsquo;.</li>
<li>The character &lsquo;a&rsquo; can only be followed by &rsquo;e&rsquo;.</li>
<li>The character &rsquo;e&rsquo; can only be followed by &lsquo;a&rsquo; or &lsquo;i&rsquo;.</li>
<li>The character &lsquo;i&rsquo; can be followed by &lsquo;a&rsquo;, &rsquo;e&rsquo;, &lsquo;o&rsquo;, or &lsquo;u&rsquo;.</li>
<li>The character &lsquo;o&rsquo; can only be followed by &lsquo;i&rsquo; or &lsquo;u&rsquo;.</li>
<li>The character &lsquo;u&rsquo; can only be followed by &lsquo;a&rsquo;.</li>
</ul>
<p>The goal is to count how many valid strings of length ( n ) can be generated under these rules, returning the result modulo ( 10^9 + 7 ) to avoid overflow.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve the problem, we can use dynamic programming (DP) and recursion with memoization. The main steps in our approach are:</p>
<ol>
<li><strong>Define a Recursive Function</strong>: Create a recursive function that explores all possible transitions from the current vowel to the next, keeping track of the length of the string being formed.</li>
<li><strong>Base Case</strong>: When the length reaches ( n ), it indicates a valid string has been formed, so we return 1.</li>
<li><strong>Memoization</strong>: Store results of already computed states to avoid redundant calculations and improve efficiency.</li>
<li><strong>Dynamic Transitions</strong>: Use a switch statement to manage transitions based on the current vowel.</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, mod <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span>) <span style="color:#ae81ff">1e9</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> mem;
</span></span></code></pre></div><ul>
<li><strong>Line 1-3</strong>: Define the <code>Solution</code> class, and declare necessary variables: <code>n</code> for the length of the string, <code>mod</code> for taking results modulo ( 10^9 + 7 ), and <code>mem</code> to store memoized results.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dp</span>(<span style="color:#66d9ef">int</span> prv, <span style="color:#66d9ef">int</span> cur) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(cur <span style="color:#f92672">==</span> n) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span></code></pre></div><ul>
<li><strong>Lines 4-5</strong>: Define the recursive function <code>dp</code>, which takes two parameters: <code>prv</code> (the previous vowel) and <code>cur</code> (the current length of the string being formed). If <code>cur</code> equals <code>n</code>, return 1, indicating that a valid string has been formed.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(mem[prv][cur] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> mem[prv][cur];
</span></span></code></pre></div><ul>
<li><strong>Line 6</strong>: Check if the current state has already been computed (i.e., if <code>mem[prv][cur]</code> is not -1). If so, return the stored result to avoid redundant calculations.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span></code></pre></div><ul>
<li><strong>Line 7</strong>: Initialize a variable <code>ans</code> to accumulate the count of valid strings formed from the current state.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(prv) {
</span></span></code></pre></div><ul>
<li><strong>Line 8</strong>: Begin a switch statement to handle different cases based on the value of <code>prv</code> (the previous vowel).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">1</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">2</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">4</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">5</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span></code></pre></div><ul>
<li><strong>Lines 9-15</strong>: If <code>prv</code> is <code>0</code>, it means that we can use any vowel (&lsquo;a&rsquo;, &rsquo;e&rsquo;, &lsquo;i&rsquo;, &lsquo;o&rsquo;, &lsquo;u&rsquo;) next. Each valid transition is calculated recursively, increasing <code>cur</code> by 1 and adding to <code>ans</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span> <span style="color:#75715e">// &#39;a&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">2</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;e&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;i&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">5</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;u&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span></code></pre></div><ul>
<li><strong>Lines 16-20</strong>: If <code>prv</code> is <code>1</code> (indicating the previous character is &lsquo;a&rsquo;), the next character can only be &rsquo;e&rsquo;, &lsquo;i&rsquo;, or &lsquo;u&rsquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span> <span style="color:#75715e">// &#39;e&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">1</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;a&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;i&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span></code></pre></div><ul>
<li><strong>Lines 21-25</strong>: If <code>prv</code> is <code>2</code> (previous character &rsquo;e&rsquo;), the next can be &lsquo;a&rsquo; or &lsquo;i&rsquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span> <span style="color:#75715e">// &#39;i&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">2</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;e&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">4</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;o&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span></code></pre></div><ul>
<li><strong>Lines 26-30</strong>: If <code>prv</code> is <code>3</code> (previous character &lsquo;i&rsquo;), the next can be &rsquo;e&rsquo; or &lsquo;o&rsquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span> <span style="color:#75715e">// &#39;o&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;i&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">5</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;u&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span></code></pre></div><ul>
<li><strong>Lines 31-35</strong>: If <code>prv</code> is <code>4</code> (previous character &lsquo;o&rsquo;), the next can be &lsquo;i&rsquo; or &lsquo;u&rsquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span> <span style="color:#75715e">// &#39;u&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> dp(<span style="color:#ae81ff">3</span>, cur <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">%</span> mod; <span style="color:#75715e">// can go to &#39;i&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;                                                                        
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ul>
<li><strong>Lines 36-40</strong>: If <code>prv</code> is <code>5</code> (previous character &lsquo;u&rsquo;), the next can only be &lsquo;i&rsquo;.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> mem[prv][cur] <span style="color:#f92672">=</span> ans;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li><strong>Line 41</strong>: Store the computed value of <code>ans</code> in <code>mem[prv][cur]</code> before returning it.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">countVowelPermutation</span>(<span style="color:#66d9ef">int</span> n) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>n <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>        mem.resize(<span style="color:#ae81ff">8</span>, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> dp(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>Lines 42-45</strong>: Define the <code>countVowelPermutation</code> function. It initializes <code>n</code> and resizes the memoization table <code>mem</code> to hold results for all possible previous vowels and string lengths. It then calls the <code>dp</code> function starting with <code>prv = 0</code> (indicating no previous vowel) and <code>cur = 0</code>.</li>
</ul>
<h3 id="complexity">
  Complexity
  <a class="heading-link" href="#complexity">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The time complexity is (O(n)), where (n) is the length of the strings being generated. This is because we calculate the number of valid strings recursively while storing results in a memoization table to avoid duplicate computations.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is also (O(n)) due to the memoization table, which holds results for each combination of previous vowel and current length.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <code>countVowelPermutation</code> function provides an efficient way to calculate the number of valid vowel strings of length ( n ) using dynamic programming and memoization. By carefully managing transitions between vowels and utilizing recursion, the solution ensures that all possible valid strings are counted while minimizing redundant calculations. This method demonstrates the power of dynamic programming in solving combinatorial problems and can be applied to various similar challenges in algorithm design.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode260s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/VUVpTZVa7Ls?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1221"  class="external-link" target="_blank" rel="noopener">LeetCode #1221: Split a String in Balanced Strings</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! ðŸš€ </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    Â©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    Â·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
