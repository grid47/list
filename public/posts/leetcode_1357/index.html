<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1357: Apply Discount Every n Orders · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1357: Apply Discount Every n Orders in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1357: Apply Discount Every n Orders">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1357: Apply Discount Every n Orders in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1357/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1357: Apply Discount Every n Orders">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1357: Apply Discount Every n Orders in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1357/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1357/">
              Leetcode 1357: Apply Discount Every n Orders
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/apply-discount-every-n-orders/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cashier</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> cnt, mod;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> pct;
</span></span><span style="display:flex;"><span>    unordered_map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> tags;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Cashier(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">int</span> discount, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> products, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> prices) {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        mod <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>        pct <span style="color:#f92672">=</span> (<span style="color:#ae81ff">100</span> <span style="color:#f92672">-</span> discount)<span style="color:#f92672">/</span> <span style="color:#ae81ff">100.0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> products.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            tags[products[i]] <span style="color:#f92672">=</span> prices[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getBill</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> product, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> amount) {
</span></span><span style="display:flex;"><span>        cnt<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> product.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">+=</span> tags[product[i]] <span style="color:#f92672">*</span> amount[i];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> cnt<span style="color:#f92672">%</span>mod<span style="color:#f92672">?</span> ans: ans <span style="color:#f92672">*</span> pct; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Your Cashier object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Cashier* obj = new Cashier(n, discount, products, prices);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * double param_1 = obj-&gt;getBill(product,amount);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span></span></span></code></pre></div>
<h2 id="hahahugoshortcode411s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The goal is to create a <code>Cashier</code> class that simulates a cashier system in a store. The cashier must handle billing for customers, applying a discount after every <code>n</code> transactions. The following features should be implemented:</p>
<ol>
<li><strong>Product Management</strong>: The cashier should store a list of products and their corresponding prices.</li>
<li><strong>Bill Calculation</strong>: When a customer checks out, the cashier should calculate the total bill based on the products purchased and their quantities.</li>
<li><strong>Discount Application</strong>: If the cashier has processed exactly <code>n</code> transactions, a discount should be applied to the current bill.</li>
</ol>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li><strong>Initialization</strong>: The <code>Cashier</code> class is initialized with the total number of transactions (<code>n</code>), a discount percentage, a list of products, and their corresponding prices. During initialization, a mapping of products to prices is created using an unordered map for quick lookups.</li>
<li><strong>Bill Calculation</strong>: The <code>getBill</code> method takes two vectors: one for the products purchased and another for their respective quantities. It calculates the total cost based on these inputs.</li>
<li><strong>Discount Logic</strong>: After every transaction, a counter (<code>cnt</code>) keeps track of the number of transactions. If <code>cnt</code> is a multiple of <code>n</code>, the discount is applied; otherwise, the full price is charged.</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cashier</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> cnt, mod;  <span style="color:#75715e">// Counter for transactions and the limit for discount
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">double</span> pct;    <span style="color:#75715e">// Percentage to apply after discount
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    unordered_map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> tags; <span style="color:#75715e">// Maps product IDs to prices
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Constructor to initialize the Cashier
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Cashier(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">int</span> discount, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> products, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> prices) {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">// Initialize transaction count
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        mod <span style="color:#f92672">=</span> n; <span style="color:#75715e">// Set the number of transactions for discount application
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        pct <span style="color:#f92672">=</span> (<span style="color:#ae81ff">100</span> <span style="color:#f92672">-</span> discount) <span style="color:#f92672">/</span> <span style="color:#ae81ff">100.0</span>; <span style="color:#75715e">// Calculate the discount percentage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Map products to their prices
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> products.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            tags[products[i]] <span style="color:#f92672">=</span> prices[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Method to calculate the bill
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getBill</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> product, vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> amount) {
</span></span><span style="display:flex;"><span>        cnt<span style="color:#f92672">++</span>; <span style="color:#75715e">// Increment the transaction counter
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">// Variable to store total price
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Calculate total price based on product and amount
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> product.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">+=</span> tags[product[i]] <span style="color:#f92672">*</span> amount[i];
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Apply discount if the transaction count is a multiple of mod
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> cnt <span style="color:#f92672">%</span> mod <span style="color:#f92672">?</span> ans : ans <span style="color:#f92672">*</span> pct; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ol>
<li>
<p><strong>Class Definition</strong>: The <code>Cashier</code> class contains member variables for tracking the transaction count (<code>cnt</code>), the modulo for applying discounts (<code>mod</code>), and the discount percentage (<code>pct</code>). It also has an unordered map (<code>tags</code>) to store product prices.</p>
</li>
<li>
<p><strong>Constructor</strong>: The constructor takes four parameters: the maximum number of transactions before applying a discount (<code>n</code>), the discount percentage, and vectors for product IDs and their prices. It initializes the <code>tags</code> map for quick access to product prices.</p>
</li>
<li>
<p><strong>getBill Method</strong>: This method accepts two vectors: <code>product</code> (product IDs purchased) and <code>amount</code> (quantities purchased). It increments the transaction counter and computes the total cost.</p>
<ul>
<li>If the transaction count (<code>cnt</code>) is a multiple of <code>mod</code>, the discount percentage (<code>pct</code>) is applied to the total; otherwise, the full total is returned.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">
  Complexity Analysis
  <a class="heading-link" href="#complexity-analysis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li><strong>Initialization</strong>: The constructor has a time complexity of (O(p)), where (p) is the number of products since it iterates through the list of products to populate the <code>tags</code> map.</li>
<li><strong>getBill</strong>: This method has a time complexity of (O(m)), where (m) is the number of products purchased in the transaction. It iterates through the <code>product</code> vector to compute the total cost.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>: The space complexity is (O(p)) due to the storage of product-price pairs in the <code>tags</code> map.</p>
</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <code>Cashier</code> class effectively simulates a cashier&rsquo;s behavior in a store, handling product sales and applying discounts after every <code>n</code> transactions. By using an unordered map to manage product prices, the implementation allows for efficient lookups, ensuring that bill calculations are performed quickly and accurately.</p>
<p>This implementation is particularly useful in e-commerce and retail environments, where efficient billing systems are essential. Understanding this code provides insights into object-oriented programming, data structures, and algorithms necessary for building practical applications in software development.</p>
<p>By breaking down the code and providing detailed explanations of each part, this overview serves as an educational resource for readers looking to enhance their understanding of algorithm design and implementation in C++.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode411s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1358"  class="external-link" target="_blank" rel="noopener">LeetCode #1358: Number of Substrings Containing All Three Characters</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
