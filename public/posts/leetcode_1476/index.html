<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1476: Subrectangle Queries · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1476: Subrectangle Queries in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1476: Subrectangle Queries">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1476: Subrectangle Queries in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1476/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1476: Subrectangle Queries">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1476: Subrectangle Queries in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1476/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1476/">
              Leetcode 1476: Subrectangle Queries
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/subrectangle-queries/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SubrectangleQueries</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> rec;
</span></span><span style="display:flex;"><span>    SubrectangleQueries(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> rectangle) {
</span></span><span style="display:flex;"><span>        rec <span style="color:#f92672">=</span> rectangle;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateSubrectangle</span>(<span style="color:#66d9ef">int</span> row1, <span style="color:#66d9ef">int</span> col1, <span style="color:#66d9ef">int</span> row2, <span style="color:#66d9ef">int</span> col2, <span style="color:#66d9ef">int</span> newValue) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> row1; i <span style="color:#f92672">&lt;=</span> row2; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> col1; j <span style="color:#f92672">&lt;=</span> col2; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            rec[i][j] <span style="color:#f92672">=</span> newValue;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getValue</span>(<span style="color:#66d9ef">int</span> row, <span style="color:#66d9ef">int</span> col) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> rec[row][col];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Your SubrectangleQueries object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * SubrectangleQueries* obj = new SubrectangleQueries(rectangle);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * obj-&gt;updateSubrectangle(row1,col1,row2,col2,newValue);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * int param_2 = obj-&gt;getValue(row,col);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span></span></span></code></pre></div>
<h2 id="hahahugoshortcode543s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The problem is to implement a class <code>SubrectangleQueries</code> that manages a rectangular grid of integers (a 2D array) with the ability to update values in a specific subrectangle and retrieve the value at any given cell. The operations include:</p>
<ol>
<li><strong>Updating a Subrectangle</strong>: Changing all the values within a specified subrectangle to a new value.</li>
<li><strong>Getting a Value</strong>: Retrieving the value at a specific position in the rectangle.</li>
</ol>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve this problem, we can utilize a straightforward approach using a 2D vector to represent the rectangle. The core idea is to maintain the rectangle as a member variable and implement two primary methods:</p>
<ol>
<li><strong>Update Method</strong>: This method iterates over the specified subrectangle and updates all the elements to the new value.</li>
<li><strong>Get Value Method</strong>: This method directly accesses the rectangle to retrieve the value at the specified coordinates.</li>
</ol>
<p>Given that the updates can involve multiple elements, the update method operates in a nested loop, while the get value method directly accesses an element. This leads to an intuitive and simple implementation.</p>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Here is the breakdown of the provided code:</p>
<ol>
<li>
<p><strong>Class Declaration</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SubrectangleQueries</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span></code></pre></div><ul>
<li>The <code>SubrectangleQueries</code> class is defined to encapsulate the functionality of managing the rectangular grid.</li>
</ul>
</li>
<li>
<p><strong>Member Variables</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> rec;
</span></span></code></pre></div><ul>
<li>A 2D vector <code>rec</code> is declared to store the values of the rectangle.</li>
</ul>
</li>
<li>
<p><strong>Constructor</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>SubrectangleQueries(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;&amp;</span> rectangle) {
</span></span><span style="display:flex;"><span>    rec <span style="color:#f92672">=</span> rectangle;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The constructor takes a 2D vector <code>rectangle</code> as an argument and initializes the member variable <code>rec</code> with this input. This sets up the initial state of the rectangle.</li>
</ul>
</li>
<li>
<p><strong>Update Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateSubrectangle</span>(<span style="color:#66d9ef">int</span> row1, <span style="color:#66d9ef">int</span> col1, <span style="color:#66d9ef">int</span> row2, <span style="color:#66d9ef">int</span> col2, <span style="color:#66d9ef">int</span> newValue) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> row1; i <span style="color:#f92672">&lt;=</span> row2; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> col1; j <span style="color:#f92672">&lt;=</span> col2; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            rec[i][j] <span style="color:#f92672">=</span> newValue;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>updateSubrectangle</code> method takes the corners of the subrectangle (defined by <code>(row1, col1)</code> and <code>(row2, col2)</code>) and the <code>newValue</code> to be assigned.</li>
<li>It uses two nested loops to iterate through each cell in the specified subrectangle and updates the value at each position to <code>newValue</code>.</li>
</ul>
</li>
<li>
<p><strong>Get Value Method</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getValue</span>(<span style="color:#66d9ef">int</span> row, <span style="color:#66d9ef">int</span> col) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> rec[row][col];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>The <code>getValue</code> method retrieves and returns the value from the rectangle at the specified coordinates <code>(row, col)</code>.</li>
</ul>
</li>
<li>
<p><strong>Example Usage</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Your SubrectangleQueries object will be instantiated and called as such:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * SubrectangleQueries* obj = new SubrectangleQueries(rectangle);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * obj-&gt;updateSubrectangle(row1,col1,row2,col2,newValue);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * int param_2 = obj-&gt;getValue(row,col);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span></code></pre></div><ul>
<li>This comment block illustrates how to instantiate the <code>SubrectangleQueries</code> object and use its methods.</li>
</ul>
</li>
</ol>
<h3 id="complexity">
  Complexity
  <a class="heading-link" href="#complexity">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><strong>Time Complexity</strong>:</p>
<ul>
<li>The <code>updateSubrectangle</code> method runs in (O((row2 - row1 + 1) \times (col2 - col1 + 1))) time, as it iterates over every element in the specified subrectangle. In the worst case, this could cover all elements in the rectangle if the specified range encompasses the entire rectangle.</li>
<li>The <code>getValue</code> method runs in (O(1)) time, as it directly accesses a specific element in the rectangle.</li>
</ul>
</li>
<li>
<p><strong>Space Complexity</strong>:</p>
<ul>
<li>The space complexity is (O(m \times n)), where (m) is the number of rows and (n) is the number of columns in the rectangle, since we need to store the entire grid in the <code>rec</code> vector.</li>
</ul>
</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The implementation of the <code>SubrectangleQueries</code> class effectively handles the required operations with a clear and intuitive approach. The use of a 2D vector to represent the rectangle allows for straightforward updates and retrievals of values. Key takeaways from this solution include:</p>
<ol>
<li>
<p><strong>Simplicity</strong>: The implementation is easy to understand and follow, making it suitable for those new to data structures and algorithms.</p>
</li>
<li>
<p><strong>Efficiency</strong>: While the update operation may become costly for larger subrectangles, the overall design provides a good balance between functionality and complexity for typical use cases.</p>
</li>
<li>
<p><strong>Flexibility</strong>: The solution can be easily extended or modified to incorporate additional features, such as more complex querying operations or different update strategies.</p>
</li>
</ol>
<p>In conclusion, the <code>SubrectangleQueries</code> class serves as an excellent example of how to manage and manipulate a 2D data structure effectively, fulfilling the problem&rsquo;s requirements while maintaining clarity and efficiency.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode543s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/cMBkZMNVDdE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1477"  class="external-link" target="_blank" rel="noopener">LeetCode #1477: Find Two Non-overlapping Sub-arrays Each With Target Sum</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
