<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1115: Print FooBar Alternately · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1115: Print FooBar Alternately in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1115: Print FooBar Alternately">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1115: Print FooBar Alternately in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1115/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1115: Print FooBar Alternately">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1115: Print FooBar Alternately in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-01T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_10/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_100/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1000/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1001/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1002/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1003/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1115/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>




<body class="preload-transitions colorscheme-light">
  

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1115/">
              Leetcode 1115: Print FooBar Alternately
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-01T00:00:00Z">
                November 1, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/print-foobar-alternately/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FooBar</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    mutex mtx1, mtx2;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    FooBar(<span style="color:#66d9ef">int</span> n) {
</span></span><span style="display:flex;"><span>        mtx2.lock();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>n <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">foo</span>(function<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">void</span>()<span style="color:#f92672">&gt;</span> printFoo) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            mtx1.lock();
</span></span><span style="display:flex;"><span>        	<span style="color:#75715e">// printFoo() outputs &#34;foo&#34;. Do not change or remove this line.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        	printFoo();
</span></span><span style="display:flex;"><span>            mtx2.unlock();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bar</span>(function<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">void</span>()<span style="color:#f92672">&gt;</span> printBar) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            mtx2.lock();
</span></span><span style="display:flex;"><span>        	<span style="color:#75715e">// printBar() outputs &#34;bar&#34;. Do not change or remove this line.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        	printBar();
</span></span><span style="display:flex;"><span>            mtx1.unlock();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="hahahugoshortcode143s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The task is to implement a class <code>FooBar</code> that can synchronize the execution of two methods: <code>foo</code> and <code>bar</code>. The goal is to ensure that:</p>
<ol>
<li>The <code>foo</code> method prints &ldquo;foo&rdquo;.</li>
<li>The <code>bar</code> method prints &ldquo;bar&rdquo;.</li>
</ol>
<p>The challenge is to ensure that these methods are called in the correct order: <code>foo</code> must be called before <code>bar</code>, and this must happen alternately for a specified number of times. If <code>n</code> is the number of times the printing should occur, then the expected output sequence is: <code>foo</code>, <code>bar</code>, <code>foo</code>, <code>bar</code>, &hellip;, continuing until both functions have printed <code>n</code> times.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve this problem, we can use two mutexes to manage synchronization between the <code>foo</code> and <code>bar</code> methods. The main steps involved in the implementation are:</p>
<ol>
<li><strong>Initialization</strong>: Two mutexes are declared: <code>mtx1</code> for controlling access to the <code>foo</code> method and <code>mtx2</code> for controlling access to the <code>bar</code> method. Initially, <code>mtx2</code> is locked to prevent <code>bar</code> from executing until <code>foo</code> has run at least once.</li>
<li><strong>Method Implementations</strong>:
<ul>
<li>In the <code>foo</code> method, the thread locks <code>mtx1</code>, prints &ldquo;foo&rdquo;, and then unlocks <code>mtx2</code> to allow the <code>bar</code> method to execute.</li>
<li>In the <code>bar</code> method, the thread locks <code>mtx2</code>, prints &ldquo;bar&rdquo;, and then unlocks <code>mtx1</code> to allow the <code>foo</code> method to execute.</li>
</ul>
</li>
<li><strong>Thread Safety</strong>: The use of mutexes ensures that only one thread can execute its respective function at a time, enforcing the correct order of execution.</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p><strong>Class Definition</strong>: The <code>FooBar</code> class is defined with private members for synchronization and tracking the number of iterations.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FooBar</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;                    <span style="color:#75715e">// Number of times to print &#34;foo&#34; and &#34;bar&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    mutex mtx1, mtx2;        <span style="color:#75715e">// Mutexes for synchronization
</span></span></span></code></pre></div></li>
<li>
<p><strong>Constructor</strong>: The constructor initializes <code>n</code> and locks <code>mtx2</code>, ensuring that <code>bar</code> cannot be executed until after <code>foo</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        FooBar(<span style="color:#66d9ef">int</span> n) {
</span></span><span style="display:flex;"><span>            mtx2.lock();      <span style="color:#75715e">// Lock mtx2 to block bar initially
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>n <span style="color:#f92672">=</span> n;      <span style="color:#75715e">// Set the number of iterations
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span></code></pre></div></li>
<li>
<p><strong>Foo Method</strong>: The <code>foo</code> method loops <code>n</code> times, locking <code>mtx1</code> before printing &ldquo;foo&rdquo; and unlocking <code>mtx2</code> afterward.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">foo</span>(function<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">void</span>()<span style="color:#f92672">&gt;</span> printFoo) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                mtx1.lock();                  <span style="color:#75715e">// Lock for foo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                printFoo();                    <span style="color:#75715e">// Print &#34;foo&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                mtx2.unlock();                 <span style="color:#75715e">// Unlock for bar
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div></li>
<li>
<p><strong>Bar Method</strong>: The <code>bar</code> method also loops <code>n</code> times, locking <code>mtx2</code> before printing &ldquo;bar&rdquo; and unlocking <code>mtx1</code> afterward.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bar</span>(function<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">void</span>()<span style="color:#f92672">&gt;</span> printBar) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                mtx2.lock();                  <span style="color:#75715e">// Lock for bar
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                printBar();                   <span style="color:#75715e">// Print &#34;bar&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                mtx1.unlock();                <span style="color:#75715e">// Unlock for foo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div></li>
</ol>
<h3 id="complexity-analysis">
  Complexity Analysis
  <a class="heading-link" href="#complexity-analysis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity of each method is (O(n)), where (n) is the number of times the printing occurs. Each method will run exactly (n) iterations, performing constant-time operations (locking, printing, unlocking).</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(1)) since the space used is constant and does not grow with the input size. We only use a fixed number of variables (e.g., <code>n</code>, mutexes).</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The provided C++ code successfully implements a solution for synchronizing the printing of two functions, <code>foo</code> and <code>bar</code>, in the specified alternating order. By leveraging two mutexes, the solution effectively manages access to shared resources, ensuring thread-safe execution and the correct sequence of function calls.</p>
<p>This implementation serves as an excellent example of how to handle synchronization in multithreaded programming. The use of mutexes and careful management of thread execution order are critical concepts in concurrent programming, making this code a valuable reference for developers working on similar synchronization challenges.</p>
<p>The simplicity of the design, combined with the effectiveness of mutexes, makes this code both efficient and easy to understand. It provides a clear approach to ensuring that two methods can be executed in an alternating fashion while maintaining the integrity of shared resources.</p>
<p>Overall, the <code>FooBar</code> class provides a practical solution to a common problem in concurrent programming, demonstrating important techniques in synchronization and thread management. Readers interested in these concepts will find this example informative and applicable to their own programming tasks.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode143s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1116"  class="external-link" target="_blank" rel="noopener">LeetCode #1116: Print Zero Even Odd</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
