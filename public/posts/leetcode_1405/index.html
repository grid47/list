<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1405: Longest Happy String · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1405: Longest Happy String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1405: Longest Happy String">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1405: Longest Happy String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1405/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1405: Longest Happy String">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1405: Longest Happy String in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-12-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-12-28T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_2/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_3/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_4/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_5/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_6/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_7/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1405/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1405/">
              Leetcode 1405: Longest Happy String
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-12-28T00:00:00Z">
                December 28, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/longest-happy-string/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">string</span> <span class="n">longestDiverseString</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;&gt;</span><span class="p">,</span> <span class="n">less</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;&gt;&gt;</span> <span class="n">pq</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">a</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">b</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">c</span><span class="p">,</span> <span class="sc">&#39;c&#39;</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">string</span> <span class="n">res</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">pq</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">pq</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">pq</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="n">string</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">it</span><span class="p">.</span><span class="n">first</span><span class="p">),</span> <span class="n">it</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">-=</span> <span class="n">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">it</span><span class="p">.</span><span class="n">first</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">pq</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">auto</span> <span class="n">it2</span> <span class="o">=</span> <span class="n">pq</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">pq</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="n">string</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="o">?</span> <span class="mi">1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="p">),</span> <span class="n">it2</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">it2</span><span class="p">.</span><span class="n">first</span> <span class="o">-=</span> <span class="n">min</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="o">?</span> <span class="mi">1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">it2</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">it2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
<h2 id="hahahugoshortcode464s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The goal of this problem is to generate the longest possible string using three types of characters (&lsquo;a&rsquo;, &lsquo;b&rsquo;, and &lsquo;c&rsquo;) while adhering to the following constraints:</p>
<ul>
<li>No character can appear more than two consecutive times.</li>
<li>You are given the counts of each character as inputs, specifically <code>a</code> for &lsquo;a&rsquo;, <code>b</code> for &lsquo;b&rsquo;, and <code>c</code> for &lsquo;c&rsquo;.</li>
</ul>
<p>For instance, if <code>a = 1</code>, <code>b = 1</code>, and <code>c = 7</code>, a possible valid output could be &ldquo;ccbccacc&rdquo; or any other combination that respects the constraints.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To tackle this problem, we employ a greedy strategy using a max heap (priority queue). The steps involved in constructing the longest diverse string are as follows:</p>
<ol>
<li>
<p><strong>Initialization of the Max Heap</strong>: We first push the counts of the characters into a priority queue. This allows us to always retrieve the character with the highest remaining count.</p>
</li>
<li>
<p><strong>Building the Result String</strong>:</p>
<ul>
<li>In each iteration, we take the character with the highest count and add it to our result string, ensuring that we do not add it more than twice consecutively.</li>
<li>If the heap is not empty after processing the first character, we take the next character and add it as well, while again adhering to the two-consecutive character rule.</li>
</ul>
</li>
<li>
<p><strong>Updating Counts</strong>: After using a character, we decrement its count and push it back into the heap if it still has a remaining count.</p>
</li>
<li>
<p><strong>Termination</strong>: The process continues until we have exhausted all characters or cannot add any more without violating the constraints.</p>
</li>
</ol>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Here’s a line-by-line breakdown of the provided C++ code implementing the above logic:</p>
<ol>
<li>
<p><strong>Class Definition</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span></code></pre></div><ul>
<li>A class named <code>Solution</code> is defined to contain the method <code>longestDiverseString</code>.</li>
</ul>
</li>
<li>
<p><strong>Method Signature</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">    <span class="n">string</span> <span class="nf">longestDiverseString</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span></code></pre></div><ul>
<li>The method <code>longestDiverseString</code> takes three integers (<code>a</code>, <code>b</code>, and <code>c</code>) as parameters, which represent the counts of characters &lsquo;a&rsquo;, &lsquo;b&rsquo;, and &lsquo;c&rsquo;, respectively.</li>
</ul>
</li>
<li>
<p><strong>Priority Queue Initialization</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">        <span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;&gt;</span><span class="p">,</span> <span class="n">less</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;&gt;&gt;</span> <span class="n">pq</span><span class="p">;</span>
</span></span></code></pre></div><ul>
<li>We initialize a max heap <code>pq</code> to store pairs of character counts and characters. The heap will always allow us to retrieve the character with the highest remaining count.</li>
</ul>
</li>
<li>
<p><strong>Filling the Heap</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">a</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">b</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">c</span><span class="p">,</span> <span class="sc">&#39;c&#39;</span><span class="p">});</span>
</span></span></code></pre></div><ul>
<li>We push each character with a count greater than zero into the priority queue.</li>
</ul>
</li>
<li>
<p><strong>Result String Initialization</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">        <span class="n">string</span> <span class="n">res</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span></code></pre></div><ul>
<li>A string <code>res</code> is initialized to build the final result.</li>
</ul>
</li>
<li>
<p><strong>Main Loop</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">pq</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span></code></pre></div><ul>
<li>The loop continues as long as there are characters available in the heap.</li>
</ul>
</li>
<li>
<p><strong>Processing the Most Frequent Character</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">            <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">pq</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">pq</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="n">string</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">it</span><span class="p">.</span><span class="n">first</span><span class="p">),</span> <span class="n">it</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">-=</span> <span class="n">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">it</span><span class="p">.</span><span class="n">first</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>We retrieve the character with the highest count, remove it from the heap, and append it to <code>res</code> up to two times. The count is then decremented by the number of characters added.</li>
</ul>
</li>
<li>
<p><strong>Handling the Second Character</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">pq</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">auto</span> <span class="n">it2</span> <span class="o">=</span> <span class="n">pq</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">pq</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="n">string</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="o">?</span> <span class="mi">1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="p">),</span> <span class="n">it2</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">it2</span><span class="p">.</span><span class="n">first</span> <span class="o">-=</span> <span class="n">min</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="o">?</span> <span class="mi">1</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">it2</span><span class="p">.</span><span class="n">first</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>If the heap is not empty, we then retrieve the next most frequent character and add it to the result. The number of times it is added is determined based on the remaining count of the first character. If the first character&rsquo;s count is greater than the second, we add only one occurrence of the second character.</li>
</ul>
</li>
<li>
<p><strong>Re-adding Characters to the Heap</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">it2</span><span class="p">.</span><span class="n">first</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">it2</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>After processing, we check if the remaining counts of the characters are greater than zero and push them back into the heap for further processing.</li>
</ul>
</li>
<li>
<p><strong>Return Statement</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">       <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
<p>};</p>
<pre tabindex="0"><code> - Finally, the constructed string `res` is returned as the output.

### Complexity

- **Time Complexity**: 
- The time complexity of this solution is \( O(n \log 3) \), where \( n \) is the total number of characters added to the result string. Since we are pushing and popping from a max heap, each operation takes logarithmic time, and we perform a limited number of operations (due to the three characters).

- **Space Complexity**: 
- The space complexity is \( O(1) \) if we consider the size of the heap to be constant (three characters), or \( O(n) \) where \( n \) is the number of characters if we consider the result string.

### Conclusion

The solution effectively utilizes a greedy approach and a priority queue to ensure that the longest diverse string is generated while respecting the constraints of character frequency. This algorithm is efficient and straightforward, making it a great example of combining data structures with greedy algorithms to solve combinatorial problems.

#### Key Takeaways:

- **Greedy Strategy**: Utilizing the character counts to decide the order of character addition ensures that the solution remains optimal.
- **Data Structures**: The use of a priority queue simplifies the retrieval of the most frequent characters efficiently.
- **Character Frequency Management**: The code handles character frequency dynamically, allowing for a flexible construction of the output string based on remaining character counts.

Overall, this implementation provides an elegant solution to the problem, demonstrating the power of combinatorial algorithms in generating structured outputs from given constraints.
</code></pre> 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode464s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/8u-H6O_XQKE?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>


      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="see-also-in-leetcode">
        See also in Leetcode
        <a class="heading-link" href="#see-also-in-leetcode">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/posts/leetcode_1/">Leetcode 1: Two Sum</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_2/">Leetcode 2: Add Two Numbers</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_3/">Leetcode 3: Longest Substring Without Repeating Characters</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_4/">Leetcode 4: Median of Two Sorted Arrays</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_5/">Leetcode 5: Longest Palindromic Substring</a>
            </li>
          
        
          
            <li>
              <a href="/posts/leetcode_6/">Leetcode 6: Zigzag Conversion</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
