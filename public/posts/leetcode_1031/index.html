<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays · grid47
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mohammed Yasir Eramangadan">
<meta name="description" content="In-depth solution and explanation for Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays">
  <meta name="twitter:description" content="In-depth solution and explanation for Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">

<meta property="og:url" content="http://localhost:1313/posts/leetcode_1031/">
  <meta property="og:site_name" content="grid47">
  <meta property="og:title" content="Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays">
  <meta property="og:description" content="In-depth solution and explanation for Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays in C&#43;&#43;. Includes clear intuition, step-by-step example walkthrough, and detailed complexity analysis—more insightful than official and community solutions.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-01-06T00:00:00+00:00">
    <meta property="article:modified_time" content="2022-01-06T00:00:00+00:00">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_1/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_2/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_3/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_4/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_5/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_6/">
      <meta property="og:see_also" content="http://localhost:1313/posts/leetcode_7/">




<link rel="canonical" href="http://localhost:1313/posts/leetcode_1031/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">








<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6219690368643953"
     crossorigin="anonymous"></script></head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      grid47
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/leetcode/">LeetCode</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/lists/">List</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/terms/">Terms</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/leetcode_1031/">
              Leetcode 1031: Maximum Sum of Two Non-Overlapping Subarrays
            </a>
          </h1>
        </div>
        <div class="post-meta">
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/medium/">Medium</a></div>
          
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/crafted-by-me/">Crafted by Me</a></div>

          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2022-01-06T00:00:00Z">
                January 6, 2022
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://leetcode.com/problems/maximum-sum-of-two-non-overlapping-subarrays/description/"  class="external-link" target="_blank" rel="noopener"><code>Problem Link</code></a></p>
<hr>
<p><strong>Code:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">maxTwoNoOverlap</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">L</span><span class="p">,</span> <span class="kt">int</span> <span class="n">M</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sz</span><span class="p">,</span> <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">left</span><span class="p">(</span><span class="n">sz</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="n">sz</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">sz</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">s_r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s_l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">sz</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">,</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">s_l</span> <span class="o">+=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">s_r</span> <span class="o">+=</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="n">left</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">s_l</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">right</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">s_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">L</span><span class="p">)</span> <span class="n">s_l</span> <span class="o">-=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">L</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">M</span><span class="p">)</span> <span class="n">s_r</span> <span class="o">-=</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="n">M</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">maxSumTwoNoOverlap</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">firstLen</span><span class="p">,</span> <span class="kt">int</span> <span class="n">secondLen</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">max</span><span class="p">(</span><span class="n">maxTwoNoOverlap</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">firstLen</span><span class="p">,</span> <span class="n">secondLen</span><span class="p">,</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">                   <span class="n">maxTwoNoOverlap</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">secondLen</span><span class="p">,</span> <span class="n">firstLen</span><span class="p">,</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
<h2 id="hahahugoshortcode50s1hbhb">
  

  
  <div class="markdown-body">
    <h3 id="problem-statement">
  Problem Statement
  <a class="heading-link" href="#problem-statement">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The goal is to find the maximum sum of two non-overlapping subarrays within a given array of integers. We are given two lengths, <code>L</code> and <code>M</code>, which represent the lengths of the two subarrays. The task is to maximize the sum of these two subarrays while ensuring that they do not overlap.</p>
<p>For example, given the array:</p>
<pre tabindex="0"><code>A = [1, 2, 1, 2, 5, 3, 2]
</code></pre><p>and lengths <code>L = 2</code> and <code>M = 3</code>, the optimal non-overlapping subarrays would yield the maximum sum.</p>
<h3 id="approach">
  Approach
  <a class="heading-link" href="#approach">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>To solve this problem, we can break it down into a few key steps:</p>
<ol>
<li><strong>Prefix Sum Arrays</strong>: We will calculate two prefix sum arrays: one for subarrays of length <code>L</code> (denoted as <code>left</code>) and one for subarrays of length <code>M</code> (denoted as <code>right</code>).</li>
<li><strong>Max Sum Calculation</strong>: For each position in the array, we will calculate the maximum sums of the two subarrays that can be formed without overlapping.</li>
<li><strong>Iteration</strong>: We will iterate through the array to populate these prefix sum arrays, ensuring that we account for the lengths <code>L</code> and <code>M</code> correctly to avoid overlap.</li>
</ol>
<p>The solution consists of a function <code>maxTwoNoOverlap</code> that handles the logic for calculating the maximum sums of two non-overlapping subarrays for given lengths.</p>
<h3 id="code-breakdown-step-by-step">
  Code Breakdown (Step by Step)
  <a class="heading-link" href="#code-breakdown-step-by-step">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p><strong>Class Declaration</strong>:</p>
<ul>
<li>The code defines a class <code>Solution</code>, which encapsulates the logic for solving the problem.</li>
</ul>
</li>
<li>
<p><strong>Function Declaration</strong>:</p>
<ul>
<li>The function <code>maxTwoNoOverlap</code> takes the following parameters:
<ul>
<li><code>A</code>: The input array of integers.</li>
<li><code>L</code>: Length of the first subarray.</li>
<li><code>M</code>: Length of the second subarray.</li>
<li><code>sz</code>: The size of the input array.</li>
<li><code>res</code>: A variable initialized to <code>0</code> that will hold the result.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li>Two vectors, <code>left</code> and <code>right</code>, are initialized to store the maximum sums of subarrays of length <code>L</code> and <code>M</code>, respectively. Both vectors are of size <code>sz + 1</code> to accommodate the calculations easily.</li>
</ul>
</li>
<li>
<p><strong>Calculating Left and Right Sums</strong>:</p>
<ul>
<li>A loop iterates through the array to calculate the maximum sums of subarrays of lengths <code>L</code> and <code>M</code>:
<ul>
<li><strong>Left Sum Calculation</strong>:
<ul>
<li><code>s_l</code> keeps track of the current sum for the subarray of length <code>L</code>.</li>
<li>The current value of <code>A[i]</code> is added to <code>s_l</code>, and the maximum is updated in the <code>left</code> array.</li>
<li>If we have processed at least <code>L</code> elements, we subtract the value that exits the window.</li>
</ul>
</li>
<li><strong>Right Sum Calculation</strong>:
<ul>
<li>Similarly, <code>s_r</code> tracks the current sum for the subarray of length <code>M</code> from the right side of the array.</li>
<li>The maximum is updated in the <code>right</code> array.</li>
<li>If we have processed at least <code>M</code> elements, we subtract the value that exits the window.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Combining Results</strong>:</p>
<ul>
<li>After populating the <code>left</code> and <code>right</code> arrays, another loop runs through the array to find the maximum combined sum of the two non-overlapping subarrays:
<ul>
<li>The maximum sum at each index <code>i</code> is calculated by adding <code>left[i]</code> and <code>right[i]</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Return Statement</strong>:</p>
<ul>
<li>The function returns the maximum sum found.</li>
</ul>
</li>
<li>
<p><strong>Main Function</strong>:</p>
<ul>
<li>The function <code>maxSumTwoNoOverlap</code> calls <code>maxTwoNoOverlap</code> twice:
<ul>
<li>First with lengths <code>firstLen</code> and <code>secondLen</code>.</li>
<li>Second with lengths <code>secondLen</code> and <code>firstLen</code>.</li>
</ul>
</li>
<li>This ensures that we account for both orderings of the two subarrays, thus maximizing the total sum.</li>
</ul>
</li>
</ol>
<h3 id="complexity-analysis">
  Complexity Analysis
  <a class="heading-link" href="#complexity-analysis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li><strong>Time Complexity</strong>: The overall time complexity is (O(n)), where (n) is the number of elements in the input array. The loops for calculating the sums and iterating through the array each run in linear time.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(n)) due to the use of the <code>left</code> and <code>right</code> arrays for storing intermediate results.</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The provided code effectively calculates the maximum sum of two non-overlapping subarrays by utilizing a combination of prefix sums and careful iteration through the array. The solution is efficient and straightforward, making it suitable for large input sizes.</p>
<p>This approach is particularly useful in scenarios where resource allocation or partitioning of data is required, such as in financial computations, interval scheduling, and optimizing resource usage in various applications.</p>
<p>In summary, the <code>maxTwoNoOverlap</code> and <code>maxSumTwoNoOverlap</code> functions demonstrate a clear understanding of the problem and an effective implementation of a common algorithmic technique, providing a robust solution to the challenge of maximizing sums in non-overlapping subarrays.</p>
<p>By ensuring clarity in each step of the process, this explanation serves to enhance understanding of both the code and the underlying logic, making it beneficial for learners and practitioners in algorithm design and optimization.</p>
 
</div>
  

  <a class="heading-link" href="#hahahugoshortcode50s1hbhb">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<table>
  <thead>
      <tr>
          <th><a href="https://grid47.xyz/leetcode/"  class="external-link" target="_blank" rel="noopener">LeetCode Exercise Compilation</a> / Next : <a href="https://grid47.xyz/posts/leetcode_1032"  class="external-link" target="_blank" rel="noopener">LeetCode #1032: Stream of Characters</a></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><div class="notice tip">
  <div class="notice-title">
    <i class="fa-solid fa-lightbulb" aria-hidden="true"></i>Tip
  </div>
  <div class="notice-content">Unlock the power of patterns! Mastering one problem builds a pathway to solve many more. Dive into practice, and let each problem sharpen your skills. <a href="https://www.udemy.com/course/algorithms-and-data-structures-in-cpp/"  class="external-link" target="_blank" rel="noopener">Check out my Momentum Learning course at Udemy! 🚀 </a></div>
</div>
</td>
      </tr>
  </tbody>
</table>

      </div>


      <footer>
        
        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "grid47" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Mohammed Yasir Eramangadan 
    ·
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1LN7R4LHR1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1LN7R4LHR1');
</script>


  

  

  

  

  

  

  
</body>

</html>
