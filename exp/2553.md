### Problem Statement

The problem asks to separate the digits of the elements of a given array of integers and return a new array containing these digits in the same order as they appear in the original array.

For example, if the input is an array of integers `nums = [123, 45, 678]`, the output should be a single array of digits: `[1, 2, 3, 4, 5, 6, 7, 8]`.

### Approach

To solve this problem, the approach is as follows:

1. **Iterate over each element in the `nums` array**:
   - For each integer in the array, the goal is to break the integer into its individual digits.
   - The digits should be stored in a way that they are eventually appended in the order they appear in the number.

2. **Extract digits from each number**:
   - For any integer `x`, we can extract its digits using the modulo operation (`x % 10`) to get the least significant digit. Then we divide the number by 10 (`x /= 10`) to remove that digit.
   - This process is repeated until the entire number has been decomposed into its digits.

3. **Maintain the order of digits**:
   - While extracting the digits, the digits are collected in reverse order (from least significant to most significant).
   - After extracting all digits from a number, the digits need to be reversed to restore their original order.

4. **Build the result array**:
   - The digits from each number are added to the result array, preserving the order of appearance in the original input array.

### Code Breakdown (Step by Step)

Let's break down the code into its individual steps:

#### Step 1: Define the Function

```cpp
vector<int> separateDigits(vector<int>& nums) {
    vector<int> ans;
```
- The function `separateDigits` takes in a reference to a vector `nums` containing integers.
- The vector `ans` will be used to store the digits of all the integers in the input array.

#### Step 2: Loop Through Each Integer in `nums`

```cpp
    for(auto x: nums) {
        vector<int> tmp;
```
- We iterate over each integer `x` in the array `nums`.
- A temporary vector `tmp` is used to store the digits of the current integer `x` as we extract them.

#### Step 3: Extract Digits from Each Integer

```cpp
        while(x) {
            tmp.push_back(x % 10);
            x /= 10;
        }
```
- The `while(x)` loop continues as long as `x` is not zero.
- Inside the loop, we extract the least significant digit using `x % 10` and push it to the `tmp` vector.
- We then reduce `x` by dividing it by 10 (`x /= 10`), effectively removing the least significant digit.

#### Step 4: Reverse the Digits and Add Them to the Result

```cpp
        while(!tmp.empty()) {
            ans.push_back(tmp.back());
            tmp.pop_back();
        }
    }
```
- After extracting all the digits of `x`, they are stored in reverse order (from least significant to most significant).
- We then pop the digits from the back of the `tmp` vector and append them to the result vector `ans` to maintain the correct order.

#### Step 5: Return the Result

```cpp
    return ans;
}
```
- Finally, after processing all the integers in `nums`, the result vector `ans`, which contains the separated digits in the correct order, is returned.

### Complexity

#### Time Complexity:
- **Iterating over each number in the input array `nums`**: The number of iterations is equal to the number of elements in the array, i.e., \( O(n) \), where `n` is the size of the `nums` array.
- **Extracting digits from each number**: For each number `x`, we need to extract all its digits. The number of digits in `x` is \( O(d) \), where `d` is the number of digits in `x`. In the worst case, the time complexity for extracting digits from all numbers is proportional to the sum of the digits of all numbers in `nums`.
- Therefore, the overall time complexity is \( O(n \cdot d) \), where `n` is the number of elements in `nums` and `d` is the average number of digits per element in `nums`.

#### Space Complexity:
- We are using two vectors: `ans` and `tmp`.
- The space required for the result vector `ans` is proportional to the total number of digits in all numbers in `nums`. If the total number of digits is \( D \), the space complexity is \( O(D) \), where \( D \) is the sum of the digits of all elements in `nums`.
- The `tmp` vector stores the digits of one number at a time, so the space complexity for `tmp` is proportional to the number of digits in the current number, which is \( O(d) \) at most for a single number.

Thus, the overall space complexity is \( O(D) \), where \( D \) is the total number of digits in the input array.

### Conclusion

This solution efficiently separates the digits of each integer in the array and maintains their order using a simple iterative approach. The key steps involve:
1. Using the modulo operation to extract the digits of each integer.
2. Reversing the extracted digits to preserve their original order.
3. Storing the result in a new array.

The algorithm runs in linear time relative to the total number of digits across all integers in the array, making it efficient for large input sizes. The space complexity is also proportional to the number of digits, as we are storing them in a result vector.

This solution is optimal for the problem, providing a straightforward method to solve it with minimal complexity and maximum clarity.