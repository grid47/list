### Problem Statement

The problem at hand requires implementing a function that repeatedly adds the digits of a given integer `num` until a single digit is obtained. This final single digit is the result. The process is called "digit root" and the challenge is to achieve this in an efficient manner.

For example:
- **Input**: `num = 38`
- **Output**: `2`
  - First, sum of digits: 3 + 8 = 11
  - Second, sum of digits: 1 + 1 = 2

### Approach

The task is to reduce the given number to a single-digit value by repeatedly summing its digits. To implement this, we need to repeatedly extract digits from the number and compute their sum until the result becomes a single-digit number.

We can break down the approach into two distinct phases:
1. **Extract and Sum Digits**: For each pass, we break the number down into its individual digits, sum them, and repeat this process if the result is still greater than 9.
2. **Termination Condition**: We continue the process until the result is a single-digit number.

An optimal solution needs to perform this operation efficiently, without requiring multiple full iterations through the number unnecessarily.

### Code Breakdown (Step by Step)

Letâ€™s break down the implementation of the `addDigits` function:

```cpp
class Solution {
public:
    int addDigits(int num) {
```
- We define a function `addDigits` within the class `Solution` that takes an integer `num` as input. The goal is to reduce `num` to a single-digit number by summing its digits repeatedly.

```cpp
        int res = 0;
```
- We initialize a variable `res` to 0. This variable will store the sum of the digits in the current iteration.

```cpp
        while(num > 9) {
```
- We enter a `while` loop that runs as long as `num` is greater than 9. This loop ensures we continue the process until `num` is reduced to a single digit.

```cpp
            while(num > 0) {
                res += num % 10;
                num /= 10;
            }
```
- Inside this loop, we perform the following steps:
  1. **Extract Last Digit**: `num % 10` gives the last digit of the number. We add this digit to `res`.
  2. **Remove Last Digit**: `num /= 10` removes the last digit from `num` by dividing it by 10.

- This inner loop ensures that all digits of `num` are summed up in `res`.

```cpp
            num = res;
            res = 0;
```
- After summing the digits of `num`, we assign `res` back to `num`, effectively reducing `num` to the sum of its digits. We reset `res` to 0 for the next iteration.

```cpp
        }
        return num;
    }
};
```
- The outer `while` loop continues until `num` is a single digit (i.e., `num` is no longer greater than 9). At this point, we return `num`, which is the final single-digit result.

### Complexity

#### Time Complexity:
- **O(d)**, where `d` is the number of digits in `num`. This is because, in the worst case, we need to sum the digits of `num` multiple times. Each time, the number of digits reduces by roughly a factor of 10 (since the sum of digits is generally smaller than the original number). Hence, the loop runs for a number of iterations proportional to the number of digits in the input.

- **Worst-Case Example**: For an input of `num = 999999999`, the first iteration would sum the digits to `81`. The next iteration would sum the digits of `81` to `9`, which is the final result. In this case, we have a constant number of iterations (2).

#### Space Complexity:
- **O(1)**, constant space. We are only using a few variables (`num`, `res`), regardless of the size of the input number. No additional space is used that grows with the input size.

### Conclusion

The solution effectively computes the digit root of a number by repeatedly summing its digits until a single digit is obtained. The approach used is both time-efficient and space-efficient, making it suitable for solving problems involving digit manipulation or number reduction.

#### Key Points:
1. **Efficient Calculation**: By using a simple iterative process, the solution efficiently reduces the number to a single digit.
2. **Time Complexity**: The time complexity is linear with respect to the number of digits in `num`, but typically requires only a few iterations, making it fast for typical inputs.
3. **Space Complexity**: The solution is space-efficient, requiring only a constant amount of extra space for the `res` variable.
4. **Practicality**: This method can be used in scenarios where we need to reduce a number to its "digit root," which is often needed in problems involving checksums or number properties.

This approach is a straightforward implementation that leverages basic operations to solve the problem effectively, ensuring that it works for a wide range of input sizes with minimal overhead.