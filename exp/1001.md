Solution for Grid Illumination Problem: Explanation and Step-by-Step Guide
==========================================================================

Problem Statement
-----------------

The **Grid Illumination Problem** involves a grid with n rows and n columns, where we have several lamps and a list of queries. Each lamp illuminates its entire row, column, and both diagonals. Given a list of lamps and queries, we need to determine if each query cell is illuminated, and if so, turn off any surrounding lamps within a one-cell distance.

Our goal is to return a list of results where each entry is 1 if the cell in the query is illuminated or 0 if it’s not.


Approach and Solution
---------------------

The approach relies on efficiently storing illumination information for each row, column, and diagonal using hash maps. This reduces the time complexity by allowing quick access to illumination states. We also use a set to track each lamp’s exact position, making it easy to toggle illumination on or off for specific cells and their neighbors.

Here’s a detailed breakdown of each step in the solution:

### Step 1: Initialize Hash Maps and Sets

1.  **Define four hash maps**:
    
    *   x for rows
        
    *   y for columns
        
    *   a\_d for ascending diagonals
        
    *   d\_d for descending diagonals
        
2.  **Define a set** to store the unique coordinates of each lamp to avoid duplications.
    

### Step 2: Populate Illumination Information

1.  Loop through each lamp in the lamps list.
    
2.  For each lamp, if it’s not already in the set, add it.
    
3.  Update the hash maps:
    
    *   Increment the count in x for the lamp's row.
        
    *   Increment the count in y for the lamp's column.
        
    *   Increment the count in a\_d and d\_d for its diagonals.
        

### Step 3: Process Each Query

1.  Initialize an empty result list res.
    
2.  For each query in queries:
    
    *   Check if the query cell is illuminated by verifying if any value in x, y, a\_d, or d\_d for the query coordinates is greater than zero.
        
3.  If the cell is illuminated:
    
    *   Add 1 to the res list.
        
    *   Turn off surrounding lamps within a one-cell radius of the query cell. For each surrounding cell:
        
        *   If it’s in the set, remove it and decrement the illumination counts for its row, column, and diagonals.
            
4.  If the cell is not illuminated, add 0 to the result list.
    

### Step 4: Return the Result

After processing all queries, return the res list with illumination statuses for each query.

Complexity Analysis
-------------------

### Time Complexity

*   **O(L + Q)**, where L is the number of lamps and Q is the number of queries.
    

### Space Complexity

*   **O(L)** for storing the lamp positions in the set and illumination counts in the hash maps.
    

Conclusion
----------

This solution provides an efficient approach to solve the **Grid Illumination Problem** using hash maps for quick access and a set for tracking lamp positions. It is optimized to handle large grids and a high number of queries with minimal complexity.

This solution’s use of hash maps is crucial for fast lookups, making it an excellent fit for real-world scenarios involving grid illumination and query processing.