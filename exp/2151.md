### Problem Statement
Given an integer array `nums` and an integer `o` (initial value), the task is to repeatedly double `o` until `o` no longer exists in the `nums` array or exceeds 1000. Return the final value of `o` after performing this operation.

### Approach
The problem can be solved using a simple and efficient approach that involves tracking the presence of numbers up to 1000 using an array as a frequency table. By storing the occurrences of elements from `nums`, the solution can check whether `o` exists in the array and double it if necessary. The process continues until `o` is greater than 1000 or is not present in the array.

### Code Breakdown (Step by Step)
1. **Initialization of the Frequency Array:**
   ```cpp
   int h[1001] = {};
   ```
   - This array `h` is used as a simple hash table to store the presence of numbers from 0 to 1000. The array is initialized to 0, indicating no number has been seen yet.

2. **Populating the Frequency Array:**
   ```cpp
   for(auto i: nums) h[i]++;
   ```
   - Iterate over each element in `nums` and increment the value in `h` at the index corresponding to each number. This effectively marks which numbers are present in `nums`.

3. **Doubling Process:**
   ```cpp
   while(o <= 1000 && h[o])
       o *= 2;
   ```
   - Check if `o` is within the range (<= 1000) and if it exists in `nums` (checked using `h[o]`).
   - If both conditions are met, double `o` (`o *= 2`) and repeat the process.
   - The loop stops when `o` exceeds 1000 or when `o` is not found in `nums`.

4. **Return Result:**
   ```cpp
   return o;
   ```
   - Return the final value of `o` after it no longer exists in `nums` or has become greater than 1000.

### Complexity
- **Time Complexity**: 
  - The solution has a time complexity of O(n), where `n` is the size of `nums`. This is due to the initial population of the `h` array and the subsequent `while` loop that runs a constant number of times (bounded by the maximum value of 1000).
- **Space Complexity**: 
  - The space complexity is O(1), as the auxiliary space used by `h` is constant, limited to a fixed size of 1001.

### Conclusion
This code is an optimized solution for finding the final value of `o` when repeatedly doubling it until it no longer exists in `nums` or exceeds 1000. The use of an array as a frequency table allows for O(1) lookups and ensures efficient checks. This method strikes an excellent balance between simplicity and performance, making it suitable for scenarios with constraints up to 1000.